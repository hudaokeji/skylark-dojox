/**
 * dojox - A version of dojox.js framework that ported to running on skylarkjs.
 * @author Hudaokeji, Inc.
 * @version v0.9.0
 * @link https://github.com/skylark-integration/dojox/
 * @license MIT
 */
define(["../..","dojo/_base/lang","dojo/_base/array","dojo/date","dojo/i18n","dojo/regexp","dojo/string","./Date","./numerals","dojo/i18n!dojo/cldr/nls/hebrew"],function(e,a,r,t,o,s,n,c,i){var l=a.getObject("date.hebrew.locale",!0,e);function u(e,a,r,t,o){return o.replace(/([a-z])\1*/gi,function(t){var s,c,u=t.charAt(0),m=t.length,d=["abbr","wide","narrow"];switch(u){case"G":s=a[m<4?"eraAbbr":"eraNames"][0];break;case"y":s=r.match(/^he(?:-.+)?$/)?i.getYearHebrewLetters(e.getFullYear()):String(e.getFullYear());break;case"M":var h=e.getMonth();if(m<3)!e.isLeapYear(e.getFullYear())&&h>5&&h--,r.match(/^he(?:-.+)?$/)?s=i.getMonthHebrewLetters(h):(s=h+1,c=!0);else s=l.getNames("months",d[m-3],"format",r,e)[h];break;case"d":r.match(/^he(?:-.+)?$/)?s=e.getDateLocalized(r):(s=e.getDate(),c=!0);break;case"E":var b=e.getDay();if(m<3)s=b+1,c=!0;else{var f=["days","format",d[m-3]].join("-");s=a[f][b]}break;case"a":var g=e.getHours()<12?"am":"pm";s=a["dayPeriods-format-wide-"+g];break;case"h":case"H":case"K":case"k":var p=e.getHours();switch(u){case"h":s=p%12||12;break;case"H":s=p;break;case"K":s=p%12;break;case"k":s=p||24}c=!0;break;case"m":s=e.getMinutes(),c=!0;break;case"s":s=e.getSeconds(),c=!0;break;case"S":s=Math.round(e.getMilliseconds()*Math.pow(10,m-3)),c=!0;break;case"z":s="";break;default:throw new Error("dojox.date.hebrew.locale.formatPattern: invalid pattern char: "+o)}return c&&(s=n.pad(s,m)),s})}function m(e,a,t,o){var s=function(e){return e};a=a||s,t=t||s,o=o||s;var n=e.match(/(''|[^'])+/g),c="'"==e.charAt(0);return r.forEach(n,function(e,r){e?(n[r]=(c?t:a)(e),c=!c):n[r]=""}),o(n.join(""))}function d(e,a,r,t){t=s.escapeString(t);var n=o.normalizeLocale(r.locale);return t.replace(/([a-z])\1*/gi,function(t){var o,s=t.charAt(0),c=t.length,i="";switch(r.strict?(c>1&&(i="0{"+(c-1)+"}"),c>2&&"0{"+(c-2)+"}"):(i="0?","0{0,2}"),s){case"y":o="\\S+";break;case"M":o=n.match("^he(?:-.+)?$")?c>2?"\\S+ ?\\S+":"\\S{1,4}":c>2?"\\S+ ?\\S+":i+"[1-9]|1[0-3]";break;case"d":o=n.match("^he(?:-.+)?$")?"\\S['\"'×³]{1,2}\\S?":"[12]\\d|"+i+"[1-9]|30";break;case"E":o=n.match("^he(?:-.+)?$")?c>3?"\\S+ ?\\S+":"\\S":"\\S+";break;case"h":o=i+"[1-9]|1[0-2]";break;case"k":o=i+"\\d|1[01]";break;case"H":o=i+"\\d|1\\d|2[0-3]";break;case"K":o=i+"[1-9]|1\\d|2[0-4]";break;case"m":case"s":o=i+"\\d|[0-5]\\d";break;case"S":o="\\d{"+c+"}";break;case"a":var l=r.am||a["dayPeriods-format-wide-am"],u=r.pm||a["dayPeriods-format-wide-pm"];r.strict?o=l+"|"+u:(o=l+"|"+u,l!=l.toLowerCase()&&(o+="|"+l.toLowerCase()),u!=u.toLowerCase()&&(o+="|"+u.toLowerCase()));break;default:o=".*"}return e&&e.push(t),"("+o+")"}).replace(/[\xa0 ]/g,"[\\s\\xa0]")}o.getLocalization("dojo.cldr","hebrew"),l.format=function(e,r){r=r||{};var t=o.normalizeLocale(r.locale),s=r.formatLength||"short",n=l._getHebrewBundle(t),c=[],d=a.hitch(this,u,e,n,t,r.fullYear);if("year"==r.selector){var h=e.getFullYear();return t.match(/^he(?:-.+)?$/)?i.getYearHebrewLetters(h):h}if("time"!=r.selector){var b=r.datePattern||n["dateFormat-"+s];b&&c.push(m(b,d))}if("date"!=r.selector){var f=r.timePattern||n["timeFormat-"+s];f&&c.push(m(f,d))}return c.join(" ")},l.regexp=function(e){return l._parseInfo(e).regexp},l._parseInfo=function(e){e=e||{};var r=o.normalizeLocale(e.locale),t=l._getHebrewBundle(r),s=e.formatLength||"short",n=e.datePattern||t["dateFormat-"+s],c=e.timePattern||t["timeFormat-"+s],i=[];return{regexp:m("date"==e.selector?n:"time"==e.selector?c:void 0===c?n:n+" "+c,a.hitch(this,d,i,t,e)),tokens:i,bundle:t}},l.parse=function(e,a){e=e.replace(/[\u200E\u200F\u202A-\u202E]/g,""),a||(a={});var t=l._parseInfo(a),s=t.tokens,n=t.bundle,u=new RegExp("^"+t.regexp+"$").exec(e),m=o.normalizeLocale(a.locale);if(!u)return null;var d=[5730,3,23,0,0,0,0],h="",b=0,f=["abbr","wide","narrow"],g=(r.every(u,function(e,t){if(!t)return!0;var o=s[t-1],u=o.length;switch(o.charAt(0)){case"y":m.match(/^he(?:-.+)?$/)?d[0]=i.parseYearHebrewLetters(e):d[0]=Number(e);break;case"M":if(u>2){var g=l.getNames("months",f[u-3],"format",m,new c(5769,1,1)),p=l.getNames("months",f[u-3],"format",m,new c(5768,1,1));a.strict||(e=e.replace(".","").toLowerCase(),g=r.map(g,function(e){return e?e.replace(".","").toLowerCase():e}),p=r.map(p,function(e){return e?e.replace(".","").toLowerCase():e}));var w=e;if(-1==(e=r.indexOf(g,w))&&-1==(e=r.indexOf(p,w)))return!1;b=u}else m.match(/^he(?:-.+)?$/)?e=i.parseMonthHebrewLetters(e):e--;d[1]=Number(e);break;case"D":d[1]=0;case"d":m.match(/^he(?:-.+)?$/)?d[2]=i.parseDayHebrewLetters(e):d[2]=Number(e);break;case"a":var k=a.am||n["dayPeriods-format-wide-am"],v=a.pm||n["dayPeriods-format-wide-pm"];if(!a.strict){var L=/\./g;e=e.replace(L,"").toLowerCase(),k=k.replace(L,"").toLowerCase(),v=v.replace(L,"").toLowerCase()}if(a.strict&&e!=k&&e!=v)return!1;h=e==v?"p":e==k?"a":"";break;case"K":24==e&&(e=0);case"h":case"H":case"k":d[3]=Number(e);break;case"m":d[4]=Number(e);break;case"s":d[5]=Number(e);break;case"S":d[6]=Number(e)}return!0}),+d[3]);"p"===h&&g<12?d[3]=g+12:"a"===h&&12==g&&(d[3]=0);var p=new c(d[0],d[1],d[2],d[3],d[4],d[5],d[6]);return b<3&&d[1]>=5&&!p.isLeapYear(p.getFullYear())&&p.setMonth(d[1]+1),p};var h=[];return l.addCustomFormats=function(e,a){h.push({pkg:e,name:a})},l._getHebrewBundle=function(e){var t={};return r.forEach(h,function(r){var s=o.getLocalization(r.pkg,r.name,e);t=a.mixin(t,s)},this),t},l.addCustomFormats("dojo.cldr","hebrew"),l.getNames=function(e,a,r,t,o){var s,n=l._getHebrewBundle(t),c=[e,r,a];"standAlone"==r&&(1==(s=n[c.join("-")])[0]&&(s=void 0));c[1]="format";var i=(s||n[c.join("-")]).concat();return"months"==e&&(o.isLeapYear(o.getFullYear())?(c.push("leap"),i[6]=n[c.join("-")]):delete i[5]),i},l});
//# sourceMappingURL=../../sourcemaps/date/hebrew/locale.js.map
