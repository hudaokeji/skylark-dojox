/**
 * dojox - A version of dojox.js framework that ported to running on skylarkjs.
 * @author Hudaokeji, Inc.
 * @version v0.9.0
 * @link https://github.com/skylark-integration/dojox/
 * @license MIT
 */
define(["dojo/_base/array","dojo/_base/declare","dojo/_base/event","dojo/_base/lang","dojo/_base/sniff","dojo/_base/fx","dojo/dom","dojo/dom-class","dojo/dom-style","dojo/dom-geometry","dojo/dom-construct","dojo/on","dojo/date","dojo/date/locale","dojo/query","dojox/html/metrics","./SimpleColumnView","dojo/text!./templates/ColumnView.html","./ColumnViewSecondarySheet"],function(e,t,n,o,s,i,r,h,d,a,c,l,y,S,u,f,_,m,g){return t("dojox.calendar.ColumnView",_,{templateString:m,baseClass:"dojoxCalendarColumnView",secondarySheetClass:g,secondarySheetProps:null,headerPadding:3,_showSecondarySheet:!0,buildRendering:function(){if(this.inherited(arguments),this.secondarySheetNode){var e=o.mixin({owner:this},this.secondarySheetProps);this.secondarySheet=new this.secondarySheetClass(e,this.secondarySheetNode),this.secondarySheetNode=this.secondarySheet.domNode}},destroy:function(e){this.secondarySheet&&this.secondarySheet.destroy(e),this.inherited(arguments)},_setVisibility:function(e){this.inherited(arguments),this.secondarySheet&&this.secondarySheet._setVisibility(e)},resize:function(e){this.inherited(arguments),this.secondarySheet&&this.secondarySheet.resize()},invalidateLayout:function(){this._layoutRenderers(this.renderData),this.secondarySheet&&this.secondarySheet._layoutRenderers(this.secondarySheet.renderData)},onRowHeaderClick:function(e){},_setSubColumnsAttr:function(e){this.get("subColumns")!=e&&(this._secondaryHeightInvalidated=!0),this._set("subColumns",e)},refreshRendering:function(){if(this.inherited(arguments),this._secondaryHeightInvalidated){this._secondaryHeightInvalidated=!1;var e=a.getMarginBox(this.secondarySheetNode).h;this.resizeSecondarySheet(e)}},resizeSecondarySheet:function(e){if(this.secondarySheetNode){var t=a.getMarginBox(this.header).h;d.set(this.secondarySheetNode,"height",e+"px"),this.secondarySheet._resizeHandler(null,!0);var n=e+t+this.headerPadding;this.subHeader&&this.subColumns&&(d.set(this.subHeader,"top",n+"px"),n+=a.getMarginBox(this.subHeader).h),d.set(this.scrollContainer,"top",n+"px"),this.vScrollBar&&d.set(this.vScrollBar,"top",n+"px")}},updateRenderers:function(e,t){this.inherited(arguments),this.secondarySheet&&this.secondarySheet.updateRenderers(e,t)},_setItemsAttr:function(e){this.inherited(arguments),this.secondarySheet&&this.secondarySheet.set("items",e)},_setDecorationItemsAttr:function(e){this.inherited(arguments),this.secondarySheet&&this.secondarySheet.set("decorationItems",e)},_setStartDateAttr:function(e){this.inherited(arguments),this.secondarySheet&&this.secondarySheet.set("startDate",e)},_setColumnCountAttr:function(e){this.inherited(arguments),this.secondarySheet&&this.secondarySheet.set("columnCount",e)},_setHorizontalRendererAttr:function(e){this.secondarySheet&&this.secondarySheet.set("horizontalRenderer",e)},_getHorizontalRendererAttr:function(){return this.secondarySheet?this.secondarySheet.get("horizontalRenderer"):null},_setHorizontalDecorationRendererAttr:function(e){this.inherited(arguments),this.secondarySheet&&this.secondarySheet.set("horizontalDecorationRenderer",e)},_getHorizontalRendererAttr:function(){return this.secondarySheet?this.secondarySheet.get("horizontalDecorationRenderer"):null},_setExpandRendererAttr:function(e){this.secondarySheet&&this.secondarySheet.set("expandRenderer",e)},_getExpandRendererAttr:function(){return this.secondarySheet?this.secondarySheet.get("expandRenderer"):null},_setTextDirAttr:function(e){this.secondarySheet.set("textDir",e),this._set("textDir",e)},_defaultItemToRendererKindFunc:function(e){return e.allDay?null:"vertical"},getSecondarySheet:function(){return this.secondarySheet},_onGridTouchStart:function(e){this.inherited(arguments),this._doEndItemEditing(this.secondarySheet,"touch")},_onGridMouseDown:function(e){this.inherited(arguments),this._doEndItemEditing(this.secondarySheet,"mouse")},_configureScrollBar:function(t){if(this.inherited(arguments),this.secondarySheetNode){var n=!!this.isLeftToRight()||"right"==this.scrollBarRTLPosition;d.set(this.secondarySheetNode,n?"right":"left",t.scrollbarWidth+"px"),d.set(this.secondarySheetNode,n?"left":"right","0"),e.forEach(this.secondarySheet._hScrollNodes,function(e){h[t.hScrollBarEnabled?"add":"remove"](e.parentNode,"dojoxCalendarHorizontalScroll")},this)}},_configureHScrollDomNodes:function(e){this.inherited(arguments),this.secondarySheet&&this.secondarySheet._configureHScrollDomNodes&&this.secondarySheet._configureHScrollDomNodes(e)},_setHScrollPosition:function(e){this.inherited(arguments),this.secondarySheet&&this.secondarySheet._setHScrollPosition(e)},_refreshItemsRendering:function(){if(this.inherited(arguments),this.secondarySheet){var e=this.secondarySheet.renderData;this.secondarySheet._computeVisibleItems(e),this.secondarySheet._layoutRenderers(e)}},_layoutRenderers:function(e){this.secondarySheet._domReady||(this.secondarySheet._domReady=!0,this.secondarySheet._layoutRenderers(this.secondarySheet.renderData)),this.inherited(arguments)},_layoutDecorationRenderers:function(e){this.secondarySheet._decDomReady||(this.secondarySheet._decDomReady=!0,this.secondarySheet._layoutDecorationRenderers(this.secondarySheet.renderData)),this.inherited(arguments)},invalidateRendering:function(){this.secondarySheet&&this.secondarySheet.invalidateRendering(),this.inherited(arguments)}})});
//# sourceMappingURL=../sourcemaps/calendar/ColumnView.js.map
