/**
 * dojox - A version of dojox.js framework that ported to running on skylarkjs.
 * @author Hudaokeji, Inc.
 * @version v0.9.0
 * @link https://github.com/skylark-integration/dojox/
 * @license MIT
 */
define(["dojo/_base/kernel","dojo/dom-style","dojo/_base/lang","dojo/_base/html","dojo/_base/sniff","dojo/_base/window","dojo/dom","dojo/dom-construct","dojo/dom-style","dojo/dom-attr"],function(t,r,e,a,o,s,n,i,l,f){t.experimental("dojox.html.ext-dojo.style");e.getObject("dojox.html.ext-dojo.style",!0);var p=e.getObject("dojox.html");return e.mixin(p["ext-dojo"].style,{supportsTransform:!0,_toPx:function(t){var r=a.style,e=this._conversion;return"number"==typeof t?t+"px":-1!=t.toLowerCase().indexOf("px")?t:(!e.parentNode&&i.place(e,s.body()),r(e,"margin",t),r(e,"margin"))},init:function(){var t=s.doc.documentElement.style,r=p["ext-dojo"].style,e=l.get,a=l.set;l.get=function(t,a){var o="transformOrigin"==a;return"transform"==a?r.getTransform(t):o?r.getTransformOrigin(t):e.apply(this,arguments)},l.set=function(t,e,o){var s="transform"==e,i="transformOrigin"==e,l=n.byId(t);return s?r.setTransform(l,o,!0):i?r.setTransformOrigin(l,o):a.apply(this,arguments)};for(var f=0,m=["WebkitT","MozT","OT","msT","t"];f<m.length;f++)void 0!==t[m[f]+"ransform"]&&(this.tPropertyName=m[f]+"ransform"),void 0!==t[m[f]+"ransformOrigin"]&&(this.toPropertyName=m[f]+"ransformOrigin");this.tPropertyName?(this.setTransform=function(t,r){return a(t,this.tPropertyName,r)},this.getTransform=function(t){return e(t,this.tPropertyName)}):o("ie")&&(this.setTransform=this._setTransformFilter,this.getTransform=this._getTransformFilter),this.toPropertyName?(this.setTransformOrigin=function(t,r){return a(t,this.toPropertyName,r)},this.getTransformOrigin=function(t){return e(t,this.toPropertyName)}):o("ie")?(this.setTransformOrigin=this._setTransformOriginFilter,this.getTransformOrigin=this._getTransformOriginFilter):this.supportsTransform=!1,this._conversion=i.create("div",{style:{position:"absolute",top:"-100px",left:"-100px",fontSize:0,width:"0",backgroundPosition:"50% 50%"}})},_notSupported:function(){console.warn("Sorry, this browser doesn't support transform and transform-origin")},_setTransformOriginFilter:function(t,r){for(var o=e.trim(r).replace(" top"," 0").replace("left ","0 ").replace(" center","50%").replace("center ","50% ").replace(" bottom"," 100%").replace("right ","100% ").replace(/\s+/," ").split(" "),s=n.byId(t),i=this.getTransform(s),l=!0,f=0;f<o.length;f++)l=l&&/^0|(\d+(%|px|pt|in|pc|mm|cm))$/.test(o[f]),-1==o[f].indexOf("%")&&(o[f]=this._toPx(o[f]));return!l||!o.length||o.length>2?r:(a.attr(s,"dojo-transform-origin",o.join(" ")),i&&this.setTransform(t,i),r)},_getTransformOriginFilter:function(t){return a.attr(t,"dojo-transform-origin")||"50% 50%"},_setTransformFilter:function(t,r){var e,s,i,l=r.replace(/\s/g,""),p=n.byId(t),m=l.split(")"),d=1,g=1,c="DXImageTransform.Microsoft.Matrix",h=f.has,x=a.attr,u=Math.PI,y=Math.cos,j=Math.sin,b=Math.tan,T=Math.max,O=Math.min,I=Math.abs,v=u/180,M=u/200,k="",_=[],w=0,F=0,P=0,X=0,Y=1,N=0,z=0,S=1,D=0,L=0,B=[Y,N,z,S,D,L],C=!1,E=a.style,R="absolute"==E(p,"position")?"absolute":"relative",W=E(p,"width")+E(p,"paddingLeft")+E(p,"paddingRight"),$=E(p,"height")+E(p,"paddingTop")+E(p,"paddingBottom"),q=this._toPx;!h(p,"dojo-transform-origin")&&this.setTransformOrigin(p,"50% 50%");for(var A=0,G=m.length;A<G;A++){switch((_=m[A].match(/matrix|rotate|scaleX|scaleY|scale|skewX|skewY|skew|translateX|translateY|translate/))?_[0]:""){case"matrix":var H=(k=m[A].replace(/matrix\(|\)/g,"")).split(",");Y=B[0]*H[0]+B[1]*H[2],N=B[0]*H[1]+B[1]*H[3],z=B[2]*H[0]+B[3]*H[2],S=B[2]*H[1]+B[3]*H[3],D=B[4]+H[4],L=B[5]+H[5];break;case"rotate":d=-1!=(k=m[A].replace(/rotate\(|\)/g,"")).indexOf("deg")?v:-1!=k.indexOf("grad")?M:1;var J=j(X=parseFloat(k)*d),K=y(X);Y=B[0]*K+B[1]*J,N=-B[0]*J+B[1]*K,z=B[2]*K+B[3]*J,S=-B[2]*J+B[3]*K;break;case"skewX":d=-1!=(k=m[A].replace(/skewX\(|\)/g,"")).indexOf("deg")?v:-1!=k.indexOf("grad")?M:1;var Q=b(parseFloat(k)*d);Y=B[0],N=B[0]*Q+B[1],z=B[2],S=B[2]*Q+B[3];break;case"skewY":d=-1!=(k=m[A].replace(/skewY\(|\)/g,"")).indexOf("deg")?v:-1!=k.indexOf("grad")?M:1,Q=b(parseFloat(k)*d),Y=B[0]+B[1]*Q,N=B[1],z=B[2]+B[3]*Q,S=B[3];break;case"skew":var U=(k=m[A].replace(/skew\(|\)/g,"")).split(",");U[1]=U[1]||"0",d=-1!=U[0].indexOf("deg")?v:-1!=U[0].indexOf("grad")?M:1,g=-1!=U[1].indexOf("deg")?v:-1!=U[1].indexOf("grad")?M:1;var V=b(parseFloat(U[0])*d),Z=b(parseFloat(U[1])*g);Y=B[0]+B[1]*Z,N=B[0]*V+B[1],z=B[2]+B[3]*Z,S=B[2]*V+B[3];break;case"scaleX":k=parseFloat(m[A].replace(/scaleX\(|\)/g,""))||1,Y=B[0]*k,N=B[1],z=B[2]*k,S=B[3];break;case"scaleY":k=parseFloat(m[A].replace(/scaleY\(|\)/g,""))||1,Y=B[0],N=B[1]*k,z=B[2],S=B[3]*k;break;case"scale":var tt=(k=m[A].replace(/scale\(|\)/g,"")).split(",");tt[1]=tt[1]||tt[0],Y=B[0]*tt[0],N=B[1]*tt[1],z=B[2]*tt[0],S=B[3]*tt[1];break;case"translateX":k=parseInt(m[A].replace(/translateX\(|\)/g,""))||1,Y=B[0],N=B[1],z=B[2],S=B[3],(D=q(k))&&x(p,"dojo-transform-matrix-tx",D);break;case"translateY":k=parseInt(m[A].replace(/translateY\(|\)/g,""))||1,Y=B[0],N=B[1],z=B[2],S=B[3],(L=q(k))&&x(p,"dojo-transform-matrix-ty",L);break;case"translate":k=m[A].replace(/translate\(|\)/g,""),Y=B[0],N=B[1],z=B[2],S=B[3];var rt=k.split(",");rt[0]=parseInt(q(rt[0]))||0,rt[1]=parseInt(q(rt[1]))||0,D=rt[0],L=rt[1],D&&x(p,"dojo-transform-matrix-tx",D),L&&x(p,"dojo-transform-matrix-ty",L)}B=[Y,N,z,S,D,L]}if(P=-O(W*Y+$*N,O(O(W*Y,$*N),0)),e=-O(W*z+$*S,O(O(W*z,$*S),0)),o("ie")<8){if(p.style.zoom="1","absolute"!=R){var et=E(t.parentNode,"width"),at=I(W*Y),ot=I($*N),st=T(at+ot,T(T(ot,at),0));P-=(st-W)/2-(et>st?0:(st-et)/2)}}else 8==o("ie")&&"auto"==E(p,"zIndex")&&(p.style.zIndex="0");try{C=!!p.filters.item(c)}catch(t){C=!1}C?(p.filters.item(c).M11=Y,p.filters.item(c).M12=N,p.filters.item(c).M21=z,p.filters.item(c).M22=S,p.filters.item(c).filterType="bilinear",p.filters.item(c).Dx=0,p.filters.item(c).Dy=0,p.filters.item(c).sizingMethod="auto expand"):p.style.filter+=" progid:"+c+"(M11="+Y+",M12="+N+",M21="+z+",M22="+S+",FilterType='bilinear',Dx=0,Dy=0,sizingMethod='auto expand')",D=parseInt(x(p,"dojo-transform-matrix-tx")||"0"),L=parseInt(x(p,"dojo-transform-matrix-ty")||"0");var nt=x(p,"dojo-transform-origin").split(" ");for(A=0;A<2;A++)nt[A]=nt[A]||"50%";return s=-1!=nt[0].toString().indexOf("%")?W*parseInt(nt[0])*.01:nt[0],i=-1!=nt[1].toString().indexOf("%")?$*parseInt(nt[1])*.01:nt[1],h(p,"dojo-startX")?w=parseInt(x(p,"dojo-startX")):(w=parseInt(E(p,"left")),x(p,"dojo-startX","absolute"==R?w:"0")),h(p,"dojo-startY")?F=parseInt(x(p,"dojo-startY")):(F=parseInt(E(p,"top")),x(p,"dojo-startY","absolute"==R?F:"0")),E(p,{position:R,left:w-parseInt(P)+parseInt(s)-((parseInt(s)-D)*Y+(parseInt(i)-L)*N)+"px",top:F-parseInt(e)+parseInt(i)-((parseInt(s)-D)*z+(parseInt(i)-L)*S)+"px"}),r},_getTransformFilter:function(t){try{var r=n.byId(t).filters.item(0);return"matrix("+r.M11+", "+r.M12+", "+r.M21+", "+r.M22+", "+(a.attr(t,"dojo-transform-tx")||"0")+", "+(a.attr(t,"dojo-transform-ty")||"0")+")"}catch(t){return"matrix(1, 0, 0, 1, 0, 0)"}},setTransform:function(){this._notSupported()},setTransformOrigin:function(){this._notSupported()}}),p["ext-dojo"].style.init(),a.style});
//# sourceMappingURL=../../sourcemaps/html/ext-dojo/style.js.map
