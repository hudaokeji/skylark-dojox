/**
 * dojox - A version of dojox.js framework that ported to running on skylarkjs.
 * @author Hudaokeji, Inc.
 * @version v0.9.0
 * @link https://github.com/skylark-integration/dojox/
 * @license MIT
 */
dojo.provide("dojox.data.tests.stores.WikipediaStore"),dojo.require("dojox.data.WikipediaStore"),dojo.require("dojo.data.api.Read"),dojo.require("dojo.data.api.Identity"),dojox.data.tests.stores.WikipediaStore.getStore=function(){return new dojox.data.WikipediaStore},dojox.data.tests.stores.WikipediaStore.error=function(t,e,o){e.errback(o)},doh.register("dojox.data.tests.stores.WikipediaStore",[{name:"ReadAPI: containsValue",timeout:3e4,runTest:function(t){var e=dojox.data.tests.stores.WikipediaStore.getStore(),o=new doh.Deferred;return e.fetch({query:{title:"Main Page"},onComplete:function(r,a){t.is(1,r.length),t.t(e.containsValue(r[0],"title","Main Page")),o.callback(!0)},onError:dojo.partial(dojox.data.tests.stores.WikipediaStore.error,t,o)}),o}},{name:"ReadAPI: fetch (one)",timeout:3e4,runTest:function(t){var e=dojox.data.tests.stores.WikipediaStore.getStore(),o=new doh.Deferred;return e.fetch({query:{title:"Main Page"},onItem:function(e,r){t.t(e.title&&e.title.length&&e.title.length>0),o.callback(!0)},onError:dojo.partial(dojox.data.tests.stores.WikipediaStore.error,doh,o)}),o}},{name:"ReadAPI: fetch (query 30)",timeout:3e4,runTest:function(t){var e=dojox.data.tests.stores.WikipediaStore.getStore(),o=new doh.Deferred;return e.fetch({query:{action:"query",text:"dojo"},count:30,onComplete:function(e,r){t.is(30,e.length),o.callback(!0)},onError:dojo.partial(dojox.data.tests.stores.WikipediaStore.error,t,o)}),o}},{name:"ReadAPI: fetch (paged)",timeout:3e4,runTest:function(t){var e=dojox.data.tests.stores.WikipediaStore.getStore(),o=new doh.Deferred,r=0;return e.fetch({query:{action:"query",text:"dojo"},count:15,onComplete:function(a,i){t.is(15,a.length),r=a.length,e.fetch({query:{action:"query",text:"dojo"},start:r+1,count:15,onComplete:function(e,a){t.is(30,r+e.length),o.callback(!0)}})},onError:dojo.partial(dojox.data.tests.stores.WikipediaStore.error,t,o)}),o}},{name:"ReadAPI: getAttributes",timeout:3e4,runTest:function(t){var e=dojox.data.tests.stores.WikipediaStore.getStore(),o=new doh.Deferred;return e.fetch({query:{title:"Main Page"},onComplete:function(r,a){t.is(1,r.length),t.t(e.isItem(r[0])),t.t(e.getAttributes(r[0]).length>0),o.callback(!0)},onError:dojo.partial(dojox.data.tests.stores.WikipediaStore.error,t,o)}),o}},{name:"ReadAPI: getLabel",timeout:3e4,runTest:function(t){var e=dojox.data.tests.stores.WikipediaStore.getStore(),o=new doh.Deferred;return e.fetch({query:{action:"query",text:"dojo"},count:1,onComplete:function(r,a){t.is(1,r.length),t.t(null!==e.getLabel(r[0])),o.callback(!0)},onError:dojo.partial(dojox.data.tests.stores.WikipediaStore.error,t,o)}),o}},{name:"ReadAPI: getLabelAttributes",timeout:3e4,runTest:function(t){var e=dojox.data.tests.stores.WikipediaStore.getStore(),o=new doh.Deferred;return e.fetch({query:{action:"query",text:"dojo"},count:1,onComplete:function(r,a){t.is(1,r.length);var i=e.getLabelAttributes(r[0]);t.t(dojo.isArray(i)),t.is("title",i[0]),o.callback(!0)},onError:dojo.partial(dojox.data.tests.stores.WikipediaStore.error,t,o)}),o}},{name:"ReadAPI: getValue",timeout:3e4,runTest:function(t){var e=dojox.data.tests.stores.WikipediaStore.getStore(),o=new doh.Deferred;return e.fetch({query:{title:"Main Page"},onComplete:function(r,a){t.is(1,r.length);var i=r[0];t.t(null!==e.getValue(i,"text")),t.t(null!==e.getValue(i,"links")),t.t(null!==e.getValue(i,"categories")),t.t(null!==e.getValue(i,"images")),o.callback(!0)},onError:dojo.partial(dojox.data.tests.stores.WikipediaStore.error,t,o)}),o}},{name:"ReadAPI: getValues",timeout:3e4,runTest:function(t){var e=dojox.data.tests.stores.WikipediaStore.getStore(),o=new doh.Deferred;return e.fetch({query:{title:"Main Page"},onComplete:function(r,a){t.is(1,r.length);var i=r[0];t.t(dojo.isArray(e.getValues(i,"text"))),t.t(dojo.isArray(e.getValues(i,"links"))),t.t(dojo.isArray(e.getValues(i,"categories"))),t.t(dojo.isArray(e.getValues(i,"images"))),o.callback(!0)},onError:dojo.partial(dojox.data.tests.stores.WikipediaStore.error,t,o)}),o}},{name:"ReadAPI: hasAttribute",timeout:3e4,runTest:function(t){var e=dojox.data.tests.stores.WikipediaStore.getStore(),o=new doh.Deferred;return e.fetch({query:{title:"Main Page"},onComplete:function(r,a){t.is(1,r.length);var i=r[0];t.t(null!==i),t.t(e.hasAttribute(i,"title")),t.t(e.hasAttribute(i,"text")),t.t(e.hasAttribute(i,"links")),t.t(e.hasAttribute(i,"categories")),t.t(e.hasAttribute(i,"images")),o.callback(!0)},onError:dojo.partial(dojox.data.tests.stores.WikipediaStore.error,t,o)}),o}},{name:"ReadAPI: isItem",timeout:3e4,runTest:function(t){var e=dojox.data.tests.stores.WikipediaStore.getStore(),o=new doh.Deferred;return e.fetch({query:{action:"query",text:"dojo"},count:10,onComplete:function(r,a){t.is(10,r.length);for(var i=0;i<r.length;i++)t.t(e.isItem(r[i]));o.callback(!0)},onError:dojo.partial(dojox.data.tests.stores.WikipediaStore.error,t,o)}),o}},{name:"ReadAPI: isItemLoaded",timeout:3e4,runTest:function(t){var e=dojox.data.tests.stores.WikipediaStore.getStore(),o=new doh.Deferred;return e.fetch({query:{action:"query",text:"dojo"},count:5,onComplete:function(r,a){t.is(5,r.length),e.loadItem({item:r[0],onItem:function(a,i){t.t(e.isItemLoaded(a)),t.f(e.isItemLoaded(r[1])),o.callback(!0)}})},onError:dojo.partial(dojox.data.tests.stores.WikipediaStore.error,t,o)}),o}},{name:"IdentityAPI: getIdentity",timeout:3e4,runTest:function(t){var e=dojox.data.tests.stores.WikipediaStore.getStore(),o=new doh.Deferred;return e.fetch({query:{title:"Main Page"},onComplete:function(r,a){t.is(1,r.length),t.t(e.isItem(r[0])),t.t("Main Page"===e.getIdentity(r[0])),o.callback(!0)},onError:dojo.partial(dojox.data.tests.stores.WikipediaStore.error,t,o)}),o}},{name:"ReadAPI: loadItem",timeout:3e4,runTest:function(t){var e=dojox.data.tests.stores.WikipediaStore.getStore(),o=new doh.Deferred;return e.fetch({query:{action:"query",text:"dojo"},count:5,onComplete:function(r,a){t.is(5,r.length),t.t(e.isItem(r[0])),t.t(e.getIdentityAttributes(r[0]).length>0),e.loadItem({item:r[0],onItem:function(r,a){t.t(e.isItem(r)),t.t(e.isItemLoaded(r)),o.callback(!0)}})},onError:dojo.partial(dojox.data.tests.stores.WikipediaStore.error,t,o)}),o}},{name:"IdentityAPI: getIdentityAttributes",timeout:3e4,runTest:function(t){var e=dojox.data.tests.stores.WikipediaStore.getStore(),o=new doh.Deferred;return e.fetch({query:{title:"Main Page"},onComplete:function(r,a){t.is(1,r.length),t.t(e.isItem(r[0])),t.t(e.getIdentityAttributes(r[0]).length>0),o.callback(!0)},onError:dojo.partial(dojox.data.tests.stores.WikipediaStore.error,t,o)}),o}},{name:"IdentityAPI: fetchItemByIdentity",timeout:3e4,runTest:function(t){var e=dojox.data.tests.stores.WikipediaStore.getStore(),o=new doh.Deferred;return e.fetch({query:{title:"Main Page"},onComplete:function(r,a){var i=r[0];t.is(1,r.length),t.t(e.isItem(i)),e.fetchItemByIdentity({identity:"Main Page",onItem:function(r,a){t.t(e.isItem(r)),t.t(e.getValue(i,"title")===e.getValue(r,"title")),o.callback(!0)}})},onError:dojo.partial(dojox.data.tests.stores.WikipediaStore.error,t,o)}),o}},function(t){var e=dojox.data.tests.stores.WikipediaStore.getStore().getFeatures(),o=0;for(var r in e)"dojo.data.api.Read"===r&&o++,"dojo.data.api.Identity"===r&&o++;t.assertTrue(2===o)},function(t){var e=dojox.data.tests.stores.WikipediaStore.getStore(),o=new dojo.data.api.Identity,r=!0;for(var a in o)if("_"!==a.toString().charAt(0)&&"function"==typeof o[a]&&"function"!=typeof e[a]){console.log("Error:"+a+" should be a function but is: "+typeof e[a]),r=!1;break}t.assertTrue(r)}]);
//# sourceMappingURL=../../../sourcemaps/data/tests/stores/WikipediaStore.js.map
