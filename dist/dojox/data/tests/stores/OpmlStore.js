/**
 * dojox - A version of dojox.js framework that ported to running on skylarkjs.
 * @author Hudaokeji, Inc.
 * @version v0.9.0
 * @link https://github.com/skylark-integration/dojox/
 * @license MIT
 */
dojo.provide("dojox.data.tests.stores.OpmlStore"),dojo.require("dojox.data.OpmlStore"),dojo.require("dojo.data.api.Read"),dojo.require("dojo.data.api.Identity"),dojox.data.tests.stores.OpmlStore.getDatasource=function(t){var e={};if(dojo.isBrowser)e.url=require.toUrl("dojox/data/tests/"+t).toString();else{switch(t){case"stores/geography.xml":var o="";o+='<?xml version="1.0" encoding="ISO-8859-1"?>\n',o+='\t<opml version="1.0">\n',o+="\t\t<head>\n",o+="\t\t\t<title>geography.opml</title>\n",o+="\t\t\t<dateCreated>2006-11-10</dateCreated>\n",o+="\t\t\t<dateModified>2006-11-13</dateModified>\n",o+="\t\t\t<ownerName>Magellan, Ferdinand</ownerName>\n",o+="\t\t</head>\n",o+="\t\t<body>\n",o+='\t\t\t<outline text="Africa" type="continent">\n',o+='\t\t\t\t<outline text="Egypt" type="country"/>\n',o+='\t\t\t\t<outline text="Kenya" type="country">\n',o+='\t\t\t\t\t<outline text="Nairobi" type="city"/>\n',o+='\t\t\t\t\t<outline text="Mombasa" type="city"/>\n',o+="\t\t\t\t</outline>\n",o+='\t\t\t\t<outline text="Sudan" type="country">\n',o+='\t\t\t\t\t<outline text="Khartoum" type="city"/>\n',o+="\t\t\t\t</outline>\n",o+="\t\t\t</outline>\n",o+='\t\t\t<outline text="Asia" type="continent">\n',o+='\t\t\t\t<outline text="China" type="country"/>\n',o+='\t\t\t\t<outline text="India" type="country"/>\n',o+='\t\t\t\t<outline text="Russia" type="country"/>\n',o+='\t\t\t\t<outline text="Mongolia" type="country"/>\n',o+="\t\t\t</outline>\n",o+='\t\t\t<outline text="Australia" type="continent" population="21 million">\n',o+='\t\t\t\t<outline text="Australia" type="country" population="21 million"/>\n',o+="\t\t\t</outline>\n",o+='\t\t\t<outline text="Europe" type="continent">\n',o+='\t\t\t\t<outline text="Germany" type="country"/>\n',o+='\t\t\t\t<outline text="France" type="country"/>\n',o+='\t\t\t\t<outline text="Spain" type="country"/>\n',o+='\t\t\t\t<outline text="Italy" type="country"/>\n',o+="\t\t\t</outline>\n",o+='\t\t\t<outline text="North America" type="continent">\n',o+='\t\t\t\t<outline text="Mexico" type="country" population="108 million" area="1,972,550 sq km">\n',o+='\t\t\t\t\t<outline text="Mexico City" type="city" population="19 million" timezone="-6 UTC"/>\n',o+='\t\t\t\t\t<outline text="Guadalajara" type="city" population="4 million" timezone="-6 UTC"/>\n',o+="\t\t\t\t</outline>\n",o+='\t\t\t\t<outline text="Canada" type="country" population="33 million" area="9,984,670 sq km">\n',o+='\t\t\t\t\t<outline text="Ottawa" type="city" population="0.9 million" timezone="-5 UTC"/>\n',o+='\t\t\t\t\t<outline text="Toronto" type="city" population="2.5 million" timezone="-5 UTC"/>\n',o+="\t\t\t\t</outline>\n",o+='\t\t\t\t<outline text="United States of America" type="country"/>\n',o+="\t\t\t</outline>\n",o+='\t\t\t<outline text="South America" type="continent">\n',o+='\t\t\t\t<outline text="Brazil" type="country" population="186 million"/>\n',o+='\t\t\t\t<outline text="Argentina" type="country" population="40 million"/>\n',o+="\t\t\t</outline>\n",o+="\t\t</body>\n",o+="\t</opml>\n";break;case"stores/geography_withspeciallabel.xml":o="";o+='<?xml version="1.0" encoding="ISO-8859-1"?>\n',o+='<opml version="1.0">\n',o+="\t<head>\n",o+="\t\t<title>geography.opml</title>\n",o+="\t\t<dateCreated>2006-11-10</dateCreated>\n",o+="\t\t<dateModified>2006-11-13</dateModified>\n",o+="\t\t<ownerName>Magellan, Ferdinand</ownerName>\n",o+="\t</head>\n",o+="\t<body>\n",o+='\t\t<outline text="Africa" type="continent" label="Continent/Africa">\n',o+='\t\t\t<outline text="Egypt" type="country" label="Country/Egypt"/>\n',o+='\t\t\t<outline text="Kenya" type="country" label="Country/Kenya">\n',o+='\t\t\t\t<outline text="Nairobi" type="city" label="City/Nairobi"/>\n',o+='\t\t\t\t<outline text="Mombasa" type="city" label="City/Mombasa"/>\n',o+="\t\t\t</outline>\n",o+='\t\t\t<outline text="Sudan" type="country" label="Country/Sudan">\n',o+='\t\t\t\t<outline text="Khartoum" type="city" label="City/Khartoum"/>\n',o+="\t\t\t</outline>\n",o+="\t\t</outline>\n",o+='\t\t<outline text="Asia" type="continent" label="Continent/Asia">\n',o+='\t\t\t<outline text="China" type="country" label="Country/China"/>\n',o+='\t\t\t<outline text="India" type="country" label="Country/India"/>\n',o+='\t\t\t<outline text="Russia" type="country" label="Country/Russia"/>\n',o+='\t\t\t<outline text="Mongolia" type="country" label="Country/Mongolia"/>\n',o+="\t\t</outline>\n",o+='\t\t<outline text="Australia" type="continent" population="21 million" label="Continent/Australia">\n',o+='\t\t\t<outline text="Australia" type="country" population="21 million" label="Country/Australia"/>\n',o+="\t\t</outline>\n",o+='\t\t<outline text="Europe" type="continent" label="Contintent/Europe">\n',o+='\t\t\t<outline text="Germany" type="country" label="Country/Germany"/>\n',o+='\t\t\t<outline text="France" type="country"  label="Country/France"/>\n',o+='\t\t\t<outline text="Spain" type="country"   label="Country/Spain"/>\n',o+='\t\t\t<outline text="Italy" type="country"   label="Country/Italy"/>\n',o+="\t\t</outline>\n",o+='\t\t<outline text="North America" type="continent" label="Continent/North America">\n',o+='\t\t\t<outline text="Mexico" type="country" population="108 million" area="1,972,550 sq km" label="Country/Mexico">\n',o+='\t\t\t\t<outline text="Mexico City" type="city" population="19 million" timezone="-6 UTC" label="City/Mexico City"/>\n',o+='\t\t\t\t<outline text="Guadalajara" type="city" population="4 million" timezone="-6 UTC"  label="City/Guadalajara"/>\n',o+="\t\t\t</outline>\n",o+='\t\t\t<outline text="Canada" type="country" population="33 million" area="9,984,670 sq km" label="Country/Canada">\n',o+='\t\t\t\t<outline text="Ottawa" type="city" population="0.9 million" timezone="-5 UTC"    label="City/Ottawa"/>\n',o+='\t\t\t\t<outline text="Toronto" type="city" population="2.5 million" timezone="-5 UTC"   label="City/Toronto"/>\n',o+="\t\t\t</outline>\n",o+='\t\t\t<outline text="United States of America" type="country" label="Country/United States of America"/>\n',o+="\t\t</outline>\n",o+='\t\t<outline text="South America" type="continent" label="Continent/South America">\n',o+='\t\t\t<outline text="Brazil" type="country" population="186 million" label="Country/Brazil"/>\n',o+='\t\t\t<outline text="Argentina" type="country" population="40 million" label="Country/Argentina"/>\n',o+="\t\t</outline>\n",o+="\t</body>\n",o+="</opml>\n"}e.data=o}return e},dojox.data.tests.stores.OpmlStore.verifyItems=function(t,e,o,r){if(e.length!=r.length)return!1;for(var a=0;a<e.length;a++)if(t.getValue(e[a],o)!==r[a])return!1;return!0},dojox.data.tests.stores.OpmlStore.error=function(t,e,o){e.errback(o)},doh.register("dojox.data.tests.stores.OpmlStore",[function(t){var e=dojox.data.tests.stores.OpmlStore.getDatasource("stores/geography.xml"),o=new dojox.data.OpmlStore(e),r=new doh.Deferred;return o.fetch({onComplete:function(e){t.is(6,e.length),r.callback(!0)},onError:dojo.partial(dojox.data.tests.stores.OpmlStore.error,t,r)}),r},function(t){var e=dojox.data.tests.stores.OpmlStore.getDatasource("stores/geography.xml"),o=new dojox.data.OpmlStore(e),r=new doh.Deferred;return o.fetch({query:{text:"Asia"},onComplete:function(e,o){t.is(1,e.length),r.callback(!0)},onError:dojo.partial(dojox.data.tests.stores.OpmlStore.error,t,r)}),r},function(t){var e=dojox.data.tests.stores.OpmlStore.getDatasource("stores/geography.xml"),o=new dojox.data.OpmlStore(e),r=new doh.Deferred,a=[!1,!1];return o.fetch({query:{text:"Asia"},onComplete:function(e,o){a[0]=!0,t.is(1,e.length),a[0]&&a[1]&&r.callback(!0)},onError:dojo.partial(dojox.data.tests.stores.OpmlStore.error,t,r)}),o.fetch({query:{text:"North America"},onComplete:function(e,o){a[1]=!0,t.is(1,e.length),a[0]&&a[1]&&r.callback(!0)},onError:dojo.partial(dojox.data.tests.stores.OpmlStore.error,t,r)}),r},function(t){var e=dojox.data.tests.stores.OpmlStore.getDatasource("stores/geography.xml"),o=new dojox.data.OpmlStore(e),r=new doh.Deferred,a=[!1,!1];return o.fetch({query:{text:"Africa"},onComplete:function(e,n){a[0]=!0,t.is(1,e.length),console.log("Found item: "+o.getValue(e[0],"text")+" with identity: "+o.getIdentity(e[0])),t.is(0,o.getIdentity(e[0])),a[0]&&a[1]&&r.callback(!0)},onError:dojo.partial(dojox.data.tests.stores.OpmlStore.error,t,r)}),o.fetchItemByIdentity({identity:"1",onItem:function(e){a[1]=!0,t.assertTrue(null!==e),console.log("Found item: "+o.getValue(e,"text")),t.is("Egypt",o.getValue(e,"text")),t.is(1,o.getIdentity(e)),a[0]&&a[1]&&r.callback(!0)},onError:dojo.partial(dojox.data.tests.stores.OpmlStore.error,t,r)}),r},function(t){var e=dojox.data.tests.stores.OpmlStore.getDatasource("stores/geography.xml"),o=new dojox.data.OpmlStore(e),r=new doh.Deferred;return o.fetch({query:{text:"Mexico City"},queryOptions:{deep:!0},onComplete:function(e,o){t.is(1,e.length),r.callback(!0)},onError:dojo.partial(dojox.data.tests.stores.OpmlStore.error,t,r)}),r},function(t){var e=dojox.data.tests.stores.OpmlStore.getDatasource("stores/geography.xml"),o=new dojox.data.OpmlStore(e),r=new doh.Deferred;return o.fetch({query:{text:"Mexico City"},onComplete:function(e,o){t.is(0,e.length),r.callback(!0)},onError:dojo.partial(dojox.data.tests.stores.OpmlStore.error,t,r)}),r},function(t){var e=dojox.data.tests.stores.OpmlStore.getDatasource("stores/geography.xml"),o=new dojox.data.OpmlStore(e),r=new doh.Deferred;return count=0,o.fetch({onBegin:function(e,o){t.is(6,e)},onItem:function(e,r){t.assertTrue(o.isItem(e)),count++},onComplete:function(e,o){t.is(6,count),t.is(null,e),r.callback(!0)},onError:dojo.partial(dojox.data.tests.stores.OpmlStore.error,t,r)}),r},function(t){var e=dojox.data.tests.stores.OpmlStore.getDatasource("stores/geography.xml"),o=new dojox.data.OpmlStore(e),r=new doh.Deferred;function a(e,r){t.is(5,e.length),r.start=3,r.count=1,r.onComplete=n,o.fetch(r)}function n(e,r){t.is(1,e.length),r.start=0,r.count=5,r.onComplete=s,o.fetch(r)}function s(e,r){t.is(5,e.length),r.start=2,r.count=20,r.onComplete=l,o.fetch(r)}function l(e,r){t.is(4,e.length),r.start=9,r.count=100,r.onComplete=i,o.fetch(r)}function i(e,r){t.is(0,e.length),r.start=2,r.count=20,r.onComplete=u,o.fetch(r)}function u(e,o){t.is(4,e.length),r.callback(!0)}return o.fetch({onComplete:function(e,r){t.is(6,e.length),r.start=1,r.count=5,r.onComplete=a,o.fetch(r)},onError:dojo.partial(dojox.data.tests.stores.OpmlStore.error,t,r)}),r},function(t){var e=dojox.data.tests.stores.OpmlStore.getDatasource("stores/geography.xml"),o=new dojox.data.OpmlStore(e),r=new doh.Deferred;return o.fetch({query:{text:"Asia"},onComplete:function(e,a){t.assertEqual(e.length,1);var n=o.getLabel(e[0]);t.assertTrue(null!==n),t.assertEqual("Asia",n),r.callback(!0)},onError:dojo.partial(dojox.data.tests.stores.OpmlStore.error,t,r)}),r},function(t){var e=dojox.data.tests.stores.OpmlStore.getDatasource("stores/geography.xml"),o=new dojox.data.OpmlStore(e),r=new doh.Deferred;return o.fetch({query:{text:"Asia"},onComplete:function(e,a){t.assertEqual(e.length,1);var n=o.getLabelAttributes(e[0]);t.assertTrue(dojo.isArray(n)),t.assertEqual("text",n[0]),r.callback(!0)},onError:dojo.partial(dojox.data.tests.stores.OpmlStore.error,t,r)}),r},function(t){var e=dojox.data.tests.stores.OpmlStore.getDatasource("stores/geography_withspeciallabel.xml");e.label="label";var o=new dojox.data.OpmlStore(e),r=new doh.Deferred;return o.fetch({query:{text:"Asia"},onComplete:function(e,a){t.assertEqual(e.length,1);var n=o.getLabel(e[0]);t.assertTrue(null!==n),t.assertEqual("Continent/Asia",n),r.callback(!0)},onError:dojo.partial(dojox.data.tests.stores.OpmlStore.error,t,r)}),r},function(t){var e=dojox.data.tests.stores.OpmlStore.getDatasource("stores/geography_withspeciallabel.xml");e.label="label";var o=new dojox.data.OpmlStore(e),r=new doh.Deferred;return o.fetch({query:{text:"Asia"},onComplete:function(e,a){t.assertEqual(e.length,1);var n=o.getLabelAttributes(e[0]);t.assertTrue(dojo.isArray(n)),t.assertEqual("label",n[0]),r.callback(!0)},onError:dojo.partial(dojox.data.tests.stores.OpmlStore.error,t,r)}),r},function(t){var e=dojox.data.tests.stores.OpmlStore.getDatasource("stores/geography.xml"),o=new dojox.data.OpmlStore(e),r=new doh.Deferred;return o.fetch({onComplete:function(e){t.is(6,e.length),t.is("Africa",o.getValue(e[0],"text")),t.is("Asia",o.getValue(e[1],"text")),t.is("Australia",o.getValue(e[2],"text")),t.is("Europe",o.getValue(e[3],"text")),t.is("North America",o.getValue(e[4],"text")),t.is("South America",o.getValue(e[5],"text")),t.is("continent",o.getValue(e[1],"type")),t.is("21 million",o.getValue(e[2],"population"));var a=o.getValue(e[4],"children");t.assertTrue(o.isItem(a)),t.is("Mexico",o.getValue(a,"text")),t.is("country",o.getValue(a,"type")),t.is("108 million",o.getValue(a,"population")),t.is("1,972,550 sq km",o.getValue(a,"area")),a=o.getValue(a,"children"),t.assertTrue(o.isItem(a)),t.is("Mexico City",o.getValue(a,"text")),t.is("city",o.getValue(a,"type")),t.is("19 million",o.getValue(a,"population")),t.is("-6 UTC",o.getValue(a,"timezone")),r.callback(!0)},onError:dojo.partial(dojox.data.tests.stores.OpmlStore.error,t,r)}),r},function(t){var e=dojox.data.tests.stores.OpmlStore.getDatasource("stores/geography.xml"),o=new dojox.data.OpmlStore(e),r=new doh.Deferred;return o.fetch({query:{text:"North America"},onComplete:function(e){t.is(1,e.length);var a=o.getValues(e[0],"children");t.is(3,a.length);for(var n=0;n<a.length;n++)t.assertTrue(o.isItem(a[n]));for(t.is("Mexico",o.getValues(a[0],"text")[0]),t.is("country",o.getValues(a[0],"type")[0]),t.is("108 million",o.getValues(a[0],"population")[0]),t.is("1,972,550 sq km",o.getValues(a[0],"area")[0]),t.is("Canada",o.getValues(a[1],"text")[0]),t.is("country",o.getValues(a[1],"type")[0]),a=o.getValues(a[1],"children"),t.is(2,a.length),n=0;n<a.length;n++)t.assertTrue(o.isItem(a[n]));t.is("Ottawa",o.getValues(a[0],"text")[0]),t.is("Toronto",o.getValues(a[1],"text")[0]),r.callback(!0)},onError:dojo.partial(dojox.data.tests.stores.OpmlStore.error,t,r)}),r},function(t){var e=dojox.data.tests.stores.OpmlStore.getDatasource("stores/geography.xml"),o=new dojox.data.OpmlStore(e),r=new doh.Deferred;return o.fetch({onComplete:function(e){t.is(6,e.length);for(var a=0;a<6;a++)t.assertTrue(o.isItem(e[a]));t.assertTrue(!o.isItem({})),t.assertTrue(!o.isItem({item:"not an item"})),t.assertTrue(!o.isItem("not an item")),t.assertTrue(!o.isItem(["not an item"])),r.callback(!0)},onError:dojo.partial(dojox.data.tests.stores.OpmlStore.error,t,r)}),r},function(t){var e=dojox.data.tests.stores.OpmlStore.getDatasource("stores/geography.xml"),o=new dojox.data.OpmlStore(e),r=new doh.Deferred;return o.fetch({query:{text:"Asia"},onComplete:function(e){t.is(1,e.length),t.assertTrue(null!==e[0]),t.assertTrue(o.hasAttribute(e[0],"text")),t.assertTrue(o.hasAttribute(e[0],"type")),t.assertTrue(!o.hasAttribute(e[0],"population")),t.assertTrue(!o.hasAttribute(e[0],"Nothing")),t.assertTrue(!o.hasAttribute(e[0],"Text"));var a=!1;try{o.hasAttribute(e[0],null)}catch(t){a=!0}t.assertTrue(a),r.callback(!0)},onError:dojo.partial(dojox.data.tests.stores.OpmlStore.error,t,r)}),r},function(t){var e=dojox.data.tests.stores.OpmlStore.getDatasource("stores/geography.xml"),o=new dojox.data.OpmlStore(e),r=new doh.Deferred;return o.fetch({query:{text:"North America"},onComplete:function(e){t.is(1,e.length),t.assertTrue(null!==e[0]),t.assertTrue(o.containsValue(e[0],"text","North America")),t.assertTrue(o.containsValue(e[0],"type","continent")),t.assertTrue(!o.containsValue(e[0],"text","America")),t.assertTrue(!o.containsValue(e[0],"Type","continent")),t.assertTrue(!o.containsValue(e[0],"text",null));var a=o.getValues(e[0],"children");t.assertTrue(o.containsValue(e[0],"children",a[0])),t.assertTrue(o.containsValue(e[0],"children",a[1])),t.assertTrue(o.containsValue(e[0],"children",a[2]));var n=!1;try{o.containsValue(e[0],null,"foo")}catch(t){n=!0}t.assertTrue(n),r.callback(!0)},onError:dojo.partial(dojox.data.tests.stores.OpmlStore.error,t,r)}),r},function(t){var e=dojox.data.tests.stores.OpmlStore.getDatasource("stores/geography.xml"),o=new dojox.data.OpmlStore(e),r=new doh.Deferred;return o.fetch({onComplete:function(e){t.is(6,e.length),t.assertTrue(o.isItem(e[0]));var a=o.getAttributes(e[0]);t.is(3,a.length);for(var n=0;n<a.length;n++)t.assertTrue("text"===a[n]||"type"===a[n]||"children"===a[n]);r.callback(!0)},onError:dojo.partial(dojox.data.tests.stores.OpmlStore.error,t,r)}),r},function(t){var e=dojox.data.tests.stores.OpmlStore.getDatasource("stores/geography.xml"),o=new dojox.data.OpmlStore(e).getFeatures(),r=0;for(i in o)t.assertTrue("dojo.data.api.Read"===i||"dojo.data.api.Identity"===i),r++;t.assertTrue(2===r)},function(t){var e=dojox.data.tests.stores.OpmlStore.getDatasource("stores/geography.xml"),o=new dojox.data.OpmlStore(e),r=new doh.Deferred;return o.fetch({query:{text:"A*"},onComplete:function(e,a){t.is(3,e.length),t.assertTrue(dojox.data.tests.stores.OpmlStore.verifyItems(o,e,"text",["Africa","Asia","Australia"])),r.callback(!0)},onError:dojo.partial(dojox.data.tests.stores.OpmlStore.error,t,r)}),r},function(t){var e=dojox.data.tests.stores.OpmlStore.getDatasource("stores/geography.xml"),o=new dojox.data.OpmlStore(e),r=new doh.Deferred;return o.fetch({query:{text:"*America*"},onComplete:function(e,a){t.assertTrue(2===e.length),t.assertTrue(dojox.data.tests.stores.OpmlStore.verifyItems(o,e,"text",["North America","South America"])),r.callback(!0)},onError:dojo.partial(dojox.data.tests.stores.OpmlStore.error,t,r)}),r},function(t){var e=dojox.data.tests.stores.OpmlStore.getDatasource("stores/geography.xml"),o=new dojox.data.OpmlStore(e),r=new doh.Deferred;return o.fetch({query:{text:"Europe"},onComplete:function(e,a){t.is(1,e.length),t.assertTrue("Europe"===o.getValue(e[0],"text")),r.callback(!0)},onError:dojo.partial(dojox.data.tests.stores.OpmlStore.error,t,r)}),r},function(t){var e=dojox.data.tests.stores.OpmlStore.getDatasource("stores/geography.xml"),o=new dojox.data.OpmlStore(e),r=new doh.Deferred;return o.fetch({query:{text:"asia"},queryOptions:{ignoreCase:!0},onComplete:function(e,a){t.is(1,e.length),t.assertTrue("Asia"===o.getValue(e[0],"text")),r.callback(!0)},onError:dojo.partial(dojox.data.tests.stores.OpmlStore.error,t,r)}),r},function(t){var e=dojox.data.tests.stores.OpmlStore.getDatasource("stores/geography.xml"),o=new dojox.data.OpmlStore(e),r=new doh.Deferred;return o.fetch({query:{text:"ASIA"},queryOptions:{ignoreCase:!1},onComplete:function(e,o){t.is(0,e.length),r.callback(!0)},onError:dojo.partial(dojox.data.tests.stores.OpmlStore.error,t,r)}),r},function(t){var e=dojox.data.tests.stores.OpmlStore.getDatasource("stores/geography.xml"),o=new dojox.data.OpmlStore(e),r=new doh.Deferred;return o.fetch({sort:[{attribute:"text"}],onComplete:function(e,a){t.is(6,e.length),t.assertTrue(dojox.data.tests.stores.OpmlStore.verifyItems(o,e,"text",["Africa","Asia","Australia","Europe","North America","South America"])),r.callback(!0)},onError:dojo.partial(dojox.data.tests.stores.OpmlStore.error,t,r)}),r},function(t){var e=dojox.data.tests.stores.OpmlStore.getDatasource("stores/geography.xml"),o=new dojox.data.OpmlStore(e),r=new doh.Deferred;return o.fetch({sort:[{attribute:"text",descending:!0}],onComplete:function(e,a){t.is(6,e.length),t.assertTrue(dojox.data.tests.stores.OpmlStore.verifyItems(o,e,"text",["South America","North America","Europe","Australia","Asia","Africa"])),r.callback(!0)},onError:dojo.partial(dojox.data.tests.stores.OpmlStore.error,t,r)}),r},function(t){var e=dojox.data.tests.stores.OpmlStore.getDatasource("stores/geography.xml"),o=new dojox.data.OpmlStore(e),r=new doh.Deferred;return o.fetch({sort:[{attribute:"text",descending:!0}],count:4,onComplete:function(e,a){t.is(4,e.length),t.assertTrue(dojox.data.tests.stores.OpmlStore.verifyItems(o,e,"text",["South America","North America","Europe","Australia"])),r.callback(!0)},onError:dojo.partial(dojox.data.tests.stores.OpmlStore.error,t,r)}),r},function(t){var e=new dojox.data.OpmlStore(dojox.data.tests.stores.OpmlStore.getDatasource("stores/geography.xml")),o=new dojo.data.api.Read,r=!0;for(i in o){if("_"!==i.toString().charAt(0))if("function"==typeof o[i])if("function"!=typeof e[i]){r=!1;break}}t.assertTrue(r)},function(t){var e=dojox.data.tests.stores.OpmlStore.getDatasource("stores/geography.xml"),o=new dojox.data.OpmlStore(e),r=new doh.Deferred;return o.fetchItemByIdentity({identity:"1",onItem:function(e){t.assertTrue(null!==e),r.callback(!0)},onError:dojo.partial(dojox.data.tests.stores.OpmlStore.error,t,r)}),r},function(t){var e=dojox.data.tests.stores.OpmlStore.getDatasource("stores/geography.xml"),o=new dojox.data.OpmlStore(e),r=new doh.Deferred;return o.fetchItemByIdentity({identity:"200",onItem:function(e){t.assertTrue(null===e),r.callback(!0)},onError:dojo.partial(dojox.data.tests.stores.OpmlStore.error,t,r)}),r},function(t){var e=dojox.data.tests.stores.OpmlStore.getDatasource("stores/geography.xml"),o=new dojox.data.OpmlStore(e),r=new doh.Deferred;return o.fetchItemByIdentity({identity:"-1",onItem:function(e){t.assertTrue(null===e),r.callback(!0)},onError:dojo.partial(dojox.data.tests.stores.OpmlStore.error,t,r)}),r},function(t){var e=dojox.data.tests.stores.OpmlStore.getDatasource("stores/geography.xml"),o=new dojox.data.OpmlStore(e),r=new doh.Deferred;return o.fetchItemByIdentity({identity:"999999",onItem:function(e){t.assertTrue(null===e),r.callback(!0)},onError:dojo.partial(dojox.data.tests.stores.OpmlStore.error,t,r)}),r},function(t){var e=dojox.data.tests.stores.OpmlStore.getDatasource("stores/geography.xml"),o=new dojox.data.OpmlStore(e),r=new doh.Deferred;return o.fetch({onComplete:function(e,a){for(var n=!0,s=0;s<e.length;s++)if(console.log("Identity is: "+o.getIdentity(e[s])+" count is : "+s),o.getIdentity(e[s])!=s){n=!1;break}t.assertTrue(n),r.callback(!0)},onError:dojo.partial(dojox.data.tests.stores.OpmlStore.error,t,r),queryOptions:{deep:!0}}),r},function(t){var e=new dojox.data.OpmlStore(dojox.data.tests.stores.OpmlStore.getDatasource("stores/geography.xml")),o=new dojo.data.api.Identity,r=!0;for(i in o){if("_"!==i.toString().charAt(0))if("function"==typeof o[i])if(console.log("Looking at function: ["+i+"]"),"function"!=typeof e[i]){r=!1;break}}t.assertTrue(r)}]);
//# sourceMappingURL=../../../sourcemaps/data/tests/stores/OpmlStore.js.map
