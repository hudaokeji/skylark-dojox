/**
 * dojox - A version of dojox.js framework that ported to running on skylarkjs.
 * @author Hudaokeji, Inc.
 * @version v0.9.0
 * @link https://github.com/skylark-integration/dojox/
 * @license MIT
 */
dojo.provide("dojox.data.tests.stores.AndOrReadStore"),dojo.require("dojox.data.AndOrReadStore"),dojo.require("dojo.data.api.Read"),dojo.require("dojo.data.api.Identity"),dojo.require("dojo.date"),dojo.require("dojo.date.stamp"),dojo.declare("dojox.data.tests.Wrapper",null,{_wrapped:null,constructor:function(e){this._wrapped=e},getValue:function(){return this._wrapped},setValue:function(e){this._wrapped=e},toString:function(){return"WRAPPER: ["+this._wrapped+"]"}}),dojox.data.tests.stores.AndOrReadStore.getTestData=function(e){var a=null;return"countries"===e?a=dojo.isBrowser?{url:require.toUrl("dojo/tests/data/countries.json").toString()}:{data:{identifier:"abbr",label:"name",items:[{abbr:"ec",name:"Ecuador",capital:"Quito"},{abbr:"eg",name:"Egypt",capital:"Cairo"},{abbr:"sv",name:"El Salvador",capital:"San Salvador"},{abbr:"gq",name:"Equatorial Guinea",capital:"Malabo"},{abbr:"er",name:"Eritrea",capital:"Asmara"},{abbr:"ee",name:"Estonia",capital:"Tallinn"},{abbr:"et",name:"Ethiopia",capital:"Addis Ababa"}]}}:"countries_withNull"===e?a={data:{identifier:"abbr",items:[{abbr:"ec",name:null,capital:"Quito"},{abbr:"eg",name:null,capital:"Cairo"},{abbr:"sv",name:"El Salvador",capital:"San Salvador"},{abbr:"gq",name:"Equatorial Guinea",capital:"Malabo"},{abbr:"er",name:"Eritrea",capital:"Asmara"},{abbr:"ee",name:null,capital:"Tallinn"},{abbr:"et",name:"Ethiopia",capital:"Addis Ababa"}]}}:"countries_withoutid"===e?a={data:{label:"name",items:[{abbr:"ec",name:null,capital:"Quito"},{abbr:"eg",name:null,capital:"Cairo"},{abbr:"sv",name:"El Salvador",capital:"San Salvador"},{abbr:"gq",name:"Equatorial Guinea",capital:"Malabo"},{abbr:"er",name:"Eritrea",capital:"Asmara"},{abbr:"ee",name:null,capital:"Tallinn"},{abbr:"et",name:"Ethiopia",capital:"Addis Ababa"}]}}:"countries_withBoolean"===e?a={data:{identifier:"abbr",items:[{abbr:"ec",name:"Ecuador",capital:"Quito",real:!0},{abbr:"eg",name:"Egypt",capital:"Cairo",real:!0},{abbr:"sv",name:"El Salvador",capital:"San Salvador",real:!0},{abbr:"gq",name:"Equatorial Guinea",capital:"Malabo",real:!0},{abbr:"er",name:"Eritrea",capital:"Asmara",real:!0},{abbr:"ee",name:"Estonia",capital:"Tallinn",real:!0},{abbr:"et",name:"Ethiopia",capital:"Addis Ababa",real:!0},{abbr:"ut",name:"Utopia",capital:"Paradise",real:!1}]}}:"countries_withDates"===e?a={data:{identifier:"abbr",items:[{abbr:"ec",name:"Ecuador",capital:"Quito"},{abbr:"eg",name:"Egypt",capital:"Cairo"},{abbr:"sv",name:"El Salvador",capital:"San Salvador"},{abbr:"gq",name:"Equatorial Guinea",capital:"Malabo"},{abbr:"er",name:"Eritrea",capital:"Asmara",independence:{_type:"Date",_value:"1993-05-24T00:00:00Z"}},{abbr:"ee",name:"Estonia",capital:"Tallinn",independence:{_type:"Date",_value:"1991-08-20T00:00:00Z"}},{abbr:"et",name:"Ethiopia",capital:"Addis Ababa"}]}}:"geography_hierarchy_small"===e?a={data:{items:[{name:"Africa",countries:[{name:"Egypt",capital:"Cairo"},{name:"Kenya",capital:"Nairobi"},{name:"Sudan",capital:"Khartoum"}]},{name:"Australia",capital:"Canberra"},{name:"North America",countries:[{name:"Canada",population:"33 million",cities:[{name:"Toronto",population:"2.5 million"},{name:"Alberta",population:"1 million"}]},{name:"United States of America",capital:"Washington DC",states:[{name:"Missouri"},{name:"Arkansas"}]}]}]}}:"data_multitype"===e?a={data:{identifier:"count",label:"count",items:[{count:1,value:"true"},{count:2,value:!0},{count:3,value:"false"},{count:4,value:!1},{count:5,value:!0},{count:6,value:!0},{count:7,value:"true"},{count:8,value:"true"},{count:9,value:"false"},{count:10,value:!1},{count:11,value:[!1,!1]},{count:"12",value:[!1,"true"]}]}}:"countries_references"===e&&(a={data:{identifier:"name",label:"name",items:[{name:"Africa",type:"continent",children:[{_reference:"Egypt"},{_reference:"Kenya"},{_reference:"Sudan"}]},{name:"Egypt",type:"country"},{name:"Kenya",type:"country",children:[{_reference:"Nairobi"},{_reference:"Mombasa"}]},{name:"Nairobi",type:"city"},{name:"Mombasa",type:"city"},{name:"Sudan",type:"country",children:{_reference:"Khartoum"}},{name:"Khartoum",type:"city"},{name:"Asia",type:"continent",children:[{_reference:"China"},{_reference:"India"},{_reference:"Russia"},{_reference:"Mongolia"}]},{name:"China",type:"country"},{name:"India",type:"country"},{name:"Russia",type:"country"},{name:"Mongolia",type:"country"},{name:"Australia",type:"continent",population:"21 million",children:{_reference:"Commonwealth of Australia"}},{name:"Commonwealth of Australia",type:"country",population:"21 million"},{name:"Europe",type:"continent",children:[{_reference:"Germany"},{_reference:"France"},{_reference:"Spain"},{_reference:"Italy"}]},{name:"Germany",type:"country"},{name:"France",type:"country"},{name:"Spain",type:"country"},{name:"Italy",type:"country"},{name:"North America",type:"continent",children:[{_reference:"Mexico"},{_reference:"Canada"},{_reference:"United States of America"}]},{name:"Mexico",type:"country",population:"108 million",area:"1,972,550 sq km",children:[{_reference:"Mexico City"},{_reference:"Guadalajara"}]},{name:"Mexico City",type:"city",population:"19 million",timezone:"-6 UTC"},{name:"Guadalajara",type:"city",population:"4 million",timezone:"-6 UTC"},{name:"Canada",type:"country",population:"33 million",area:"9,984,670 sq km",children:[{_reference:"Ottawa"},{_reference:"Toronto"}]},{name:"Ottawa",type:"city",population:"0.9 million",timezone:"-5 UTC"},{name:"Toronto",type:"city",population:"2.5 million",timezone:"-5 UTC"},{name:"United States of America",type:"country"},{name:"South America",type:"continent",children:[{_reference:"Brazil"},{_reference:"Argentina"}]},{name:"Brazil",type:"country",population:"186 million"},{name:"Argentina",type:"country",population:"40 million"}]}}),a},dojox.data.tests.stores.AndOrReadStore.getTests=function(){return dojox.data.tests.stores.AndOrReadStore.tests=[{name:"Identity API: fetchItemByIdentity()",runTest:function(e){var a=new dojox.data.AndOrReadStore(dojox.data.tests.stores.AndOrReadStore.getTestData("countries")),t=new doh.Deferred;return a.fetchItemByIdentity({identity:"sv",onItem:function(r){if(e.assertTrue(null!==r),null!==r){var n=a.getValue(r,"name");e.assertEqual(n,"El Salvador")}t.callback(!0)},onError:function(a){e.assertTrue(!1),t.errback(a)}}),t}},{name:"Identity API: fetchItemByIdentity() notFound",runTest:function(e){var a=new dojox.data.AndOrReadStore(dojox.data.tests.stores.AndOrReadStore.getTestData("countries")),t=new doh.Deferred;return a.fetchItemByIdentity({identity:"sv_not",onItem:function(a){e.assertTrue(null===a),t.callback(!0)},onError:function(a){e.assertTrue(!1),t.errback(a)}}),t}},{name:"Identity API: getIdentityAttributes()",runTest:function(e){var a=new dojox.data.AndOrReadStore(dojox.data.tests.stores.AndOrReadStore.getTestData("countries")),t=new doh.Deferred;return a.fetchItemByIdentity({identity:"sv",onItem:function(r){e.assertTrue(null!==r);var n=a.getIdentityAttributes(r);e.assertTrue(dojo.isArray(n)),e.assertEqual(1,n.length),e.assertEqual("abbr",n[0]),t.callback(!0)},onError:function(a){e.assertTrue(!1),t.errback(a)}}),t}},{name:"Identity API: fetchItemByIdentity() commentFilteredJson",runTest:function(e){if(dojo.isBrowser){var a=new dojox.data.AndOrReadStore({url:require.toUrl("dojo/tests/data/countries_commentFiltered.json").toString()}),t=new doh.Deferred;return a.fetchItemByIdentity({identity:"sv",onItem:function(r){e.assertTrue(null!==r);var n=a.getValue(r,"name");e.assertEqual(n,"El Salvador"),t.callback(!0)},onError:function(a){e.assertTrue(!1),t.errback(a)}}),t}}},{name:"Identity API: fetchItemByIdentity() nullValue",runTest:function(e){var a=new dojox.data.AndOrReadStore(dojox.data.tests.stores.AndOrReadStore.getTestData("countries_withNull")),t=new doh.Deferred;return a.fetchItemByIdentity({identity:"ec",onItem:function(r){e.assertTrue(null!==r);var n=a.getValue(r,"name");e.assertEqual(n,null),t.callback(!0)},onError:function(a){e.assertTrue(!1),t.errback(a)}}),t}},{name:"Identity API: fetchItemByIdentity() booleanValue",runTest:function(e){var a=new dojox.data.AndOrReadStore(dojox.data.tests.stores.AndOrReadStore.getTestData("countries_withBoolean")),t=new doh.Deferred;return a.fetchItemByIdentity({identity:"ut",onItem:function(r){e.assertTrue(null!==r);var n=a.getValue(r,"name");e.assertEqual(n,"Utopia");var o=a.getValue(r,"real");e.assertEqual(o,!1),t.callback(!0)},onError:function(a){e.assertTrue(!1),t.errback(a)}}),t}},{name:"Identity API: fetchItemByIdentity() withoutSpecifiedIdInData",runTest:function(e){var a=new dojox.data.AndOrReadStore(dojox.data.tests.stores.AndOrReadStore.getTestData("countries_withoutid")),t=new doh.Deferred;return a.fetchItemByIdentity({identity:"2",onItem:function(r){e.assertTrue(null!==r);var n=a.getValue(r,"name");e.assertEqual(n,"El Salvador"),t.callback(!0)},onError:function(a){e.assertTrue(!1),t.errback(a)}}),t}},{name:"Identity API: getIdentity()",runTest:function(e){var a=new dojox.data.AndOrReadStore(dojox.data.tests.stores.AndOrReadStore.getTestData("countries")),t=new doh.Deferred;return a.fetchItemByIdentity({identity:"sv",onItem:function(r){e.assertTrue(null!==r),e.assertTrue("sv"===a.getIdentity(r)),t.callback(!0)},onError:function(a){e.assertTrue(!1),t.errback(a)}}),t}},{name:"Identity API: getIdentity() withoutSpecifiedId",runTest:function(e){var a=new dojox.data.AndOrReadStore(dojox.data.tests.stores.AndOrReadStore.getTestData("countries_withoutid")),t=new doh.Deferred;return a.fetch({query:{abbr:"sv"},onItem:function(r,n){e.assertTrue(null!==r),e.assertTrue(2===a.getIdentity(r)),t.callback(!0)},onError:function(a,r){e.assertTrue(!1),t.errback(a)}}),t}},{name:"Identity API: getIdentity() withoutSpecifiedId, complex",runTest:function(e){var a=new dojox.data.AndOrReadStore(dojox.data.tests.stores.AndOrReadStore.getTestData("countries_withoutid")),t=new doh.Deferred;return a.fetch({query:'abbr: "sv"',onItem:function(r,n){e.assertTrue(null!==r),e.assertTrue(2===a.getIdentity(r)),t.callback(!0)},onError:function(a,r){e.assertTrue(!1),t.errback(a)}}),t}},{name:"Read API: fetch() all",runTest:function(e){var a=new dojox.data.AndOrReadStore(dojox.data.tests.stores.AndOrReadStore.getTestData("countries")),t=new doh.Deferred;return a.fetch({onComplete:function(a,r){e.is(7,a.length),t.callback(!0)},onError:function(a,r){e.assertTrue(!1),t.errback(a)}}),t}},{name:"Read API: fetch() abort",runTest:function(e){if(dojo.isBrowser){var a=new dojox.data.AndOrReadStore(dojox.data.tests.stores.AndOrReadStore.getTestData("countries")),t=new doh.Deferred,r=!1;var n=a.fetch({onComplete:function(a,n){e.is(7,a.length),r?(console.log("Made it to complete callback and abort was called.  Problem."),t.errback(new Error("Should not be here."))):(console.log("in onComplete and abort has not been called.  Timing.  This is okay."),t.callback(!0))},onError:function(a,r){e.assertTrue(!0),t.callback(!0)}});return r=!0,console.log("Calling abort."),n.abort(),t}}},{name:"Read API: fetch() one",runTest:function(e){var a=new dojox.data.AndOrReadStore(dojox.data.tests.stores.AndOrReadStore.getTestData("countries")),t=new doh.Deferred;return a.fetch({query:{abbr:"ec"},onComplete:function(a,r){e.assertEqual(a.length,1),t.callback(!0)},onError:function(a,r){e.assertTrue(!1),t.errback(a)}}),t}},{name:"Read API: fetch() one, complex",runTest:function(e){var a=new dojox.data.AndOrReadStore(dojox.data.tests.stores.AndOrReadStore.getTestData("countries")),t=new doh.Deferred;return a.fetch({query:'abbr: "ec"',onComplete:function(a,r){e.assertEqual(a.length,1),t.callback(!0)},onError:function(a,r){e.assertTrue(!1),t.errback(a)}}),t}},{name:"Read API: fetch() shallow",runTest:function(e){var a=new dojox.data.AndOrReadStore(dojox.data.tests.stores.AndOrReadStore.getTestData("geography_hierarchy_small")),t=new doh.Deferred;return a.fetch({query:{name:"A*"},onComplete:function(a,r){e.assertEqual(a.length,2),t.callback(!0)},onError:function(a,r){e.assertTrue(!1),t.errback(a)}}),t}},{name:"Read API: fetch() shallow, complex",runTest:function(e){var a=new dojox.data.AndOrReadStore(dojox.data.tests.stores.AndOrReadStore.getTestData("geography_hierarchy_small")),t=new doh.Deferred;return a.fetch({query:'name: "A*"',onComplete:function(a,r){e.assertEqual(a.length,2),t.callback(!0)},onError:function(a,r){e.assertTrue(!1),t.errback(a)}}),t}},{name:"Read API: fetch() Multiple",runTest:function(e){var a=new dojox.data.AndOrReadStore(dojox.data.tests.stores.AndOrReadStore.getTestData("geography_hierarchy_small")),t=new doh.Deferred,r=[!1,!1],n=function(a,r){e.assertTrue(!1),t.errback(a)};return a.fetch({query:{name:"A*"},onComplete:function(a,n){r[0]=!0,e.assertEqual(a.length,2),r[0]&&r[1]&&t.callback(!0)},onError:n}),a.fetch({query:{name:"N*"},onComplete:function(e,a){r[1]=!0,r[0]&&r[1]&&t.callback(!0)},onError:n}),t}},{name:"Read API: fetch() Multiple, complex",runTest:function(e){var a=new dojox.data.AndOrReadStore(dojox.data.tests.stores.AndOrReadStore.getTestData("geography_hierarchy_small")),t=new doh.Deferred,r=[!1,!1],n=function(a,r){e.assertTrue(!1),t.errback(a)};return a.fetch({query:'name: "A*"',onComplete:function(a,n){r[0]=!0,e.assertEqual(a.length,2),r[0]&&r[1]&&t.callback(!0)},onError:n}),a.fetch({query:'name: "N*"',onComplete:function(e,a){r[1]=!0,r[0]&&r[1]&&t.callback(!0)},onError:n}),t}},{name:"Read API: fetch() MultipleMixedFetch",runTest:function(e){var a=new dojox.data.AndOrReadStore(dojox.data.tests.stores.AndOrReadStore.getTestData("countries")),t=new doh.Deferred,r=[!1,!1],n=function(a){e.assertTrue(!1),t.errback(a)};return a.fetch({query:{name:"El*"},onComplete:function(a,n){r[0]=!0,e.assertEqual(a.length,1),r[0]&&r[1]&&t.callback(!0)},onError:n}),a.fetchItemByIdentity({identity:"sv",onItem:function(n){r[1]=!0,e.assertTrue(null!==n);var o=a.getValue(n,"name");e.assertEqual(o,"El Salvador"),r[0]&&r[1]&&t.callback(!0)},onError:n}),t}},{name:"Read API: fetch() MultipleMixedFetch, complex",runTest:function(e){var a=new dojox.data.AndOrReadStore(dojox.data.tests.stores.AndOrReadStore.getTestData("countries")),t=new doh.Deferred,r=[!1,!1],n=function(a){e.assertTrue(!1),t.errback(a)};return a.fetch({query:'name: "El*"',onComplete:function(a,n){r[0]=!0,e.assertEqual(a.length,1),r[0]&&r[1]&&t.callback(!0)},onError:n}),a.fetchItemByIdentity({identity:"sv",onItem:function(n){r[1]=!0,e.assertTrue(null!==n);var o=a.getValue(n,"name");e.assertEqual(o,"El Salvador"),r[0]&&r[1]&&t.callback(!0)},onError:n}),t}},{name:"Read API: fetch() deep",runTest:function(e){var a=new dojox.data.AndOrReadStore(dojox.data.tests.stores.AndOrReadStore.getTestData("geography_hierarchy_small")),t=new doh.Deferred;return a.fetch({query:{name:"A*"},onComplete:function(a,r){e.assertEqual(a.length,4),t.callback(!0)},onError:function(a,r){e.assertTrue(!1),t.errback(a)},queryOptions:{deep:!0}}),t}},{name:"Read API: fetch() deep, complex",runTest:function(e){var a=new dojox.data.AndOrReadStore(dojox.data.tests.stores.AndOrReadStore.getTestData("geography_hierarchy_small")),t=new doh.Deferred;return a.fetch({query:'name: "A*"',onComplete:function(a,r){e.assertEqual(a.length,4),t.callback(!0)},onError:function(a,r){e.assertTrue(!1),t.errback(a)},queryOptions:{deep:!0}}),t}},{name:"Read API: fetch() hierarchy off",runTest:function(e){var a=new dojox.data.AndOrReadStore(dojox.data.tests.stores.AndOrReadStore.getTestData("geography_hierarchy_small"));a.hierarchical=!1;var t=new doh.Deferred;return a.fetch({query:{name:"A*"},onComplete:function(r,n){var o;e.assertEqual(2,r.length);var u=!0;for(o=0;o<r.length;o++){var d,s=a.getValues(r[o],"countries");if(s)for(d=0;d<s.length&&(u=!a.isItem(s[d]));d++);if(!u)break}u?t.callback(!0):t.errback(new Error("Located a child item with hierarchy off and no references in the data.  Error."))},onError:function(e,a){t.errback(e)},queryOptions:{deep:!0}}),t}},{name:"Read API: fetch() hierarchy off refs still parse",runTest:function(e){var a=new dojox.data.AndOrReadStore(dojox.data.tests.stores.AndOrReadStore.getTestData("countries_references"));a.hierarchical=!1;var t=new doh.Deferred;return a.fetch({query:{name:"A*"},onComplete:function(r,n){var o;e.assertEqual(r.length,4);var u=!0;for(o=0;o<r.length;o++){var d,s=a.getValues(r[o],"children");if(s)for(d=0;d<s.length&&(u=a.isItem(s[d]));d++);if(!u)break}u?t.callback(!0):t.errback(new Error("Found a non-child item in a reference list in a references based input.  Error."))},onError:function(a,r){e.assertTrue(!1),t.errback(a)},queryOptions:{deep:!0}}),t}},{name:"Read API: fetch() one_commentFilteredJson",runTest:function(e){if(dojo.isBrowser){var a=new dojox.data.AndOrReadStore({url:require.toUrl("dojo/tests/data/countries_commentFiltered.json").toString()}),t=new doh.Deferred;return a.fetch({query:{abbr:"ec"},onComplete:function(a,r){e.assertEqual(a.length,1),t.callback(!0)},onError:function(a,r){e.assertTrue(!1),t.errback(a)}}),t}}},{name:"Read API: fetch() one_commentFilteredJson, complex",runTest:function(e){if(dojo.isBrowser){var a=new dojox.data.AndOrReadStore({url:require.toUrl("dojo/tests/data/countries_commentFiltered.json").toString()}),t=new doh.Deferred;return a.fetch({query:'abbr: "ec"',onComplete:function(a,r){e.assertEqual(a.length,1),t.callback(!0)},onError:function(a,r){e.assertTrue(!1),t.errback(a)}}),t}}},{name:"Read API: fetch() withNull",runTest:function(e){var a=new dojox.data.AndOrReadStore(dojox.data.tests.stores.AndOrReadStore.getTestData("countries_withNull")),t=new doh.Deferred;return a.fetch({query:{name:"E*"},onComplete:function(a,r){e.assertEqual(4,a.length),t.callback(!0)},onError:function(a,r){e.assertTrue(!1),t.errback(a)}}),t}},{name:"Read API: fetch() withNull, complex",runTest:function(e){var a=new dojox.data.AndOrReadStore(dojox.data.tests.stores.AndOrReadStore.getTestData("countries_withNull")),t=new doh.Deferred;return a.fetch({query:'name: "E*"',onComplete:function(a,r){e.assertEqual(4,a.length),t.callback(!0)},onError:function(a,r){e.assertTrue(!1),t.errback(a)}}),t}},{name:"Read API: fetch() all_streaming",runTest:function(e){var a=new dojox.data.AndOrReadStore(dojox.data.tests.stores.AndOrReadStore.getTestData("countries")),t=new doh.Deferred,r=0;return a.fetch({onBegin:function(a,t){e.assertEqual(a,7)},onItem:function(t,n){e.assertTrue(a.isItem(t)),r++},onComplete:function(a,n){e.assertEqual(r,7),e.assertTrue(null===a),t.callback(!0)},onError:function(a,r){e.assertTrue(!1),t.errback(a)}}),t}},{name:"Read API: fetch() paging",runTest:function(e){var a=new dojox.data.AndOrReadStore(dojox.data.tests.stores.AndOrReadStore.getTestData("countries")),t=new doh.Deferred,r=function(a,r){e.assertEqual(a.length,5),t.callback(!0)},n=function(t,n){e.assertEqual(t.length,0),n.start=2,n.count=20,n.onComplete=r,a.fetch(n)},o=function(t,r){e.assertEqual(t.length,5),r.start=9,r.count=100,r.onComplete=n,a.fetch(r)},u=function(t,r){e.assertEqual(t.length,5),r.start=2,r.count=20,r.onComplete=o,a.fetch(r)},d=function(t,r){e.assertEqual(t.length,1),r.start=0,r.count=5,r.onComplete=u,a.fetch(r)},s=function(t,r){e.assertEqual(t.length,5),r.start=3,r.count=1,r.onComplete=d,a.fetch(r)};return a.fetch({onComplete:function(t,r){e.assertEqual(t.length,7),r.start=1,r.count=5,r.onComplete=s,a.fetch(r)},onError:function(a,r){e.assertTrue(!1),t.errback(a)}}),t}},{name:"Read API: fetch() with MultiType Match",runTest:function(e){var a=new dojox.data.AndOrReadStore(dojox.data.tests.stores.AndOrReadStore.getTestData("data_multitype")),t=new doh.Deferred;return a.fetch({query:{count:"1*"},onComplete:function(a,r){e.assertEqual(4,a.length),t.callback(!0)},onError:function(a,r){e.assertTrue(!1),t.errback(a)}}),t}},{name:"Read API: fetch() with MultiType Match, complex",runTest:function(e){var a=new dojox.data.AndOrReadStore(dojox.data.tests.stores.AndOrReadStore.getTestData("data_multitype")),t=new doh.Deferred;return a.fetch({query:'count: "1*"',onComplete:function(a,r){e.assertEqual(4,a.length),t.callback(!0)},onError:function(a,r){e.assertTrue(!1),t.errback(a)}}),t}},{name:"Read API: fetch() with MultiType, MultiValue Match",runTest:function(e){var a=new dojox.data.AndOrReadStore(dojox.data.tests.stores.AndOrReadStore.getTestData("data_multitype")),t=new doh.Deferred;return a.fetch({query:{value:"true"},onComplete:function(a,r){e.assertEqual(7,a.length),t.callback(!0)},onError:function(a,r){e.assertTrue(!1),t.errback(a)}}),t}},{name:"Read API: fetch() with MultiType, MultiValue Match, complex",runTest:function(e){var a=new dojox.data.AndOrReadStore(dojox.data.tests.stores.AndOrReadStore.getTestData("data_multitype")),t=new doh.Deferred;return a.fetch({query:'value: "true"',onComplete:function(a,r){e.assertEqual(7,a.length),t.callback(!0)},onError:function(a,r){e.assertTrue(!1),t.errback(a)}}),t}},{name:"Read API: getLabel()",runTest:function(e){var a=new dojox.data.AndOrReadStore(dojox.data.tests.stores.AndOrReadStore.getTestData("countries")),t=new doh.Deferred;return a.fetch({query:{abbr:"ec"},onComplete:function(r,n){e.assertEqual(r.length,1);var o=a.getLabel(r[0]);e.assertTrue(null!==o),e.assertEqual("Ecuador",o),t.callback(!0)},onError:function(a,r){e.assertTrue(!1),t.errback(a)}}),t}},{name:"Read API: getLabel(), complex",runTest:function(e){var a=new dojox.data.AndOrReadStore(dojox.data.tests.stores.AndOrReadStore.getTestData("countries")),t=new doh.Deferred;return a.fetch({query:'abbr: "ec"',onComplete:function(r,n){e.assertEqual(r.length,1);var o=a.getLabel(r[0]);e.assertTrue(null!==o),e.assertEqual("Ecuador",o),t.callback(!0)},onError:function(a,r){e.assertTrue(!1),t.errback(a)}}),t}},{name:"Read API: getLabelAttributes()",runTest:function(e){var a=new dojox.data.AndOrReadStore(dojox.data.tests.stores.AndOrReadStore.getTestData("countries")),t=new doh.Deferred;return a.fetch({query:{abbr:"ec"},onComplete:function(r,n){e.assertEqual(r.length,1);var o=a.getLabelAttributes(r[0]);e.assertTrue(dojo.isArray(o)),e.assertEqual("name",o[0]),t.callback(!0)},onError:function(a,r){e.assertTrue(!1),t.errback(a)}}),t}},{name:"Read API: getLabelAttributes(), complex",runTest:function(e){var a=new dojox.data.AndOrReadStore(dojox.data.tests.stores.AndOrReadStore.getTestData("countries")),t=new doh.Deferred;return a.fetch({query:'abbr: "ec"',onComplete:function(r,n){e.assertEqual(r.length,1);var o=a.getLabelAttributes(r[0]);e.assertTrue(dojo.isArray(o)),e.assertEqual("name",o[0]),t.callback(!0)},onError:function(a,r){e.assertTrue(!1),t.errback(a)}}),t}},{name:"Read API: getValue()",runTest:function(e){var a=new dojox.data.AndOrReadStore(dojox.data.tests.stores.AndOrReadStore.getTestData("countries")),t=new doh.Deferred;return a.fetchItemByIdentity({identity:"sv",onItem:function(r){e.assertTrue(null!==r);var n=a.getValue(r,"name");e.assertTrue("El Salvador"===n),t.callback(!0)},onError:function(a){e.assertTrue(!1),t.errback(a)}}),t}},{name:"Read API: getValues()",runTest:function(e){var a=new dojox.data.AndOrReadStore(dojox.data.tests.stores.AndOrReadStore.getTestData("countries")),t=new doh.Deferred;return a.fetchItemByIdentity({identity:"sv",onItem:function(r){e.assertTrue(null!==r);var n=a.getValues(r,"name");e.assertTrue(dojo.isArray(n)),e.assertEqual(n.length,1),e.assertEqual(n[0],"El Salvador"),t.callback(!0)},onError:function(a){e.assertTrue(!1),t.errback(a)}}),t}},{name:"Read API: isItem()",runTest:function(e){var a=new dojox.data.AndOrReadStore(dojox.data.tests.stores.AndOrReadStore.getTestData("countries")),t=new doh.Deferred;return a.fetchItemByIdentity({identity:"sv",onItem:function(r){e.assertTrue(null!==r),e.assertTrue(a.isItem(r)),e.assertTrue(!a.isItem({})),t.callback(!0)},onError:function(a){e.assertTrue(!1),t.errback(a)}}),t}},{name:"Read API: isItem() multistore",runTest:function(e){var a=new dojox.data.AndOrReadStore(dojox.data.tests.stores.AndOrReadStore.getTestData("countries")),t=new dojox.data.AndOrReadStore(dojox.data.tests.stores.AndOrReadStore.getTestData("countries")),r=new doh.Deferred,n=function(a){e.assertTrue(!1),r.errback(a)};return a.fetchItemByIdentity({identity:"sv",onItem:function(o){e.assertTrue(null!==o);t.fetchItemByIdentity({identity:"sv",onItem:function(n){e.assertTrue(null!==o),e.assertTrue(null!==n),e.assertTrue(a.isItem(o)),e.assertTrue(t.isItem(n)),e.assertTrue(!a.isItem(n)),e.assertTrue(!t.isItem(o)),r.callback(!0)},onError:n})},onError:n}),r}},{name:"Read API: hasAttribute()",runTest:function(e){var a=new dojox.data.AndOrReadStore(dojox.data.tests.stores.AndOrReadStore.getTestData("countries")),t=new doh.Deferred;return a.fetchItemByIdentity({identity:"sv",onItem:function(r){e.assertTrue(null!==r),e.assertTrue(a.hasAttribute(r,"abbr")),e.assertTrue(!a.hasAttribute(r,"abbr_not"));var n=!1;try{a.hasAttribute(r,null)}catch(e){n=!0}e.assertTrue(n),t.callback(!0)},onError:function(a){e.assertTrue(!1),t.errback(a)}}),t}},{name:"Read API: containsValue()",runTest:function(e){var a=new dojox.data.AndOrReadStore(dojox.data.tests.stores.AndOrReadStore.getTestData("countries")),t=new doh.Deferred;return a.fetchItemByIdentity({identity:"sv",onItem:function(r){e.assertTrue(null!==r),e.assertTrue(a.containsValue(r,"abbr","sv")),e.assertTrue(!a.containsValue(r,"abbr","sv1")),e.assertTrue(!a.containsValue(r,"abbr",null));var n=!1;try{a.containsValue(r,null,"foo")}catch(e){n=!0}e.assertTrue(n),t.callback(!0)},onError:function(a){e.assertTrue(!1),t.errback(a)}}),t}},{name:"Read API: getAttributes()",runTest:function(e){var a=new dojox.data.AndOrReadStore(dojox.data.tests.stores.AndOrReadStore.getTestData("countries")),t=new doh.Deferred;return a.fetchItemByIdentity({identity:"sv",onItem:function(r){e.assertTrue(null!==r),e.assertTrue(a.isItem(r));var n=a.getAttributes(r);e.assertEqual(n.length,3);for(var o=0;o<n.length;o++)e.assertTrue("name"===n[o]||"abbr"===n[o]||"capital"===n[o]);t.callback(!0)},onError:function(a){e.assertTrue(!1),t.errback(a)}}),t}},{name:"Read API: getFeatures()",runTest:function(e){var a=new dojox.data.AndOrReadStore(dojox.data.tests.stores.AndOrReadStore.getTestData("countries")).getFeatures();e.assertTrue(null!==a["dojo.data.api.Read"]),e.assertTrue(null!==a["dojo.data.api.Identity"])}},{name:"Read API: fetch() patternMatch0",runTest:function(e){var a=new dojox.data.AndOrReadStore(dojox.data.tests.stores.AndOrReadStore.getTestData("countries")),t=new doh.Deferred;return a.fetch({query:{abbr:"e*"},onComplete:function(r,n){e.assertEqual(r.length,5);for(var o=!0,u=0;u<r.length;u++){var d=a.getValue(r[u],"abbr");if("ec"!==d&&"eg"!==d&&"er"!==d&&"ee"!==d&&"et"!==d){o=!1;break}}e.assertTrue(o),o?t.callback(!0):t.errback(new Error("Unexpected abbreviation found, match failure."))},onError:function(a,r){e.assertTrue(!1),t.errback(a)}}),t}},{name:"Read API: fetch() patternMatch0, complex",runTest:function(e){var a=new dojox.data.AndOrReadStore(dojox.data.tests.stores.AndOrReadStore.getTestData("countries")),t=new doh.Deferred;return a.fetch({query:'abbr: "e*"',onComplete:function(r,n){e.assertEqual(r.length,5);for(var o=!0,u=0;u<r.length;u++){var d=a.getValue(r[u],"abbr");if("ec"!==d&&"eg"!==d&&"er"!==d&&"ee"!==d&&"et"!==d){o=!1;break}}e.assertTrue(o),o?t.callback(!0):t.errback(new Error("Unexpected abbreviation found, match failure."))},onError:function(a,r){e.assertTrue(!1),t.errback(a)}}),t}},{name:"Read API: fetch() patternMatch1",runTest:function(e){var a=new dojox.data.AndOrReadStore({data:{identifier:"uniqueId",items:[{uniqueId:1,value:"foo*bar"},{uniqueId:2,value:"bar*foo"},{uniqueId:3,value:"boomBam"},{uniqueId:4,value:"bit$Bite"},{uniqueId:5,value:"ouagadogou"},{uniqueId:6,value:"BaBaMaSaRa***Foo"},{uniqueId:7,value:"squawl"},{uniqueId:8,value:"seaweed"},{uniqueId:9,value:"jfq4@#!$!@Rf14r14i5u"}]}}),t=new doh.Deferred;return a.fetch({query:{value:"*$*"},onComplete:function(r,n){e.assertEqual(r.length,2);for(var o=!0,u=0;u<r.length;u++){var d=a.getValue(r[u],"value");if("bit$Bite"!==d&&"jfq4@#!$!@Rf14r14i5u"!==d){o=!1;break}}e.assertTrue(o),o?t.callback(!0):t.errback(new Error("Unexpected pattern matched.  Filter failure."))},onError:function(a,r){e.assertTrue(!1),t.errback(a)}}),t}},{name:"Read API: fetch() patternMatch1, complex",runTest:function(e){var a=new dojox.data.AndOrReadStore({data:{identifier:"uniqueId",items:[{uniqueId:1,value:"foo*bar"},{uniqueId:2,value:"bar*foo"},{uniqueId:3,value:"boomBam"},{uniqueId:4,value:"bit$Bite"},{uniqueId:5,value:"ouagadogou"},{uniqueId:6,value:"BaBaMaSaRa***Foo"},{uniqueId:7,value:"squawl"},{uniqueId:8,value:"seaweed"},{uniqueId:9,value:"jfq4@#!$!@Rf14r14i5u"}]}}),t=new doh.Deferred;return a.fetch({query:'value: "*$*"',onComplete:function(r,n){e.assertEqual(r.length,2);for(var o=!0,u=0;u<r.length;u++){var d=a.getValue(r[u],"value");if("bit$Bite"!==d&&"jfq4@#!$!@Rf14r14i5u"!==d){o=!1;break}}e.assertTrue(o),o?t.callback(!0):t.errback(new Error("Unexpected pattern matched.  Filter failure."))},onError:function(a,r){e.assertTrue(!1),t.errback(a)}}),t}},{name:"Read API: fetch() patternMatch2",runTest:function(e){var a=new dojox.data.AndOrReadStore({data:{identifier:"uniqueId",items:[{uniqueId:1,value:"foo*bar"},{uniqueId:2,value:"bar*foo"},{uniqueId:3,value:"boomBam"},{uniqueId:4,value:"bit$Bite"},{uniqueId:5,value:"ouagadogou"},{uniqueId:6,value:"BaBaMaSaRa***Foo"},{uniqueId:7,value:"squawl"},{uniqueId:8,value:"seaweed"},{uniqueId:9,value:"jfq4@#!$!@Rf14r14i5u"}]}}),t=new doh.Deferred;return a.fetch({query:{value:"bar\\*foo"},onComplete:function(r,n){e.assertEqual(r.length,1);for(var o=!0,u=0;u<r.length;u++)if("bar*foo"!==a.getValue(r[u],"value")){o=!1;break}e.assertTrue(o),o?t.callback(!0):t.errback(new Error("Unexpected abbreviation found, match failure."))},onError:function(a,r){e.assertTrue(!1),t.errback(a)}}),t}},{name:"Read API: fetch() patternMatch2, complex",runTest:function(e){var a=new dojox.data.AndOrReadStore({data:{identifier:"uniqueId",items:[{uniqueId:1,value:"foo*bar"},{uniqueId:2,value:"bar*foo"},{uniqueId:3,value:"boomBam"},{uniqueId:4,value:"bit$Bite"},{uniqueId:5,value:"ouagadogou"},{uniqueId:6,value:"BaBaMaSaRa***Foo"},{uniqueId:7,value:"squawl"},{uniqueId:8,value:"seaweed"},{uniqueId:9,value:"jfq4@#!$!@Rf14r14i5u"}]}}),t=new doh.Deferred;return a.fetch({query:'value: "bar\\*foo"',onComplete:function(r,n){e.assertEqual(r.length,1);for(var o=!0,u=0;u<r.length;u++)if("bar*foo"!==a.getValue(r[u],"value")){o=!1;break}e.assertTrue(o),o?t.callback(!0):t.errback(new Error("Unexpected abbreviation found, match failure."))},onError:function(a,r){e.assertTrue(!1),t.errback(a)}}),t}},{name:"Read API: fetch() patternMatch_caseSensitive",runTest:function(e){var a=new dojox.data.AndOrReadStore({data:{identifier:"uniqueId",items:[{uniqueId:1,value:"foo*bar"},{uniqueId:2,value:"bar*foo"},{uniqueId:3,value:"BAR*foo"},{uniqueId:4,value:"BARBananafoo"}]}}),t=new doh.Deferred;return a.fetch({query:{value:"bar\\*foo"},queryOptions:{ignoreCase:!1},onComplete:function(r,n){e.assertEqual(1,r.length);for(var o=!0,u=0;u<r.length;u++)if("bar*foo"!==a.getValue(r[u],"value")){o=!1;break}e.assertTrue(o),o?t.callback(!0):t.errback(new Error("Unexpected pattern matched.  Filter failure."))},onError:function(a,r){e.assertTrue(!1),t.errback(a)}}),t}},{name:"Read API: fetch() patternMatch_caseSensitive, complex",runTest:function(e){var a=new dojox.data.AndOrReadStore({data:{identifier:"uniqueId",items:[{uniqueId:1,value:"foo*bar"},{uniqueId:2,value:"bar*foo"},{uniqueId:3,value:"BAR*foo"},{uniqueId:4,value:"BARBananafoo"}]}}),t=new doh.Deferred;return a.fetch({query:'value: "bar\\*foo"',queryOptions:{ignoreCase:!1},onComplete:function(r,n){e.assertEqual(1,r.length);for(var o=!0,u=0;u<r.length;u++)if("bar*foo"!==a.getValue(r[u],"value")){o=!1;break}e.assertTrue(o),o?t.callback(!0):t.errback(new Error("Unexpected pattern matched.  Filter failure."))},onError:function(a,r){e.assertTrue(!1),t.errback(a)}}),t}},{name:"Read API: fetch() patternMatch_caseInsensitive",runTest:function(e){var a=new dojox.data.AndOrReadStore({data:{identifier:"uniqueId",items:[{uniqueId:1,value:"foo*bar"},{uniqueId:2,value:"bar*foo"},{uniqueId:3,value:"BAR*foo"},{uniqueId:4,value:"BARBananafoo"}]}}),t=new doh.Deferred;return a.fetch({query:{value:"bar\\*foo"},queryOptions:{ignoreCase:!0},onComplete:function(r,n){e.assertEqual(r.length,2);for(var o=!0,u=0;u<r.length;u++){var d=a.getValue(r[u],"value");if("BAR*foo"!==d&&"bar*foo"!==d){o=!1;break}}e.assertTrue(o),o?t.callback(!0):t.errback(new Error("Unexpected pattern matched.  Filter failure."))},onError:function(a,r){e.assertTrue(!1),t.errback(a)}}),t}},{name:"Read API: fetch() patternMatch_caseInsensitive, complex",runTest:function(e){var a=new dojox.data.AndOrReadStore({data:{identifier:"uniqueId",items:[{uniqueId:1,value:"foo*bar"},{uniqueId:2,value:"bar*foo"},{uniqueId:3,value:"BAR*foo"},{uniqueId:4,value:"BARBananafoo"}]}}),t=new doh.Deferred;return a.fetch({query:'value: "bar\\*foo"',queryOptions:{ignoreCase:!0},onComplete:function(r,n){e.assertEqual(r.length,2);for(var o=!0,u=0;u<r.length;u++){var d=a.getValue(r[u],"value");if("BAR*foo"!==d&&"bar*foo"!==d){o=!1;break}}e.assertTrue(o),o?t.callback(!0):t.errback(new Error("Unexpected pattern matched.  Filter failure."))},onError:function(a,r){e.assertTrue(!1),t.errback(a)}}),t}},{name:"Read API: fetch() sortNumeric",runTest:function(e){var a=new dojox.data.AndOrReadStore({data:{identifier:"uniqueId",items:[{uniqueId:0,value:"fo|o*b.ar"},{uniqueId:1,value:"ba|r*foo"},{uniqueId:2,value:"boomBam"},{uniqueId:3,value:"bit$Bite"},{uniqueId:4,value:"ouagadogou"},{uniqueId:5,value:"jfq4@#!$!@|f1.$4r14i5u"},{uniqueId:6,value:"BaB{aMa|SaRa***F}oo"},{uniqueId:7,value:"squawl"},{uniqueId:9,value:"seaweed"},{uniqueId:10,value:"zulu"},{uniqueId:8,value:"seaweed"}]}}),t=new doh.Deferred;return a.fetch({onComplete:function(r,n){e.assertEqual(r.length,11);for(var o=!0,u=0;u<r.length;u++)if(a.getValue(r[u],"value"),a.getValue(r[u],"uniqueId")!==u){o=!1;break}e.assertTrue(o),o?t.callback(!0):t.errback(new Error("Unexpected sorting order found, sort failure."))},onError:function(a,r){e.assertTrue(!1),t.errback(a)},sort:[{attribute:"uniqueId"}]}),t}},{name:"Read API: fetch() sortNumericDescending",runTest:function(e){var a=new dojox.data.AndOrReadStore({data:{identifier:"uniqueId",items:[{uniqueId:0,value:"fo|o*b.ar"},{uniqueId:1,value:"ba|r*foo"},{uniqueId:2,value:"boomBam"},{uniqueId:3,value:"bit$Bite"},{uniqueId:4,value:"ouagadogou"},{uniqueId:5,value:"jfq4@#!$!@|f1.$4r14i5u"},{uniqueId:6,value:"BaB{aMa|SaRa***F}oo"},{uniqueId:7,value:"squawl"},{uniqueId:9,value:"seaweed"},{uniqueId:10,value:"zulu"},{uniqueId:8,value:"seaweed"}]}}),t=new doh.Deferred;return a.fetch({onComplete:function(r,n){e.assertEqual(r.length,11);for(var o=!0,u=0;u<r.length;u++)if(a.getValue(r[u],"value"),r.length-(a.getValue(r[u],"uniqueId")+1)!==u){o=!1;break}e.assertTrue(o),o?t.callback(!0):t.errback(new Error("Unexpected sorting order found, sort failure."))},onError:function(a,r){e.assertTrue(!1),t.errback(a)},sort:[{attribute:"uniqueId",descending:!0}]}),t}},{name:"Read API: fetch() sortNumericWithCount",runTest:function(e){var a=new dojox.data.AndOrReadStore({data:{identifier:"uniqueId",items:[{uniqueId:0,value:"fo|o*b.ar"},{uniqueId:1,value:"ba|r*foo"},{uniqueId:2,value:"boomBam"},{uniqueId:3,value:"bit$Bite"},{uniqueId:4,value:"ouagadogou"},{uniqueId:5,value:"jfq4@#!$!@|f1.$4r14i5u"},{uniqueId:6,value:"BaB{aMa|SaRa***F}oo"},{uniqueId:7,value:"squawl"},{uniqueId:9,value:"seaweed"},{uniqueId:10,value:"zulu"},{uniqueId:8,value:"seaweed"}]}}),t=new doh.Deferred;return a.fetch({onComplete:function(r,n){e.assertEqual(r.length,5);for(var o=10,u=!0,d=0;d<r.length;d++){if(a.getValue(r[d],"value"),a.getValue(r[d],"uniqueId")!==o){u=!1;break}o--}e.assertTrue(u),u?t.callback(!0):t.errback(new Error("Unexpected sorting order found, sort failure."))},onError:function(a,r){e.assertTrue(!1),t.errback(a)},sort:[{attribute:"uniqueId",descending:!0}],count:5}),t}},{name:"Read API: fetch() sortAlphabetic",runTest:function(e){var a=new dojox.data.AndOrReadStore({data:{identifier:"uniqueId",items:[{uniqueId:0,value:"abc"},{uniqueId:1,value:"bca"},{uniqueId:2,value:"abcd"},{uniqueId:3,value:"abcdefg"},{uniqueId:4,value:"lmnop"},{uniqueId:5,value:"foghorn"},{uniqueId:6,value:"qberty"},{uniqueId:7,value:"qwerty"},{uniqueId:8,value:""},{uniqueId:9,value:"seaweed"},{uniqueId:10,value:"123abc"}]}}),t=new doh.Deferred;return a.fetch({onComplete:function(r,n){var o=["","123abc","abc","abcd","abcdefg","bca","foghorn","lmnop","qberty","qwerty","seaweed"];e.assertEqual(r.length,11);for(var u=!0,d=0;d<r.length;d++)if(a.getValue(r[d],"value"),a.getValue(r[d],"value")!==o[d]){u=!1;break}e.assertTrue(u),u?t.callback(!0):t.errback(new Error("Unexpected sorting order found, sort failure."))},onError:function(a,r){e.assertTrue(!1),t.errback(a)},sort:[{attribute:"value"}]}),t}},{name:"Read API: fetch() sortAlphabeticDescending",runTest:function(e){var a=new dojox.data.AndOrReadStore({data:{identifier:"uniqueId",items:[{uniqueId:0,value:"abc"},{uniqueId:1,value:"bca"},{uniqueId:2,value:"abcd"},{uniqueId:3,value:"abcdefg"},{uniqueId:4,value:"lmnop"},{uniqueId:5,value:"foghorn"},{uniqueId:6,value:"qberty"},{uniqueId:7,value:"qwerty"},{uniqueId:8,value:""},{uniqueId:9,value:"seaweed"},{uniqueId:10,value:"123abc"}]}}),t=new doh.Deferred;return a.fetch({onComplete:function(r,n){var o=["","123abc","abc","abcd","abcdefg","bca","foghorn","lmnop","qberty","qwerty","seaweed"];o=o.reverse(),e.assertEqual(r.length,11);for(var u=!0,d=0;d<r.length;d++)if(a.getValue(r[d],"value"),a.getValue(r[d],"value")!==o[d]){u=!1;break}e.assertTrue(u),u?t.callback(!0):t.errback(new Error("Unexpected sorting order found, sort failure."))},onError:function(a,r){e.assertTrue(!1),t.errback(a)},sort:[{attribute:"value",descending:!0}]}),t}},{name:"Read API: fetch() sortDate",runTest:function(e){var a=new dojox.data.AndOrReadStore({data:{identifier:"uniqueId",items:[{uniqueId:0,value:new Date(0)},{uniqueId:1,value:new Date(100)},{uniqueId:2,value:new Date(1e3)},{uniqueId:3,value:new Date(2e3)},{uniqueId:4,value:new Date(3e3)},{uniqueId:5,value:new Date(4e3)},{uniqueId:6,value:new Date(5e3)},{uniqueId:7,value:new Date(6e3)},{uniqueId:8,value:new Date(7e3)},{uniqueId:9,value:new Date(8e3)},{uniqueId:10,value:new Date(9e3)}]}}),t=new doh.Deferred;return a.fetch({onComplete:function(r,n){var o=[0,100,1e3,2e3,3e3,4e3,5e3,6e3,7e3,8e3,9e3];e.assertEqual(r.length,11);for(var u=!0,d=0;d<r.length;d++)if(a.getValue(r[d],"value"),a.getValue(r[d],"value").getTime()!==o[d]){u=!1;break}e.assertTrue(u),u?t.callback(!0):t.errback(new Error("Unexpected sorting order found, sort failure."))},onError:function(a,r){e.assertTrue(!1),t.errback(a)},sort:[{attribute:"value"}]}),t}},{name:"Read API: fetch() sortDateDescending",runTest:function(e){var a=new dojox.data.AndOrReadStore({data:{identifier:"uniqueId",items:[{uniqueId:0,value:new Date(0)},{uniqueId:1,value:new Date(100)},{uniqueId:2,value:new Date(1e3)},{uniqueId:3,value:new Date(2e3)},{uniqueId:4,value:new Date(3e3)},{uniqueId:5,value:new Date(4e3)},{uniqueId:6,value:new Date(5e3)},{uniqueId:7,value:new Date(6e3)},{uniqueId:8,value:new Date(7e3)},{uniqueId:9,value:new Date(8e3)},{uniqueId:10,value:new Date(9e3)}]}}),t=new doh.Deferred;return a.fetch({onComplete:function(r,n){var o=[0,100,1e3,2e3,3e3,4e3,5e3,6e3,7e3,8e3,9e3];o=o.reverse(),e.assertEqual(r.length,11);for(var u=!0,d=0;d<r.length;d++)if(a.getValue(r[d],"value"),a.getValue(r[d],"value").getTime()!==o[d]){u=!1;break}e.assertTrue(u),u?t.callback(!0):t.errback(new Error("Unexpected sorting order found, sort failure."))},onError:function(a,r){e.assertTrue(!1),t.errback(a)},sort:[{attribute:"value",descending:!0}]}),t}},{name:"Read API: fetch() sortMultiple",runTest:function(e){var a=new dojox.data.AndOrReadStore({data:{identifier:"uniqueId",items:[{uniqueId:1,value:"fo|o*b.ar"},{uniqueId:2,value:"ba|r*foo"},{uniqueId:3,value:"boomBam"},{uniqueId:4,value:"bit$Bite"},{uniqueId:5,value:"ouagadogou"},{uniqueId:6,value:"jfq4@#!$!@|f1.$4r14i5u"},{uniqueId:7,value:"BaB{aMa|SaRa***F}oo"},{uniqueId:8,value:"squawl"},{uniqueId:10,value:"seaweed"},{uniqueId:12,value:"seaweed"},{uniqueId:11,value:"zulu"},{uniqueId:9,value:"seaweed"}]}}),t=new doh.Deferred;return a.fetch({onComplete:function(r,n){for(var o=[7,2,4,3,1,6,5,12,10,9,8,11],u=["BaB{aMa|SaRa***F}oo","ba|r*foo","bit$Bite","boomBam","fo|o*b.ar","jfq4@#!$!@|f1.$4r14i5u","ouagadogou","seaweed","seaweed","seaweed","squawl","zulu"],d=!0,s=0;s<r.length;s++)if(a.getValue(r[s],"value"),a.getValue(r[s],"uniqueId")!==o[s]||a.getValue(r[s],"value")!==u[s]){d=!1;break}e.assertTrue(d),d?t.callback(!0):t.errback(new Error("Unexpected sorting order found, sort failure."))},onError:function(a,r){e.assertTrue(!1),t.errback(a)},sort:[{attribute:"value"},{attribute:"uniqueId",descending:!0}]}),t}},{name:"Read API: fetch() sortMultipleSpecialComparator",runTest:function(e){var a=new dojox.data.AndOrReadStore({data:{identifier:"uniqueId",items:[{uniqueId:1,status:"CLOSED"},{uniqueId:2,status:"OPEN"},{uniqueId:3,status:"PENDING"},{uniqueId:4,status:"BLOCKED"},{uniqueId:5,status:"CLOSED"},{uniqueId:6,status:"OPEN"},{uniqueId:7,status:"PENDING"},{uniqueId:8,status:"PENDING"},{uniqueId:10,status:"BLOCKED"},{uniqueId:12,status:"BLOCKED"},{uniqueId:11,status:"OPEN"},{uniqueId:9,status:"CLOSED"}]}});a.comparatorMap={},a.comparatorMap.status=function(e,a){var t=0,r={OPEN:3,BLOCKED:2,PENDING:1,CLOSED:0};return r[e]>r[a]&&(t=1),r[e]<r[a]&&(t=-1),t};var t=new doh.Deferred;return a.fetch({onComplete:function(r,n){for(var o=[11,6,2,12,10,4,8,7,3,9,5,1],u=!0,d=0;d<r.length;d++)if(a.getValue(r[d],"value"),a.getValue(r[d],"uniqueId")!==o[d]){u=!1;break}e.assertTrue(u),u?t.callback(!0):t.errback(new Error("Unexpected sorting order found, sort failure."))},onError:function(a,r){e.assertTrue(!1),t.errback(a)},sort:[{attribute:"status",descending:!0},{attribute:"uniqueId",descending:!0}]}),t}},{name:"Read API: fetch() sortAlphabeticWithUndefined",runTest:function(e){var a=new dojox.data.AndOrReadStore({data:{identifier:"uniqueId",items:[{uniqueId:0,value:"abc"},{uniqueId:1,value:"bca"},{uniqueId:2,value:"abcd"},{uniqueId:3,value:"abcdefg"},{uniqueId:4,value:"lmnop"},{uniqueId:5,value:"foghorn"},{uniqueId:6,value:"qberty"},{uniqueId:7,value:"qwerty"},{uniqueId:8},{uniqueId:9,value:"seaweed"},{uniqueId:10,value:"123abc"}]}}),t=new doh.Deferred;return a.fetch({onComplete:function(r,n){var o=[10,0,2,3,1,5,4,6,7,9,8];e.assertEqual(r.length,11);for(var u=!0,d=0;d<r.length;d++)if(a.getValue(r[d],"uniqueId")!==o[d]){u=!1;break}e.assertTrue(u),u?t.callback(!0):t.errback(new Error("Unexpected sorting order found, sort failure."))},onError:function(a,r){e.assertTrue(!1),t.errback(a)},sort:[{attribute:"value"}]}),t}},{name:"Read API: errorCondition_idCollision_inMemory",runTest:function(e){var a=new dojox.data.AndOrReadStore({data:{identifier:"uniqueId",items:[{uniqueId:12345,value:"foo"},{uniqueId:123456,value:"bar"},{uniqueId:12345,value:"boom"},{uniqueId:123457,value:"bit"}]}}),t=new doh.Deferred;return a.fetch({onComplete:function(a,r){e.assertTrue(!1),t.callback(!1)},onError:function(a,r){e.assertTrue(!0),t.callback(!0)}}),t}},{name:"Read API: errorCondition_idCollision_xhr",runTest:function(e){if(dojo.isBrowser){var a=new dojox.data.AndOrReadStore({url:require.toUrl("dojo/tests/data/countries_idcollision.json").toString()}),t=new doh.Deferred;return a.fetch({onComplete:function(a,r){e.assertTrue(!1),t.callback(!1)},onError:function(a,r){e.assertTrue(!0),t.callback(!0)}}),t}}},{name:"Read API: Date_datatype",runTest:function(e){var a=new dojox.data.AndOrReadStore(dojox.data.tests.stores.AndOrReadStore.getTestData("countries_withDates")),t=new doh.Deferred;return a.fetchItemByIdentity({identity:"er",onItem:function(r){e.assertTrue(null!==r);var n=a.getValue(r,"independence");e.assertTrue(n instanceof Date),e.assertTrue("1993-05-24T00:00:00Z"===dojo.date.stamp.toISOString(n,{zulu:!0})),t.callback(!0)},onError:function(a){e.assertTrue(!1),t.errback(a)}}),t}},{name:"Read API: custom_datatype_Color_SimpleMapping",runTest:function(e){var a=new dojox.data.AndOrReadStore({data:{identifier:"name",items:[{name:"Kermit",species:"frog",color:{_type:"Color",_value:"green"}},{name:"Beaker",hairColor:{_type:"Color",_value:"red"}}]},typeMap:{Color:dojo.Color}}),t=new doh.Deferred;return a.fetchItemByIdentity({identity:"Beaker",onItem:function(r){e.assertTrue(null!==r);var n=r,o=a.getValue(n,"hairColor");e.assertTrue(o instanceof dojo.Color),e.assertTrue("#ff0000"==o.toHex()),t.callback(!0)},onError:function(e){t.errback(e)}}),t}},{name:"Read API: custom_datatype_Color_GeneralMapping",runTest:function(e){var a=new dojox.data.AndOrReadStore({data:{identifier:"name",items:[{name:"Kermit",species:"frog",color:{_type:"Color",_value:"green"}},{name:"Beaker",hairColor:{_type:"Color",_value:"red"}}]},typeMap:{Color:{type:dojo.Color,deserialize:function(e){return new dojo.Color(e)}}}}),t=new doh.Deferred;return a.fetchItemByIdentity({identity:"Beaker",onItem:function(r){e.assertTrue(null!==r);var n=r,o=a.getValue(n,"hairColor");e.assertTrue(o instanceof dojo.Color),e.assertTrue("#ff0000"==o.toHex()),t.callback(!0)},onError:function(e){t.errback(e)}}),t}},{name:"Read API: custom_datatype_CustomObject 0 (False) value",runTest:function(e){var a=new dojox.data.AndOrReadStore({data:{identifier:"name",items:[{name:"Bob",species:"human",age:{_type:"dojox.data.tests.Wrapper",_value:0}},{name:"Nancy",species:"human",age:{_type:"dojox.data.tests.Wrapper",_value:32}}]},typeMap:{"dojox.data.tests.Wrapper":{type:dojox.data.tests.Wrapper,deserialize:function(e){return new dojox.data.tests.Wrapper(e)}}}}),t=new doh.Deferred;return a.fetchItemByIdentity({identity:"Bob",onItem:function(r){console.log(r),e.assertTrue(null!==r);var n=a.getValue(r,"age");e.assertTrue(n instanceof dojox.data.tests.Wrapper),e.assertTrue("WRAPPER: [0]"==n.toString()),t.callback(!0)},onError:function(e){t.errback(e)}}),t}},{name:"Read API: custom_datatype_CustomObject Boolean False values",runTest:function(e){var a=new dojox.data.AndOrReadStore({data:{identifier:"name",items:[{name:"Bob",isHuman:{_type:"dojox.data.tests.Wrapper",_value:!1}},{name:"Nancy",isHuman:{_type:"dojox.data.tests.Wrapper",_value:!0}}]},typeMap:{"dojox.data.tests.Wrapper":{type:dojox.data.tests.Wrapper,deserialize:function(e){return new dojox.data.tests.Wrapper(e)}}}}),t=new doh.Deferred;return a.fetchItemByIdentity({identity:"Bob",onItem:function(r){e.assertTrue(null!==r);var n=a.getValue(r,"isHuman");e.assertTrue(n instanceof dojox.data.tests.Wrapper),e.assertTrue("WRAPPER: [false]"==n.toString()),t.callback(!0)},onError:function(e){t.errback(e)}}),t}},{name:"Read API: custom_datatype_CustomObject Empty String values",runTest:function(e){var a=new dojox.data.AndOrReadStore({data:{identifier:"name",items:[{name:"Bob",lastName:{_type:"dojox.data.tests.Wrapper",_value:""}},{name:"Nancy",lastName:{_type:"dojox.data.tests.Wrapper",_value:"Doe"}}]},typeMap:{"dojox.data.tests.Wrapper":{type:dojox.data.tests.Wrapper,deserialize:function(e){return new dojox.data.tests.Wrapper(e)}}}}),t=new doh.Deferred;return a.fetchItemByIdentity({identity:"Bob",onItem:function(r){e.assertTrue(null!==r);var n=a.getValue(r,"lastName");e.assertTrue(n instanceof dojox.data.tests.Wrapper),e.assertTrue("WRAPPER: []"==n.toString()),t.callback(!0)},onError:function(e){t.errback(e)}}),t}},{name:"Read API: custom_datatype_CustomObject explicit null values",runTest:function(e){var a=new dojox.data.AndOrReadStore({data:{identifier:"name",items:[{name:"Bob",lastName:{_type:"dojox.data.tests.Wrapper",_value:null}},{name:"Nancy",lastName:{_type:"dojox.data.tests.Wrapper",_value:"Doe"}}]},typeMap:{"dojox.data.tests.Wrapper":{type:dojox.data.tests.Wrapper,deserialize:function(e){return new dojox.data.tests.Wrapper(e)}}}}),t=new doh.Deferred;return a.fetchItemByIdentity({identity:"Bob",onItem:function(r){e.assertTrue(null!==r);var n=a.getValue(r,"lastName");e.assertTrue(n instanceof dojox.data.tests.Wrapper),e.assertTrue("WRAPPER: [null]"==n.toString()),t.callback(!0)},onError:function(e){t.errback(e)}}),t}},{name:"Read API: custom_datatype_CustomObject explicit undefined value",runTest:function(e){var a={identifier:"name",items:[{name:"Bob",lastName:{_type:"dojox.data.tests.Wrapper",_value:void 0}},{name:"Nancy",lastName:{_type:"dojox.data.tests.Wrapper",_value:"Doe"}}]},t=new dojox.data.AndOrReadStore({data:a,typeMap:{"dojox.data.tests.Wrapper":{type:dojox.data.tests.Wrapper,deserialize:function(e){return new dojox.data.tests.Wrapper(e)}}}}),r=new doh.Deferred;return t.fetchItemByIdentity({identity:"Bob",onItem:function(a){e.assertTrue(null!==a);var n=t.getValue(a,"lastName");e.assertTrue(n instanceof dojox.data.tests.Wrapper),e.assertTrue("WRAPPER: [undefined]"==n.toString()),r.callback(!0)},onError:function(e){r.errback(e)}}),r}},{name:"Read API: hierarchical_data",runTest:function(e){var a=new dojox.data.AndOrReadStore(dojox.data.tests.stores.AndOrReadStore.getTestData("geography_hierarchy_small")),t=new doh.Deferred;return a.fetch({query:{name:"North America"},onComplete:function(r,n){e.assertEqual(r.length,1);var o=r[0],u=a.getValue(o,"countries"),d=a.getValue(u,"cities");e.assertEqual(a.getValue(u,"name"),"Canada"),e.assertEqual(a.getValue(d,"name"),"Toronto"),t.callback(!0)},onError:function(e){t.errback(e)}}),t}},{name:"Read API: hierarchical_data, complex",runTest:function(e){var a=new dojox.data.AndOrReadStore(dojox.data.tests.stores.AndOrReadStore.getTestData("geography_hierarchy_small")),t=new doh.Deferred;return a.fetch({query:'name: "North America"',onComplete:function(r,n){e.assertEqual(r.length,1);var o=r[0],u=a.getValue(o,"countries"),d=a.getValue(u,"cities");e.assertEqual(a.getValue(u,"name"),"Canada"),e.assertEqual(a.getValue(d,"name"),"Toronto"),t.callback(!0)},onError:function(e){t.errback(e)}}),t}},{name:"Read API: close (clearOnClose: true, reset url.)",runTest:function(e){if(dojo.isBrowser){var a=new dojox.data.AndOrReadStore(dojox.data.tests.stores.AndOrReadStore.getTestData("countries"));a.clearOnClose=!0,a.urlPreventCache=!0;var t=new doh.Deferred;function r(e){t.errback(e)}return a.fetchItemByIdentity({identity:"ec",onItem:function(n){var o=null;try{e.assertTrue(null!==n);var u=n,d=a.getValue(u,"name");e.assertEqual("Ecuador",d),a.close(),e.assertTrue(0===a._arrayOfAllItems.length),e.assertTrue(!1===a._loadFinished),a.url=require.toUrl("dojo/tests/data/countries_withNull.json").toString(),a.fetchItemByIdentity({identity:"ec",onItem:function(r){var n;try{e.assertTrue(null!==r);var o=a.getValue(r,"name");e.assertEqual(null,o)}catch(e){n=e}n?t.errback(n):t.callback(!0)},onError:r})}catch(e){o=e}o&&t.errback(o)},onError:r}),t}}},{name:"Read API: fetch, close (clearOnClose: true, reset url.)",runTest:function(e){if(dojo.isBrowser){var a=new dojox.data.AndOrReadStore(dojox.data.tests.stores.AndOrReadStore.getTestData("countries"));a.clearOnClose=!0,a.urlPreventCache=!0;var t=new doh.Deferred;function r(e){t.errback(e)}return a.fetchItemByIdentity({identity:"ec",onItem:function(n){var o=null;try{e.assertTrue(null!==n);var u=n,d=a.getValue(u,"name");e.assertEqual("Ecuador",d),a.close(),e.assertTrue(0===a._arrayOfAllItems.length),e.assertTrue(!1===a._loadFinished),a.url=require.toUrl("dojo/tests/data/countries_withNull.json").toString(),a.fetch({query:{abbr:"ec"},onComplete:function(r){var n;try{e.assertEqual(1,r.length);var o=r[0];e.assertTrue(null!==o);var u=a.getValue(o,"name");e.assertEqual(null,u)}catch(e){n=e}n?t.errback(n):t.callback(!0)},onError:r})}catch(e){o=e}o&&t.errback(o)},onError:r}),t}}},{name:"Read API: close (clearOnClose: true, reset _jsonFileUrl.)",runTest:function(e){if(dojo.isBrowser){var a=new dojox.data.AndOrReadStore(dojox.data.tests.stores.AndOrReadStore.getTestData("countries"));a.clearOnClose=!0,a.urlPreventCache=!0;var t=new doh.Deferred;function r(e){t.errback(e)}return a.fetchItemByIdentity({identity:"ec",onItem:function(n){var o=null;try{e.assertTrue(null!==n);var u=n,d=a.getValue(u,"name");e.assertEqual("Ecuador",d),a.close(),e.assertTrue(0===a._arrayOfAllItems.length),e.assertTrue(!1===a._loadFinished),a._jsonFileUrl=require.toUrl("dojo/tests/data/countries_withNull.json").toString(),a.fetchItemByIdentity({identity:"ec",onItem:function(r){var n;try{e.assertTrue(null!==r);var o=a.getValue(r,"name");e.assertEqual(null,o)}catch(e){n=e}n?t.errback(n):t.callback(!0)},onError:r})}catch(e){o=e}o&&t.errback(o)},onError:r}),t}}},{name:"Read API: close (clearOnClose: true, reset data.)",runTest:function(e){var a=new dojox.data.AndOrReadStore({data:{identifier:"uniqueId",items:[{uniqueId:1,value:"foo*bar"},{uniqueId:2,value:"bar*foo"},{uniqueId:3,value:"boomBam"},{uniqueId:4,value:"bit$Bite"},{uniqueId:5,value:"ouagadogou"},{uniqueId:6,value:"BaBaMaSaRa***Foo"},{uniqueId:7,value:"squawl"},{uniqueId:8,value:"seaweed"},{uniqueId:9,value:"jfq4@#!$!@Rf14r14i5u"}]}}),t=new doh.Deferred;function r(a,r){e.assertTrue(!1),t.errback(a)}return a.fetch({query:{value:"bar*foo"},onComplete:function(n,o){e.assertEqual(n.length,1);var u=n[0];a.clearOnClose=!0,a.data={identifier:"uniqueId",items:[{uniqueId:1,value:"foo*bar"},{uniqueId:2,value:"bar*foo"},{uniqueId:3,value:"boomBam"},{uniqueId:4,value:"bit$Bite"},{uniqueId:5,value:"ouagadogou"},{uniqueId:6,value:"BaBaMaSaRa***Foo"},{uniqueId:7,value:"squawl"},{uniqueId:8,value:"seaweed"},{uniqueId:9,value:"jfq4@#!$!@Rf14r14i5u"}]},a.close();a.fetch({query:{value:"bar*foo"},onComplete:function(a,r){try{e.assertEqual(a.length,1);var n=a[0];e.assertTrue(null!=u),e.assertTrue(null!=n),e.assertTrue(u!=n),t.callback(!0)}catch(e){t.errback(e)}},onError:r})},onError:r}),t}},{name:"Identity API: no_identifier_specified",runTest:function(e){var a=new dojox.data.AndOrReadStore({data:{items:[{name:"Kermit",color:"green"},{name:"Miss Piggy",likes:"Kermit"},{name:"Beaker",hairColor:"red"}]}}),t=new doh.Deferred;return a.fetch({onComplete:function(r,n){var o=a.getFeatures(),u=Boolean(o["dojo.data.api.Identity"]);e.assertTrue(u);for(var d=0;d<r.length;++d){var s=r[d],i=a.getIdentityAttributes(s);e.assertTrue(null===i);var l=a.getIdentity(s);e.assertTrue("number"==typeof l)}t.callback(!0)},onError:function(e,a){t.errback(!0)}}),t}},{name:"Identity API: hierarchical_data",runTest:function(e){var a=new dojox.data.AndOrReadStore(dojox.data.tests.stores.AndOrReadStore.getTestData("geography_hierarchy_small")),t=new doh.Deferred;return a.fetch({onComplete:function(r,n){var o=a.getFeatures(),u=Boolean(o["dojo.data.api.Identity"]);e.assertTrue(u);for(var d=0;d<r.length;++d){var s=r[d],i=a.getIdentityAttributes(s);e.assertTrue(null===i);var l=a.getIdentity(s);e.assertTrue("number"==typeof l)}t.callback(!0)},onError:function(e,a){t.errback(!0)}}),t}},{name:"Read API: functionConformance",runTest:function(e){var a=new dojox.data.AndOrReadStore(dojox.data.tests.stores.AndOrReadStore.getTestData("countries")),t=new dojo.data.api.Read,r=!0;for(var n in t){if("_"!==n.toString().charAt(0))if("function"==typeof t[n])if("function"!=typeof a[n]){r=!1;break}}e.assertTrue(r)}},{name:"Identity API: functionConformance",runTest:function(e){var a=new dojox.data.AndOrReadStore(dojox.data.tests.stores.AndOrReadStore.getTestData("countries")),t=new dojo.data.api.Identity,r=!0;for(var n in t){if("_"!==n.toString().charAt(0))if("function"==typeof t[n])if("function"!=typeof a[n]){r=!1;break}}e.assertTrue(r)}},{name:"Read API: fetch() multiple, OR, complex",runTest:function(e){var a=new dojox.data.AndOrReadStore(dojox.data.tests.stores.AndOrReadStore.getTestData("countries")),t=new doh.Deferred;return a.fetch({query:'abbr: "s*" || capital:"A*"',onComplete:function(a,r){e.assertEqual(a.length,3),t.callback(!0)},onError:function(a,r){e.assertTrue(!1),t.errback(a)}}),t}},{name:"Read API: fetch() multiple, AND(OR, complex",runTest:function(e){var a=new dojox.data.AndOrReadStore(dojox.data.tests.stores.AndOrReadStore.getTestData("countries")),t=new doh.Deferred;return a.fetch({query:'abbr: "e*" AND (capital:"A*" or capital: "Q*")',onComplete:function(a,r){e.assertEqual(a.length,3),t.callback(!0)},onError:function(a,r){e.assertTrue(!1),t.errback(a)}}),t}},{name:"Read API: fetch() multiple, AND(OR, as json object, complex",runTest:function(e){var a=new dojox.data.AndOrReadStore(dojox.data.tests.stores.AndOrReadStore.getTestData("countries")),t=new doh.Deferred;return a.fetch({query:{complexQuery:'abbr: "e*" AND (capital:"A*" or capital: "Q*")'},onComplete:function(a,r){e.assertEqual(a.length,3),t.callback(!0)},onError:function(a,r){e.assertTrue(!1),t.errback(a)}}),t}},{name:"Read API: fetch() multiple, AND/OR, as json object, complex, with extra attrs",runTest:function(e){var a=new dojox.data.AndOrReadStore(dojox.data.tests.stores.AndOrReadStore.getTestData("countries")),t=new doh.Deferred;return a.fetch({query:{complexQuery:'abbr: "e*" AND (capital:"A*" or capital: "Q*")',name:"Ec*"},onComplete:function(a,r){e.assertEqual(a.length,1),t.callback(!0)},onError:function(a,r){e.assertTrue(!1),t.errback(a)}}),t}},{name:"Read API: fetch() multiple, AND/OR, as json object, complex, with extra attrs and spaces",runTest:function(e){var a=new dojox.data.AndOrReadStore(dojox.data.tests.stores.AndOrReadStore.getTestData("countries")),t=new doh.Deferred;return a.fetch({query:{complexQuery:'abbr: "g*" AND (capital:"A*" or capital: "M*")',name:"Equatorial G*"},onComplete:function(r,n){e.assertEqual(r.length,1),e.assertEqual("Equatorial Guinea",a.getValue(r[0],"name")),t.callback(!0)},onError:function(a,r){e.assertTrue(!1),t.errback(a)}}),t}},{name:"Read API: fetch() multiple, AND/OR, as quoted json object, complex",runTest:function(e){var a=new dojox.data.AndOrReadStore(dojox.data.tests.stores.AndOrReadStore.getTestData("countries")),t=new doh.Deferred;return a.fetch({query:'{complexQuery:\'abbr: "e*" AND (capital:"A*" or capital: "Q*")\'}',onComplete:function(a,r){e.assertEqual(a.length,3),t.callback(!0)},onError:function(a,r){e.assertTrue(!1),t.errback(a)}}),t}}],dojox.data.tests.stores.AndOrReadStore.tests},doh.register("dojox.data.tests.stores.AndOrReadStore",dojox.data.tests.stores.AndOrReadStore.getTests());
//# sourceMappingURL=../../../sourcemaps/data/tests/stores/AndOrReadStore.js.map
