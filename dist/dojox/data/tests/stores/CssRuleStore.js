/**
 * dojox - A version of dojox.js framework that ported to running on skylarkjs.
 * @author Hudaokeji, Inc.
 * @version v0.9.0
 * @link https://github.com/skylark-integration/dojox/
 * @license MIT
 */
dojo.provide("dojox.data.tests.stores.CssRuleStore"),dojo.require("dojox.data.CssRuleStore"),dojo.require("dojo.data.api.Read"),dojo.require("dojo.data.api.Identity"),dojox.data.tests.stores.CssRuleStore.createStore=function(e){var t=null;if(dojo.isBrowser){if(!dojox.data.tests.stores.CssRuleStore._loaded){var s,r,o=dojo.doc.getElementsByTagName("head")[0],a=document.createElement("link");a.href=require.toUrl("dojox/data/tests/stores/test1.css").toString(),a.rel="stylesheet",a.type="text/css",o.appendChild(a),dojo.isIE?(s=document.createStyleSheet()).cssText='@import "'+require.toUrl("dojox/data/tests/stores/test2.css").toString()+'";':(s=document.createElement("style"),r=document.createTextNode('@import "'+require.toUrl("dojox/data/tests/stores/test2.css").toString()+'";'),s.appendChild(r),o.appendChild(s)),dojo.isIE?(s=document.createStyleSheet()).cssText=".embeddedTestClass { text-align: center; }":(s=document.createElement("style"),r=document.createTextNode(".embeddedTestClass { text-align: center; }"),s.appendChild(r),o.appendChild(s)),dojox.data.tests.stores.CssRuleStore._loaded=!0}t=new dojox.data.CssRuleStore({context:e})}return t},dojox.data.tests.stores.CssRuleStore.verifyItems=function(e,t,s,r){if(t.length!=r.length)return!1;for(var o=0;o<t.length;o++)if(e.getValue(t[o],s)!==r[o])return!1;return!0},dojox.data.tests.stores.CssRuleStore.error=function(e,t,s){for(var r in s)console.log(s[r]);t.errback(s)},doh.register("dojox.data.tests.stores.CssRuleStore",[{name:"testReadAPI_fetch",timeout:1e4,runTest:function(e){var t=dojox.data.tests.stores.CssRuleStore.createStore(),s=new doh.Deferred;return t.fetch({query:{selector:"*TestClass"},onComplete:function(t){e.assertTrue(3===t.length),s.callback(!0)},onError:dojo.partial(dojox.data.tests.stores.CssRuleStore.error,e,s)}),s}},function(e){var t=dojox.data.tests.stores.CssRuleStore.createStore(["dojox/data/tests/stores/test1.css","dojox/data/tests/stores/test2.css"]),s=new doh.Deferred;return t.fetch({onComplete:function(t){e.assertTrue(3===t.length),s.callback(!0)},onError:dojo.partial(dojox.data.tests.stores.CssRuleStore.error,e,s)}),s},function(e){var t=dojox.data.tests.stores.CssRuleStore.createStore(["dojox/data/tests/stores/test1.css"]),s=new doh.Deferred;return t.fetch({query:{selector:"*TestClass"},onComplete:function(t){e.assertTrue(1===t.length),s.callback(!0)},onError:dojo.partial(dojox.data.tests.stores.CssRuleStore.error,e,s)}),s},function(e){var t=dojox.data.tests.stores.CssRuleStore.createStore(["dojox/data/tests/stores/test1.css","dojox/data/tests/stores/test2.css"]),s=new doh.Deferred;return t.fetch({query:{selector:"*TestClass"},onComplete:function(t){e.assertTrue(2===t.length),s.callback(!0)},onError:dojo.partial(dojox.data.tests.stores.CssRuleStore.error,e,s)}),s},function(e){var t=dojox.data.tests.stores.CssRuleStore.createStore(["dojox/data/tests/stores/test1.css","dojox/data/tests/stores/test2.css"]),s=new doh.Deferred;return t.fetch({query:{selector:"*TestClass"},onComplete:function(r){e.assertTrue(2===r.length),t.setContext(["dojox/data/tests/stores/test1.css"]),t.fetch({query:{selector:"*TestClass"},onComplete:function(t){e.assertTrue(1===t.length),s.callback(!0)},onError:dojo.partial(dojox.data.tests.stores.CssRuleStore.error,e,s)})},onError:dojo.partial(dojox.data.tests.stores.CssRuleStore.error,e,s)}),s},function(e){var t=dojox.data.tests.stores.CssRuleStore.createStore(),s=new doh.Deferred;return t.fetch({query:{selector:".linkTestClass"},onComplete:function(t,r){e.is(1,t.length),s.callback(!0)},onError:dojo.partial(dojox.data.tests.stores.CssRuleStore.error,e,s)}),s},function(e){var t=dojox.data.tests.stores.CssRuleStore.createStore(),s=new doh.Deferred;return t.fetch({query:{selector:".linkTestClass .test"},onComplete:function(t,r){e.is(1,t.length),s.callback(!0)},onError:dojo.partial(dojox.data.tests.stores.CssRuleStore.error,e,s)}),s},function(e){var t=dojox.data.tests.stores.CssRuleStore.createStore(),s=new doh.Deferred,r=[!1,!1];try{t.fetch({query:{selector:".embeddedTestClass"},onComplete:function(t,o){r[0]=!0,e.is(1,t.length),r[0]&&r[1]&&s.callback(!0)},onError:dojo.partial(dojox.data.tests.stores.CssRuleStore.error,e,s)}),t.fetch({query:{selector:".linkTestClass"},onComplete:function(t,o){r[1]=!0,e.is(1,t.length),r[0]&&r[1]&&s.callback(!0)},onError:dojo.partial(dojox.data.tests.stores.CssRuleStore.error,e,s)})}catch(e){for(var o in e)console.log(e[o])}return s},function(e){var t=dojox.data.tests.stores.CssRuleStore.createStore(),s=new doh.Deferred,r=[!1,!1];return t.fetch({query:{selector:".embeddedTestClass"},onComplete:function(o,a){r[0]=!0,e.is(1,o.length),e.is(".embeddedTestClass",t.getValue(o[0],"selector")),r[0]&&r[1]&&s.callback(!0)},onError:dojo.partial(dojox.data.tests.stores.CssRuleStore.error,e,s)}),t.fetch({query:{selector:".linkTestClass .test"},onItem:function(o){r[1]=!0,e.assertTrue(null!==o),e.is(".linkTestClass .test",t.getValue(o,"selector")),r[0]&&r[1]&&s.callback(!0)},onError:dojo.partial(dojox.data.tests.stores.CssRuleStore.error,e,s)}),s},function(e){var t=dojox.data.tests.stores.CssRuleStore.createStore(),s=new doh.Deferred,r=0;return t.fetch({query:{selector:"*TestClass"},onBegin:function(t,s){e.assertTrue(3===t)},onItem:function(s,o){e.assertTrue(t.isItem(s)),r++},onComplete:function(t,o){e.is(3,r),e.is(null,t),s.callback(!0)},onError:dojo.partial(dojox.data.tests.stores.CssRuleStore.error,e,s)}),s},function(e){var t=dojox.data.tests.stores.CssRuleStore.createStore(),s=new doh.Deferred;function r(t,r){e.is(2,t.length),s.callback(!0)}function o(s,o){e.is(1,s.length),e.is(".embeddedTestClass",t.getValue(s[0],"selector")),o.start=0,o.count=2,o.onComplete=r,t.fetch(o)}return t.fetch({query:{selector:"*TestClass"},onComplete:function(s,r){e.is(3,s.length),r.start=2,r.count=1,r.onComplete=o,t.fetch(r)},onError:dojo.partial(dojox.data.tests.stores.CssRuleStore.error,e,s)}),s},function(e){var t=dojox.data.tests.stores.CssRuleStore.createStore(),s=new doh.Deferred;return t.fetch({query:{selector:".linkTestClass"},onComplete:function(r,o){e.assertEqual(r.length,1);var a=t.getLabel(r[0]);e.assertTrue(null!==a),e.assertEqual(".linkTestClass",a),s.callback(!0)},onError:dojo.partial(dojox.data.tests.stores.CssRuleStore.error,e,s)}),s},function(e){var t=dojox.data.tests.stores.CssRuleStore.createStore(),s=new doh.Deferred;return t.fetch({query:{selector:".linkTestClass"},onComplete:function(r,o){e.assertEqual(r.length,1);var a=t.getLabelAttributes(r[0]);e.assertTrue(dojo.isArray(a)),e.assertEqual("selector",a[0]),s.callback(!0)},onError:dojo.partial(dojox.data.tests.stores.CssRuleStore.error,e,s)}),s},function(e){var t=dojox.data.tests.stores.CssRuleStore.createStore(),s=new doh.Deferred;return t.fetch({query:{selector:".linkTestClass"},onItem:function(r){e.assertTrue(null!==r),e.is(".linkTestClass",t.getValue(r,"selector")),e.assertTrue(t.getValue(r,"parentStyleSheetHref").match("dojox/data/tests/stores/test1.css")),s.callback(!0)},onError:dojo.partial(dojox.data.tests.stores.CssRuleStore.error,e,s)}),s},function(e){var t=dojox.data.tests.stores.CssRuleStore.createStore(),s=new doh.Deferred;return t.fetch({query:{selector:".importTestClass"},onItem:function(r){e.assertTrue(null!==r),e.is(".importTestClass",t.getValue(r,"selector")),e.assertTrue(t.getValue(r,"parentStyleSheetHref").match("dojox/data/tests/stores/test2.css")),s.callback(!0)},onError:dojo.partial(dojox.data.tests.stores.CssRuleStore.error,e,s)}),s},function(e){var t=dojox.data.tests.stores.CssRuleStore.createStore(),s=new doh.Deferred;return t.fetch({query:{selector:".embeddedTestClass"},onItem:function(r){e.assertTrue(null!==r);var o=t.getValues(r,"selector");e.assertTrue(dojo.isArray(o)),e.is(1,o.length),e.is(".embeddedTestClass",o[0]),s.callback(!0)},onError:dojo.partial(dojox.data.tests.stores.CssRuleStore.error,e,s)}),s},function(e){var t=dojox.data.tests.stores.CssRuleStore.createStore(),s=new doh.Deferred;return t.fetch({query:{selector:".embeddedTestClass"},onItem:function(r){e.assertTrue(t.isItem(r)),e.assertTrue(!t.isItem({})),e.assertTrue(!t.isItem({item:"not an item"})),e.assertTrue(!t.isItem("not an item")),e.assertTrue(!t.isItem(["not an item"])),s.callback(!0)},onError:dojo.partial(dojox.data.tests.stores.CssRuleStore.error,e,s)}),s},function(e){var t=dojox.data.tests.stores.CssRuleStore.createStore(),s=new doh.Deferred;return t.fetch({query:{selector:".embeddedTestClass"},onItem:function(r){e.assertTrue(null!==r),e.assertTrue(t.hasAttribute(r,"selector")),e.assertTrue(t.hasAttribute(r,"classes")),e.assertTrue(!t.hasAttribute(r,"Year")),e.assertTrue(!t.hasAttribute(r,"Nothing")),e.assertTrue(!t.hasAttribute(r,"title"));var o=!1;try{t.hasAttribute(r,null)}catch(e){o=!0}e.assertTrue(o),s.callback(!0)},onError:dojo.partial(dojox.data.tests.stores.CssRuleStore.error,e,s)}),s},function(e){var t=dojox.data.tests.stores.CssRuleStore.createStore(),s=new doh.Deferred;return t.fetch({query:{selector:".embeddedTestClass"},onItem:function(r){e.assertTrue(null!==r),e.assertTrue(t.containsValue(r,"selector",".embeddedTestClass")),e.assertTrue(t.containsValue(r,"classes",".embeddedTestClass")),e.assertTrue(!t.containsValue(r,"selector",".embeddedTestClass2")),e.assertTrue(!t.containsValue(r,"classes","embeddedTestClass\t")),e.assertTrue(!t.containsValue(r,"selector",null));var o=!1;try{t.containsValue(r,null,"foo")}catch(e){o=!0}e.assertTrue(o),s.callback(!0)},onError:dojo.partial(dojox.data.tests.stores.CssRuleStore.error,e,s)}),s},function(e){var t=dojox.data.tests.stores.CssRuleStore.createStore(),s=new doh.Deferred;return t.fetch({query:{selector:".embeddedTestClass"},onItem:function(r){e.assertTrue(null!==r),e.assertTrue(t.isItem(r));var o=t.getAttributes(r);e.assertTrue(o.length>8);for(var a=0;a<8;a++){var l=o[a];e.assertTrue("selector"===l||"classes"===l||"rule"===l||"style"===l||"cssText"===l||"styleSheet"===l||"parentStyleSheet"===l||"parentStyleSheetHref"===l)}s.callback(!0)},onError:dojo.partial(dojox.data.tests.stores.CssRuleStore.error,e,s)}),s},function(e){var t=dojox.data.tests.stores.CssRuleStore.createStore().getFeatures(),s=0;for(var r in t)e.assertTrue("dojo.data.api.Read"===r),s++;e.assertTrue(1===s)},function(e){var t=dojox.data.tests.stores.CssRuleStore.createStore(),s=new doh.Deferred;return t.fetch({query:{selector:"*TestCla*"},onComplete:function(r,o){e.is(4,r.length),e.assertTrue(dojox.data.tests.stores.CssRuleStore.verifyItems(t,r,"selector",[".linkTestClass",".linkTestClass .test",".importTestClass",".embeddedTestClass"])),s.callback(!0)},onError:dojo.partial(dojox.data.tests.stores.CssRuleStore.error,e,s)}),s},function(e){var t=dojox.data.tests.stores.CssRuleStore.createStore(),s=new doh.Deferred;return t.fetch({query:{selector:".LINKtEsTclass"},queryOptions:{ignoreCase:!0},onComplete:function(r,o){e.is(1,r.length),e.assertTrue(".linkTestClass"===t.getValue(r[0],"selector")),s.callback(!0)},onError:dojo.partial(dojox.data.tests.stores.CssRuleStore.error,e,s)}),s},function(e){var t=dojox.data.tests.stores.CssRuleStore.createStore(),s=new doh.Deferred;return t.fetch({query:{selector:".LINKtEsTclass"},queryOptions:{ignoreCase:!1},onComplete:function(t,r){e.is(0,t.length),s.callback(!0)},onError:dojo.partial(dojox.data.tests.stores.CssRuleStore.error,e,s)}),s},function(e){var t=dojox.data.tests.stores.CssRuleStore.createStore(),s=new doh.Deferred;return t.fetch({query:{selector:"*TestClass"},sort:[{attribute:"selector"}],onComplete:function(r,o){e.is(3,r.length),e.assertTrue(dojox.data.tests.stores.CssRuleStore.verifyItems(t,r,"selector",[".embeddedTestClass",".importTestClass",".linkTestClass"])),s.callback(!0)},onError:dojo.partial(dojox.data.tests.stores.CssRuleStore.error,e,s)}),s},function(e){var t=dojox.data.tests.stores.CssRuleStore.createStore(),s=new doh.Deferred;return t.fetch({query:{selector:"*TestClass"},sort:[{attribute:"selector",descending:!0}],onComplete:function(r,o){e.is(3,r.length),e.assertTrue(dojox.data.tests.stores.CssRuleStore.verifyItems(t,r,"selector",[".linkTestClass",".importTestClass",".embeddedTestClass"])),s.callback(!0)},onError:dojo.partial(dojox.data.tests.stores.CssRuleStore.error,e,s)}),s},function(e){var t=dojox.data.tests.stores.CssRuleStore.createStore(),s=new dojo.data.api.Read,r=!0;for(var o in s){if("_"!==o.toString().charAt(0))if("function"==typeof s[o]){console.log("Looking at function: ["+o+"]");var a=t[o];if("function"!=typeof a){console.log("Problem with function: ["+o+"].   Got value: "+a),r=!1;break}}}e.assertTrue(r)}]);
//# sourceMappingURL=../../../sourcemaps/data/tests/stores/CssRuleStore.js.map
