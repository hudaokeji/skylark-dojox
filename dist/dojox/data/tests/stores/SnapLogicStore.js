/**
 * dojox - A version of dojox.js framework that ported to running on skylarkjs.
 * @author Hudaokeji, Inc.
 * @version v0.9.0
 * @link https://github.com/skylark-integration/dojox/
 * @license MIT
 */
dojo.provide("dojox.data.tests.stores.SnapLogicStore"),dojo.require("dojox.data.SnapLogicStore"),dojo.require("dojo.data.api.Read"),dojox.data.tests.stores.SnapLogicStore.pipelineUrl=require.toUrl("dojox/data/tests/stores/snap_pipeline.php").toString(),dojox.data.tests.stores.SnapLogicStore.pipelineSize=14,dojox.data.tests.stores.SnapLogicStore.attributes=["empno","ename","job","hiredate","sal","comm","deptno"],dojox.data.tests.stores.SnapLogicStore.error=function(t,e,o){e.errback(o)},doh.register("dojox.data.tests.stores.SnapLogicStore",[{name:"ReadAPI:  Fetch One",timeout:3e3,runTest:function(t){var e=new dojox.data.SnapLogicStore({url:dojox.data.tests.stores.SnapLogicStore.pipelineUrl}),o=new doh.Deferred;return e.fetch({count:1,onComplete:function(e,r){t.assertEqual(1,e.length),o.callback(!0)},onError:dojo.partial(dojox.data.tests.stores.SnapLogicStore.error,doh,o)}),o}},{name:"ReadAPI:  Fetch_10_Streaming",timeout:3e3,runTest:function(t){var e=new dojox.data.SnapLogicStore({url:dojox.data.tests.stores.SnapLogicStore.pipelineUrl}),o=new doh.Deferred;return count=0,e.fetch({onBegin:function(e,o){t.assertEqual(dojox.data.tests.stores.SnapLogicStore.pipelineSize,e)},count:10,onItem:function(o,r){t.assertTrue(e.isItem(o)),count++},onComplete:function(e,r){t.assertEqual(10,count),t.assertTrue(null===e),o.callback(!0)},onError:dojo.partial(dojox.data.tests.stores.SnapLogicStore.error,t,o)}),o}},{name:"ReadAPI:  Fetch Zero",timeout:3e3,runTest:function(t){var e=new dojox.data.SnapLogicStore({url:dojox.data.tests.stores.SnapLogicStore.pipelineUrl}),o=new doh.Deferred;return e.fetch({count:0,onBegin:function(e,r){t.assertEqual(dojox.data.tests.stores.SnapLogicStore.pipelineSize,e),o.callback(!0)},onError:dojo.partial(dojox.data.tests.stores.SnapLogicStore.error,doh,o)}),o}},{name:"ReadAPI:  Fetch_Paging",timeout:3e3,runTest:function(t){var e=new dojox.data.SnapLogicStore({url:dojox.data.tests.stores.SnapLogicStore.pipelineUrl}),o=new doh.Deferred;function r(o,r){t.assertEqual(1,o.length),r.start=0,r.count=dojox.data.tests.stores.SnapLogicStore.pipelineSize/2,r.onComplete=a,e.fetch(r)}function a(o,r){t.assertEqual(r.count,o.length),r.count=2*dojox.data.tests.stores.SnapLogicStore.pipelineSize,r.onComplete=s,e.fetch(r)}function s(o,r){t.assertEqual(dojox.data.tests.stores.SnapLogicStore.pipelineSize,o.length),r.start=Math.floor(3*dojox.data.tests.stores.SnapLogicStore.pipelineSize/4),r.count=dojox.data.tests.stores.SnapLogicStore.pipelineSize,r.onComplete=n,e.fetch(r)}function n(o,r){t.assertEqual(dojox.data.tests.stores.SnapLogicStore.pipelineSize-r.start,o.length),r.start=2,r.count=10*dojox.data.tests.stores.SnapLogicStore.pipelineSize,r.onComplete=i,e.fetch(r)}function i(e,r){t.assertEqual(dojox.data.tests.stores.SnapLogicStore.pipelineSize-r.start,e.length),o.callback(!0)}return e.fetch({count:5,onComplete:function(o,a){t.assertEqual(a.count,o.length),a.start=dojox.data.tests.stores.SnapLogicStore.pipelineSize/3,a.count=1,a.onComplete=r,e.fetch(a)},onError:dojo.partial(dojox.data.tests.stores.SnapLogicStore.error,t,o)}),o}},{name:"ReadAPI:  getLabel",timeout:3e3,runTest:function(t){var e=new dojox.data.SnapLogicStore({url:dojox.data.tests.stores.SnapLogicStore.pipelineUrl}),o=new doh.Deferred;return e.fetch({count:1,onComplete:function(r,a){t.assertEqual(r.length,1);var s=e.getLabel(r[0]);t.assertTrue(void 0===s),o.callback(!0)},onError:dojo.partial(dojox.data.tests.stores.SnapLogicStore.error,t,o)}),o}},{name:"ReadAPI:  getLabelAttributes",timeout:3e3,runTest:function(t){var e=new dojox.data.SnapLogicStore({url:dojox.data.tests.stores.SnapLogicStore.pipelineUrl}),o=new doh.Deferred;return e.fetch({count:1,onComplete:function(r,a){t.assertEqual(r.length,1);var s=e.getLabelAttributes(r[0]);t.assertTrue(null===s),o.callback(!0)},onError:dojo.partial(dojox.data.tests.stores.SnapLogicStore.error,t,o)}),o}},{name:"ReadAPI:  getValue",timeout:3e3,runTest:function(t){var e=new dojox.data.SnapLogicStore({url:dojox.data.tests.stores.SnapLogicStore.pipelineUrl}),o=new doh.Deferred;return e.fetch({count:1,onComplete:function(r){t.assertEqual(1,r.length),console.debug(r[0]),t.assertTrue(7369===e.getValue(r[0],"empno")),t.assertTrue("SMITH,CLERK"===e.getValue(r[0],"ename")),console.debug(e.getValue(r[0],"sal")),t.assertTrue(800==e.getValue(r[0],"sal")),console.debug(1),t.assertTrue(20===e.getValue(r[0],"deptno")),o.callback(!0)},onError:dojo.partial(dojox.data.tests.stores.SnapLogicStore.error,t,o)}),o}},{name:"ReadAPI:  getValues",timeout:3e3,runTest:function(t){var e=new dojox.data.SnapLogicStore({url:dojox.data.tests.stores.SnapLogicStore.pipelineUrl}),o=new doh.Deferred;return e.fetch({count:1,onComplete:function(r){t.assertEqual(1,r.length);for(var a=0;a<dojox.data.tests.stores.SnapLogicStore.attributes.length;++a){var s=e.getValues(r[0],dojox.data.tests.stores.SnapLogicStore.attributes[a]);t.assertTrue(dojo.isArray(s)),t.assertTrue(s[0]===e.getValue(r[0],dojox.data.tests.stores.SnapLogicStore.attributes[a]))}o.callback(!0)},onError:dojo.partial(dojox.data.tests.stores.SnapLogicStore.error,t,o)}),o}},{name:"ReadAPI:  isItem",timeout:3e3,runTest:function(t){var e=new dojox.data.SnapLogicStore({url:dojox.data.tests.stores.SnapLogicStore.pipelineUrl}),o=new doh.Deferred;return e.fetch({count:5,onComplete:function(r){t.assertEqual(5,r.length);for(var a=0;a<r.length;a++)t.assertTrue(e.isItem(r[a]));o.callback(!0)},onError:dojo.partial(dojox.data.tests.stores.SnapLogicStore.error,t,o)}),o}},{name:"ReadAPI:  hasAttribute",timeout:3e3,runTest:function(t){var e=new dojox.data.SnapLogicStore({url:dojox.data.tests.stores.SnapLogicStore.pipelineUrl}),o=new doh.Deferred;return e.fetch({count:1,onComplete:function(r){t.assertEqual(1,r.length),t.assertTrue(null!==r[0]);for(var a=0;a<dojox.data.tests.stores.SnapLogicStore.attributes.length;++a)t.assertTrue(e.hasAttribute(r[0],dojox.data.tests.stores.SnapLogicStore.attributes[a]));t.assertTrue(!e.hasAttribute(r[0],"Nothing")),t.assertTrue(!e.hasAttribute(r[0],"Text"));var s=!1;try{e.hasAttribute(r[0],null)}catch(t){s=!0}t.assertTrue(s),o.callback(!0)},onError:dojo.partial(dojox.data.tests.stores.SnapLogicStore.error,t,o)}),o}},{name:"ReadAPI:  containsValue",timeout:3e3,runTest:function(t){var e=new dojox.data.SnapLogicStore({url:dojox.data.tests.stores.SnapLogicStore.pipelineUrl}),o=new doh.Deferred;return e.fetch({count:1,onComplete:function(r){t.assertEqual(1,r.length);var a=e.getValue(r[0],"LastName");t.assertTrue(e.containsValue(r[0],"LastName",a)),o.callback(!0)},onError:dojo.partial(dojox.data.tests.stores.SnapLogicStore.error,t,o)}),o}},{name:"ReadAPI:  getAttributes",timeout:3e3,runTest:function(t){var e=new dojox.data.SnapLogicStore({url:dojox.data.tests.stores.SnapLogicStore.pipelineUrl}),o=new doh.Deferred;return e.fetch({count:1,onComplete:function(r){t.assertEqual(1,r.length);var a=e.getAttributes(r[0]);t.assertEqual(dojox.data.tests.stores.SnapLogicStore.attributes.length,a.length);for(var s=0;s<dojox.data.tests.stores.SnapLogicStore.attributes.length;++s)t.assertTrue(-1!==dojo.indexOf(a,dojox.data.tests.stores.SnapLogicStore.attributes[s]));o.callback(!0)},onError:dojo.partial(dojox.data.tests.stores.SnapLogicStore.error,t,o)}),o}},function(t){var e=new dojox.data.SnapLogicStore({url:dojox.data.tests.stores.SnapLogicStore.pipelineUrl}).getFeatures(),o=0;for(var r in e)t.assertEqual(r,"dojo.data.api.Read"),o++;t.assertEqual(o,1)},function(t){var e=new dojox.data.SnapLogicStore({url:dojox.data.tests.stores.SnapLogicStore.pipelineUrl}),o=new dojo.data.api.Read,r=!0;for(var a in o){if("_"!==a.toString().charAt(0))if("function"==typeof o[a])if("function"!=typeof e[a]){r=!1;break}}t.assertTrue(r)}]);
//# sourceMappingURL=../../../sourcemaps/data/tests/stores/SnapLogicStore.js.map
