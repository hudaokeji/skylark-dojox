/**
 * dojox - A version of dojox.js framework that ported to running on skylarkjs.
 * @author Hudaokeji, Inc.
 * @version v0.9.0
 * @link https://github.com/skylark-integration/dojox/
 * @license MIT
 */
dojo.provide("dojox.data.tests.stores.XmlStore"),dojo.require("dojox.data.XmlStore"),dojo.require("dojo.data.api.Read"),dojo.require("dojo.data.api.Write"),dojo.require("dojo.data.api.Identity"),dojox.data.tests.stores.XmlStore.getBooks3Store=function(){return new dojox.data.XmlStore({url:require.toUrl("dojox/data/tests/stores/books2.xml").toString(),label:"title",keyAttribute:"isbn"})},dojox.data.tests.stores.XmlStore.getBooks2Store=function(){return new dojox.data.XmlStore({url:require.toUrl("dojox/data/tests/stores/books2.xml").toString(),label:"title"})},dojox.data.tests.stores.XmlStore.getBooks2StorePC=function(){return new dojox.data.XmlStore({url:require.toUrl("dojox/data/tests/stores/books2.xml").toString(),label:"title",urlPreventCache:!1})},dojox.data.tests.stores.XmlStore.getBooksStore=function(){return new dojox.data.XmlStore({url:require.toUrl("dojox/data/tests/stores/books.xml").toString(),label:"title"})},dojox.data.tests.stores.XmlStore.getCDataTestStore=function(){return new dojox.data.XmlStore({url:require.toUrl("dojox/data/tests/stores/cdata_test.xml").toString(),label:"title"})},dojox.data.tests.stores.XmlStore.getGeographyStore=function(){return new dojox.data.XmlStore({url:require.toUrl("dojox/data/tests/stores/geography2.xml").toString(),label:"text",keyAttribute:"text",attributeMap:{text:"@text"},rootItem:"geography"})},doh.register("dojox.data.tests.stores.XmlStore",[function(t){var e=dojox.data.tests.stores.XmlStore.getBooksStore(),r=new doh.Deferred;return e.fetch({query:{isbn:"*"},onComplete:function(e,o){t.assertEqual(20,e.length),r.callback(!0)},onError:function(t,e){r.errback(t)}}),r},function(t){var e=dojox.data.tests.stores.XmlStore.getBooks2Store(),r=new doh.Deferred;return e.fetch({query:{isbn:"A9B574"},onComplete:function(e,o){t.assertEqual(1,e.length),r.callback(!0)},onError:function(t,e){r.errback(t)}}),r},{name:"testReadAPI_fetch_paging",timeout:1e4,runTest:function(t){var e=dojox.data.tests.stores.XmlStore.getBooksStore(),r=new doh.Deferred,o=function(e,o){t.assertEqual(18,e.length),r.callback(!0)},n=function(r,n){t.assertEqual(11,r.length),n.start=2,n.count=20,n.onComplete=o,e.fetch(n)},a=function(r,o){t.assertEqual(18,r.length),o.start=9,o.count=100,o.onComplete=n,e.fetch(o)},s=function(r,o){t.assertEqual(5,r.length),o.start=2,o.count=20,o.onComplete=a,e.fetch(o)},u=function(r,o){t.assertEqual(1,r.length),o.start=0,o.count=5,o.onComplete=s,e.fetch(o)},l=function(r,o){t.assertEqual(5,r.length),o.start=3,o.count=1,o.onComplete=u,e.fetch(o)};return e.fetch({onComplete:function(r,o){t.assertEqual(20,r.length),o.start=1,o.count=5,o.onComplete=l,e.fetch(o)},onError:function(t,e){r.errback(t)}}),r}},function(t){var e=dojox.data.tests.stores.XmlStore.getBooks2Store(),r=new doh.Deferred;return e.fetch({query:{isbn:"?9B574"},onComplete:function(e,o){t.assertEqual(1,e.length),r.callback(!0)},onError:function(t,e){r.errback(t)}}),r},function(t){var e=dojox.data.tests.stores.XmlStore.getBooks2Store(),r=new doh.Deferred;return e.fetch({query:{isbn:"A9B57?"},onComplete:function(e,o){t.assertEqual(4,e.length),r.callback(!0)},onError:function(t,e){r.errback(t)}}),r},function(t){var e=dojox.data.tests.stores.XmlStore.getBooks2StorePC(),r=new doh.Deferred;return e.fetch({query:{isbn:"A9B57?"},onComplete:function(e,o){t.assertEqual(4,e.length),r.callback(!0)},onError:function(t,e){r.errback(t)}}),r},function(t){var e=dojox.data.tests.stores.XmlStore.getBooks2Store(),r=new doh.Deferred;return e.fetch({query:{isbn:"A9*"},onComplete:function(e,o){t.assertEqual(5,e.length),r.callback(!0)},onError:function(t,e){r.errback(t)}}),r},function(t){var e=dojox.data.tests.stores.XmlStore.getBooks2Store(),r=new doh.Deferred;return e.fetch({query:{isbn:"A9B57?",title:"?itle of 3"},onComplete:function(e,o){t.assertEqual(1,e.length),r.callback(!0)},onError:function(t,e){r.errback(t)}}),r},function(t){var e=dojox.data.tests.stores.XmlStore.getBooks2Store(),r=new doh.Deferred;return e.fetch({query:{author:"Third Author of 5"},onComplete:function(e,o){t.assertEqual(1,e.length),r.callback(!0)},onError:function(t,e){r.errback(t)}}),r},function(t){var e=dojox.data.tests.stores.XmlStore.getBooks2Store(),r=new doh.Deferred;return e.fetch({query:{isbn:"?9b574"},queryOptions:{ignoreCase:!0},onComplete:function(e,o){t.assertEqual(1,e.length),r.callback(!0)},onError:function(t,e){r.errback(t)}}),r},function(t){var e=dojox.data.tests.stores.XmlStore.getBooks2Store(),r=new doh.Deferred;return e.fetch({query:{isbn:"?9B574"},queryOptions:{ignoreCase:!1},onComplete:function(e,o){t.assertEqual(1,e.length),r.callback(!0)},onError:function(t,e){r.errback(t)}}),r},function(t){var e=dojox.data.tests.stores.XmlStore.getBooks2Store(),r=new doh.Deferred;return e.fetch({query:{isbn:new RegExp("^.9B574$")},onComplete:function(e,o){t.assertEqual(1,e.length),r.callback(!0)},onError:function(t,e){r.errback(t)}}),r},function(t){var e=new dojox.data.XmlStore({url:require.toUrl("dojox/data/tests/stores/books3.xml").toString(),rootItem:"book"}),r=new doh.Deferred;return e.fetch({query:{isbn:"*"},onComplete:function(e,o){t.assertEqual(5,e.length),r.callback(!0)},onError:function(t,e){r.errback(t)}}),r},function(t){var e=new dojox.data.XmlStore({url:require.toUrl("dojox/data/tests/stores/books_isbnAttr.xml").toString(),attributeMap:{"book.isbn":"@isbn"}}),r=new doh.Deferred;return e.fetch({query:{isbn:"*"},onComplete:function(e,o){t.assertEqual(5,e.length),r.callback(!0)},onError:function(t,e){console.debug(t),r.errback(t)}}),r},function(t){var e=new dojox.data.XmlStore({url:require.toUrl("dojox/data/tests/stores/books_isbnAttr.xml").toString(),attributeMap:{"book.isbn":"@isbn"}}),r=new doh.Deferred;return e.fetch({query:{isbn:"2"},onComplete:function(e,o){t.assertEqual(1,e.length),r.callback(!0)},onError:function(t,e){console.debug(t),r.errback(t)}}),r},function(t){var e=new dojox.data.XmlStore({url:require.toUrl("dojox/data/tests/stores/books_isbnAttr2.xml").toString(),attributeMap:{"book.isbn":"@isbn"}}),r=new doh.Deferred;return e.fetch({query:{isbn:"ABC?"},onComplete:function(e,o){t.assertEqual(3,e.length),r.callback(!0)},onError:function(t,e){r.errback(t)}}),r},function(t){var e=new dojox.data.XmlStore({url:require.toUrl("dojox/data/tests/stores/books_isbnAttr2.xml").toString(),attributeMap:{"book.isbn":"@isbn"}}),r=new doh.Deferred;return e.fetch({query:{isbn:"A*"},onComplete:function(e,o){t.assertEqual(5,e.length),r.callback(!0)},onError:function(t,e){r.errback(t)}}),r},function(t){var e=new dojox.data.XmlStore({url:require.toUrl("dojox/data/tests/stores/books_isbnAttr2.xml").toString(),attributeMap:{"book.isbn":"@isbn"}}),r=new doh.Deferred;return e.fetch({query:{isbn:"?C*"},onComplete:function(e,o){t.assertEqual(2,e.length),r.callback(!0)},onError:function(t,e){r.errback(t)}}),r},function(t){var e=dojox.data.tests.stores.XmlStore.getBooks2Store(),r=new doh.Deferred;return e.fetch({query:{isbn:"A9B574"},onComplete:function(o,n){t.assertEqual(o.length,1);var a=e.getLabel(o[0]);t.assertTrue(null!==a),t.assertEqual("Title of 4",a),r.callback(!0)},onError:function(t,e){r.errback(t)}}),r},function(t){var e=dojox.data.tests.stores.XmlStore.getBooks2Store(),r=new doh.Deferred;return e.fetch({query:{isbn:"A9B574"},onComplete:function(o,n){t.assertEqual(o.length,1);var a=e.getLabelAttributes(o[0]);t.assertTrue(dojo.isArray(a)),t.assertEqual("title",a[0]),r.callback(!0)},onError:function(t,e){r.errback(t)}}),r},function(t){var e=dojox.data.tests.stores.XmlStore.getBooks2Store(),r=new doh.Deferred;return e.fetch({query:{isbn:"A9B574"},onComplete:function(o,n){t.assertEqual(1,o.length);var a=o[0];t.assertTrue(e.hasAttribute(a,"isbn")),t.assertEqual(e.getValue(a,"isbn"),"A9B574"),r.callback(!0)},onError:function(t,e){r.errback(t)}}),r},function(t){var e=dojox.data.tests.stores.XmlStore.getCDataTestStore(),r=new doh.Deferred;return e.fetch({query:{ids:"{68d3c190-4b83-11dd-c204-000000000001}17"},onComplete:function(o,n){t.assertEqual(1,o.length);var a=o[0];try{t.assertTrue(e.hasAttribute(a,"ids")),t.assertEqual(e.getValue(a,"ids"),"{68d3c190-4b83-11dd-c204-000000000001}17");var s=e.getValue(a,"title");t.assertTrue(e.isItem(s));var u=e.getValue(s,"text()");t.assertEqual("<b>First</b> 3",dojo.trim(u)),r.callback(!0)}catch(t){r.errback(t)}},onError:function(t,e){r.errback(t)}}),r},function(t){var e=dojox.data.tests.stores.XmlStore.getCDataTestStore(),r=new doh.Deferred;return e.fetch({query:{ids:"{68d3c190-4b83-11dd-c204-000000000001}17"},onComplete:function(o,n){t.assertEqual(1,o.length);var a=o[0];try{t.assertTrue(e.hasAttribute(a,"ids")),t.assertEqual(e.getValue(a,"ids"),"{68d3c190-4b83-11dd-c204-000000000001}17");var s=e.getValue(a,"title");t.assertTrue(e.isItem(s));var u=e.getValues(s,"text()");t.assertEqual("<b>First</b> 3",dojo.trim(u[0])),r.callback(!0)}catch(t){r.errback(t)}},onError:function(t,e){r.errback(t)}}),r},function(t){var e=dojox.data.tests.stores.XmlStore.getCDataTestStore(),r=new doh.Deferred;return e.fetch({query:{ids:"{68d3c190-4b83-11dd-c204-000000000001}17"},onComplete:function(o,n){t.assertEqual(1,o.length);var a=o[0];try{t.assertTrue(e.hasAttribute(a,"ids")),t.assertEqual(e.getValue(a,"ids"),"{68d3c190-4b83-11dd-c204-000000000001}17");var s=e.getValue(a,"title");t.assertTrue(e.isItem(s));var u=s.toString();t.assertEqual("<b>First</b> 3",dojo.trim(u)),r.callback(!0)}catch(t){r.errback(t)}},onError:function(t,e){r.errback(t)}}),r},function(t){var e=dojox.data.tests.stores.XmlStore.getBooks2Store(),r=new doh.Deferred;return e.fetch({query:{isbn:"A9B574"},onComplete:function(o,n){t.assertEqual(1,o.length);var a=o[0];t.assertTrue(e.hasAttribute(a,"isbn"));var s=e.getValues(a,"isbn");t.assertEqual(1,s.length),t.assertEqual("A9B574",s[0]),r.callback(!0)},onError:function(t,e){r.errback(t)}}),r},function(t){var e=dojox.data.tests.stores.XmlStore.getBooks2Store(),r=new doh.Deferred;return e.fetch({query:{isbn:"A9B574"},onComplete:function(o,n){t.assertEqual(1,o.length);var a=o[0];t.assertTrue(e.isItem(a)),t.assertTrue(!e.isItem({})),t.assertTrue(!e.isItem("Foo")),t.assertTrue(!e.isItem(1)),r.callback(!0)},onError:function(t,e){r.errback(t)}}),r},function(t){var e=dojox.data.tests.stores.XmlStore.getBooks2Store(),r=dojox.data.tests.stores.XmlStore.getBooks2Store(),o=new doh.Deferred,n=function(t,e){o.errback(t)};return e.fetch({query:{isbn:"A9B574"},onComplete:function(a,s){t.assertEqual(1,a.length);var u=a[0];t.assertTrue(e.isItem(u));r.fetch({query:{isbn:"A9B574"},onComplete:function(n,a){t.assertEqual(1,n.length);var s=n[0];t.assertTrue(r.isItem(s)),t.assertTrue(!e.isItem(s)),t.assertTrue(!r.isItem(u)),o.callback(!0)},onError:n})},onError:n}),o},function(t){var e=dojox.data.tests.stores.XmlStore.getBooks2Store(),r=new doh.Deferred;return e.fetch({query:{isbn:"A9B574"},onComplete:function(o,n){t.assertEqual(1,o.length);var a=o[0];t.assertTrue(e.hasAttribute(a,"isbn")),t.assertTrue(!e.hasAttribute(a,"bob")),t.assertTrue(e.hasAttribute(a,"@xmlAttribute")),t.assertFalse(e.hasAttribute(a,"@bogus")),r.callback(!0)},onError:function(t,e){r.errback(t)}}),r},function(t){var e=dojox.data.tests.stores.XmlStore.getBooks2Store(),r=new doh.Deferred;return e.fetch({query:{isbn:"A9B574"},onComplete:function(o,n){t.assertEqual(1,o.length);var a=o[0];t.assertTrue(e.containsValue(a,"isbn","A9B574")),t.assertTrue(!e.containsValue(a,"isbn","bob")),r.callback(!0)},onError:function(t,e){r.errback(t)}}),r},function(t){var e=dojox.data.tests.stores.XmlStore.getBooksStore(),r=[9,8,7,6,5,4,3,20,2,19,18,17,16,15,14,13,12,11,10,1],o=new doh.Deferred;return e.fetch({query:{isbn:"*"},sort:[{attribute:"isbn",descending:!0}],onComplete:function(n,a){console.log("Number of items: "+n.length),t.assertEqual(20,n.length);for(var s=0;s<n.length;s++)t.assertEqual(r[s],e.getValue(n[s],"isbn").toString());o.callback(!0)},onError:function(t,e){o.errback(t)}}),o},function(t){var e=dojox.data.tests.stores.XmlStore.getBooksStore(),r=[1,10,11,12,13,14,15,16,17,18,19,2,20,3,4,5,6,7,8,9],o=new doh.Deferred;return e.fetch({query:{isbn:"*"},sort:[{attribute:"isbn"}],onComplete:function(n,a){t.assertEqual(20,n.length);for(var s=0;s<n.length;s++)t.assertEqual(r[s],e.getValue(n[s],"isbn").toString());o.callback(!0)},onError:function(t,e){o.errback(t)}}),o},function(t){var e=dojox.data.tests.stores.XmlStore.getBooksStore();e.comparatorMap={},e.comparatorMap.isbn=function(t,e){var r=0;return parseInt(t.toString(),10)>parseInt(e.toString(),10)?r=1:parseInt(t.toString(),10)<parseInt(e.toString(),10)&&(r=-1),r};var r=new doh.Deferred;return e.fetch({query:{isbn:"*"},sort:[{attribute:"isbn",descending:!0}],onComplete:function(o,n){t.assertEqual(20,o.length);for(var a=20,s=0;s<o.length;s++)t.assertEqual(a,e.getValue(o[s],"isbn").toString()),a--;r.callback(!0)},onError:function(t,e){r.errback(t)}}),r},function(t){var e=dojox.data.tests.stores.XmlStore.getBooksStore();e.comparatorMap={},e.comparatorMap.isbn=function(t,e){var r=0;return parseInt(t.toString(),10)>parseInt(e.toString(),10)?r=1:parseInt(t.toString(),10)<parseInt(e.toString(),10)&&(r=-1),r};var r=new doh.Deferred;return e.fetch({query:{isbn:"*"},sort:[{attribute:"isbn"}],onComplete:function(o,n){t.assertEqual(20,o.length);for(var a=1,s=0;s<o.length;s++)t.assertEqual(a,e.getValue(o[s],"isbn").toString()),a++;r.callback(!0)},onError:function(t,e){r.errback(t)}}),r},function(t){var e=dojox.data.tests.stores.XmlStore.getBooks2Store(),r=new doh.Deferred;return e.fetch({query:{isbn:"A9B574"},onComplete:function(o,n){t.assertEqual(1,o.length);var a=o[0];t.assertTrue(e.isItemLoaded(a)),r.callback(!0)},onError:function(t,e){r.errback(t)}}),r},function(t){var e,r=dojox.data.tests.stores.XmlStore.getBooks2Store().getFeatures(),o=0;for(e in r)t.assertTrue("dojo.data.api.Read"===e||"dojo.data.api.Write"===e||"dojo.data.api.Identity"),o++;t.assertEqual(3,o)},function(t){var e=dojox.data.tests.stores.XmlStore.getBooks2Store(),r=new doh.Deferred;return e.fetch({query:{isbn:"A9B577"},onComplete:function(o,n){t.assertEqual(1,o.length);for(var a=o[0],s=e.getAttributes(a),u=0;u<s.length;u++)console.log("attribute found: "+s[u]);dojo.isIE?t.assertEqual(5,s.length):t.assertEqual(6,s.length),r.callback(!0)},onError:function(t,e){r.errback(t)}}),r},function(t){var e=dojox.data.tests.stores.XmlStore.getBooks2Store(),r=new doh.Deferred;return e.fetch({query:{isbn:"A9B574"},onComplete:function(o,n){t.assertEqual(1,o.length);var a=o[0];t.assertTrue(e.containsValue(a,"isbn","A9B574")),e.setValue(a,"isbn","A9B574-new"),t.assertEqual(e.getValue(a,"isbn").toString(),"A9B574-new"),r.callback(!0)},onError:function(t,e){r.errback(t)}}),r},function(t){var e=dojox.data.tests.stores.XmlStore.getBooks2Store(),r=new doh.Deferred;return e.fetch({query:{isbn:"A9B574"},onComplete:function(o,n){t.assertEqual(1,o.length);var a=o[0];t.assertTrue(e.containsValue(a,"isbn","A9B574")),e.setValues(a,"isbn",["A9B574-new1","A9B574-new2"]);var s=e.getValues(a,"isbn");t.assertEqual(s[0].toString(),"A9B574-new1"),t.assertEqual(s[1].toString(),"A9B574-new2"),e.setValues(s[0],"text()",["A9B574","-new3"]),t.assertEqual(e.getValue(s[0],"text()").toString(),"A9B574-new3"),r.callback(!0)},onError:function(t,e){r.errback(t)}}),r},function(t){var e=dojox.data.tests.stores.XmlStore.getBooks2Store(),r=new doh.Deferred;return e.fetch({query:{isbn:"A9B574"},onComplete:function(o,n){t.assertEqual(1,o.length);var a=o[0];t.assertTrue(e.containsValue(a,"isbn","A9B574")),e.unsetAttribute(a,"isbn"),t.assertTrue(!e.hasAttribute(a,"isbn")),t.assertTrue(e.isDirty(a)),r.callback(!0)},onError:function(t,e){r.errback(t)}}),r},function(t){var e=dojox.data.tests.stores.XmlStore.getBooks2Store(),r=new doh.Deferred;return e.fetch({query:{isbn:"A9B574"},onComplete:function(o,n){t.assertEqual(1,o.length);var a=o[0];t.assertTrue(e.containsValue(a,"isbn","A9B574")),e.setValue(a,"isbn","A9B574-new"),t.assertEqual(e.getValue(a,"isbn").toString(),"A9B574-new"),t.assertTrue(e.isDirty(a)),r.callback(!0)},onError:function(t,e){r.errback(t)}}),r},function(t){var e=dojox.data.tests.stores.XmlStore.getBooks2Store(),r=new doh.Deferred,o=function(t,e){r.errback(t)};return e.fetch({query:{isbn:"A9B574"},onComplete:function(n,a){t.assertEqual(1,n.length);var s=n[0];t.assertTrue(e.containsValue(s,"isbn","A9B574")),t.assertTrue(!e.isDirty(s)),e.setValue(s,"isbn","A9B574-new"),t.assertEqual(e.getValue(s,"isbn").toString(),"A9B574-new"),t.assertTrue(e.isDirty(s)),e.revert();e.fetch({query:{isbn:"A9B574"},onComplete:function(o,n){t.assertEqual(1,o.length);var a=o[0];t.assertTrue(e.containsValue(a,"isbn","A9B574")),r.callback(!0)},onError:o})},onError:o}),r},function(t){var e=dojox.data.tests.stores.XmlStore.getBooks2Store(),r=new doh.Deferred;return e.fetch({query:{isbn:"A9B5CC"},onComplete:function(o,n){t.assertEqual(1,o.length);var a=o[0];try{t.assertTrue(e.containsValue(a,"isbn","A9B5CC")),t.assertTrue(null!==e.getIdentity(a)),r.callback(!0)}catch(t){r.errback(t)}},onError:function(t,e){r.errback(t)}}),r},function(t){var e=dojox.data.tests.stores.XmlStore.getBooks2Store(),r=new doh.Deferred;return e.fetchItemByIdentity({identity:"/books[0]/book[4]",onItem:function(o,n){try{t.assertTrue(null!==o);var a=e.getIdentityAttributes(o);t.assertTrue(null===a),t.assertEqual("/books[0]/book[4]",e.getIdentity(o)),r.callback(!0)}catch(t){r.errback(t)}},onError:function(t,e){r.errback(t)}}),r},function(t){var e=dojox.data.tests.stores.XmlStore.getBooks3Store(),r=new doh.Deferred;return e.fetchItemByIdentity({identity:"A9B574",onItem:function(o,n){try{t.assertTrue(null!==o);var a=e.getIdentityAttributes(o);t.assertTrue(null!==a),t.assertTrue(1===a.length),t.assertTrue("isbn"===a[0]),r.callback(!0)}catch(t){r.errback(t)}},onError:function(t,e){r.errback(t)}}),r},function(t){var e=dojox.data.tests.stores.XmlStore.getBooks2Store(),r=new doh.Deferred;return e.fetchItemByIdentity({identity:"/books[0]/book[4]",onItem:function(o,n){try{t.assertTrue(null!==o),t.assertEqual("/books[0]/book[4]",e.getIdentity(o)),r.callback(!0)}catch(t){r.errback(t)}},onError:function(t,e){r.errback(t)}}),r},function(t){var e=dojox.data.tests.stores.XmlStore.getBooks2Store(),r=new doh.Deferred;return e.fetchItemByIdentity({identity:"/books[0]/book[0]",onItem:function(o,n){try{t.assertTrue(null!==o),t.assertEqual("/books[0]/book[0]",e.getIdentity(o)),r.callback(!0)}catch(t){r.errback(t)}},onError:function(t,e){r.errback(t)}}),r},function(t){var e=dojox.data.tests.stores.XmlStore.getBooks2Store(),r=new doh.Deferred;return e.fetchItemByIdentity({identity:"/books[0]/book[2]",onItem:function(o,n){try{t.assertTrue(null!==o),t.assertEqual("/books[0]/book[2]",e.getIdentity(o)),r.callback(!0)}catch(t){r.errback(t)}},onError:function(t,e){r.errback(t)}}),r},function(t){var e=dojox.data.tests.stores.XmlStore.getBooks3Store(),r=new doh.Deferred;return e.fetchItemByIdentity({identity:"A9B574",onItem:function(o,n){try{t.assertTrue(null!==o),t.assertEqual("A9B574",e.getIdentity(o)),r.callback(!0)}catch(t){r.errback(t)}},onError:function(t,e){r.errback(t)}}),r},function(t){var e=dojox.data.tests.stores.XmlStore.getBooks3Store(),r=new doh.Deferred;return e.fetchItemByIdentity({identity:"A9B57C",onItem:function(o,n){try{t.assertTrue(null!==o),t.assertEqual("A9B57C",e.getIdentity(o)),r.callback(!0)}catch(t){r.errback(t)}},onError:function(t,e){r.errback(t)}}),r},function(t){var e=dojox.data.tests.stores.XmlStore.getBooks3Store(),r=new doh.Deferred;return e.fetchItemByIdentity({identity:"A9B5CC",onItem:function(o,n){try{t.assertTrue(null!==o),t.assertEqual("A9B5CC",e.getIdentity(o)),r.callback(!0)}catch(t){r.errback(t)}},onError:function(t,e){r.errback(t)}}),r},function(t){var e=dojox.data.tests.stores.XmlStore.getGeographyStore(),r=new doh.Deferred;return e.fetchItemByIdentity({identity:"Mexico City",onItem:function(o,n){try{t.assertTrue(null!==o),t.assertEqual("Mexico City",e.getIdentity(o)),r.callback(!0)}catch(t){r.errback(t)}},onError:function(t,e){r.errback(t)}}),r},function(t){var e=dojox.data.tests.stores.XmlStore.getBooks2Store(),r=new doh.Deferred;return e.fetchItemByIdentity({identity:"/books[0]/book[200]",onItem:function(e,o){t.assertTrue(null===e),r.callback(!0)},onError:function(t,e){r.errback(t)}}),r},function(t){var e=dojox.data.tests.stores.XmlStore.getBooks2Store(),r=new doh.Deferred;return e.fetchItemByIdentity({identity:"/books[1]/book[4]",onItem:function(e,o){t.assertTrue(null===e),r.callback(!0)},onError:function(t,e){r.errback(t)}}),r},function(t){var e=dojox.data.tests.stores.XmlStore.getBooks2Store(),r=new doh.Deferred;return e.fetchItemByIdentity({identity:"/books[1]/book[200]",onItem:function(e,o){t.assertTrue(null===e),r.callback(!0)},onError:function(t,e){r.errback(t)}}),r},function(t){var e=dojox.data.tests.stores.XmlStore.getBooks3Store(),r=new doh.Deferred;return e.fetchItemByIdentity({identity:"A9B574_NONEXISTENT",onItem:function(e,o){try{t.assertTrue(null===e),r.callback(!0)}catch(t){r.errback(t)}},onError:function(t,e){r.errback(t)}}),r},function(t){var e,r=dojox.data.tests.stores.XmlStore.getBooksStore(),o=new dojo.data.api.Read,n=!0;for(e in o){if("function"==typeof o[e])if("function"!=typeof r[e]){console.log("Problem with function: ["+e+"]"),n=!1;break}}t.assertTrue(n)},function(t){var e,r=dojox.data.tests.stores.XmlStore.getBooksStore(),o=new dojo.data.api.Write,n=!0;for(e in o){if("function"==typeof o[e])if("function"!=typeof r[e]){n=!1;break}}t.assertTrue(n)},function(t){var e,r=dojox.data.tests.stores.XmlStore.getBooksStore(),o=new dojo.data.api.Identity,n=!0;for(e in o){if("function"==typeof o[e])if("function"!=typeof r[e]){n=!1;break}}t.assertTrue(n)}]);
//# sourceMappingURL=../../../sourcemaps/data/tests/stores/XmlStore.js.map
