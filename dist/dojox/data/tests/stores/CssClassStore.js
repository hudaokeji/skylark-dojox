/**
 * dojox - A version of dojox.js framework that ported to running on skylarkjs.
 * @author Hudaokeji, Inc.
 * @version v0.9.0
 * @link https://github.com/skylark-integration/dojox/
 * @license MIT
 */
dojo.provide("dojox.data.tests.stores.CssClassStore"),dojo.require("dojox.data.CssClassStore"),dojo.require("dojo.data.api.Read"),dojo.require("dojo.data.api.Identity"),dojox.data.tests.stores.CssClassStore.createStore=function(s){var e=null;if(dojo.isBrowser){if(!dojox.data.tests.stores.CssClassStore._loaded){var t,r,o=dojo.doc.getElementsByTagName("head")[0],a=document.createElement("link");a.href=require.toUrl("dojox/data/tests/stores/test1.css").toString(),a.rel="stylesheet",a.type="text/css",o.appendChild(a),dojo.isIE?(t=document.createStyleSheet()).cssText='@import "'+require.toUrl("dojox/data/tests/stores/test2.css").toString()+'";':(t=document.createElement("style"),r=document.createTextNode('@import "'+require.toUrl("dojox/data/tests/stores/test2.css").toString()+'";'),t.appendChild(r),o.appendChild(t)),dojo.isIE?(t=document.createStyleSheet()).cssText=".embeddedTestClass { text-align: center; }":(t=document.createElement("style"),r=document.createTextNode(".embeddedTestClass { text-align: center; }"),t.appendChild(r),o.appendChild(t)),dojox.data.tests.stores.CssClassStore._loaded=!0}e=new dojox.data.CssClassStore({context:s})}return e},dojox.data.tests.stores.CssClassStore.verifyItems=function(s,e,t,r){if(e.length!=r.length)return!1;for(var o=0;o<e.length;o++)if(s.getValue(e[o],t)!==r[o])return!1;return!0},dojox.data.tests.stores.CssClassStore.error=function(s,e,t){for(var r in t)console.log(t[r]);e.errback(t)},doh.register("dojox.data.tests.stores.CssClassStore",[{name:"testReadAPI_fetch",timeout:1e4,runTest:function(s){var e=dojox.data.tests.stores.CssClassStore.createStore(),t=new doh.Deferred;return e.fetch({query:{class:"*TestClass"},onComplete:function(e){s.assertTrue(3===e.length),t.callback(!0)},onError:dojo.partial(dojox.data.tests.stores.CssClassStore.error,s,t)}),t}},function(s){var e=dojox.data.tests.stores.CssClassStore.createStore(["dojox/data/tests/stores/test1.css","dojox/data/tests/stores/test2.css"]),t=new doh.Deferred;return e.fetch({onComplete:function(e){s.assertTrue(3===e.length),t.callback(!0)},onError:dojo.partial(dojox.data.tests.stores.CssClassStore.error,s,t)}),t},function(s){var e=dojox.data.tests.stores.CssClassStore.createStore(["dojox/data/tests/stores/test1.css"]),t=new doh.Deferred;return e.fetch({query:{class:"*TestClass"},onComplete:function(e){s.assertTrue(1===e.length),t.callback(!0)},onError:dojo.partial(dojox.data.tests.stores.CssClassStore.error,s,t)}),t},function(s){var e=dojox.data.tests.stores.CssClassStore.createStore(["dojox/data/tests/stores/test1.css","dojox/data/tests/stores/test2.css"]),t=new doh.Deferred;return e.fetch({query:{class:"*TestClass"},onComplete:function(e){s.assertTrue(2===e.length),t.callback(!0)},onError:dojo.partial(dojox.data.tests.stores.CssClassStore.error,s,t)}),t},function(s){var e=dojox.data.tests.stores.CssClassStore.createStore(["dojox/data/tests/stores/test1.css","dojox/data/tests/stores/test2.css"]),t=new doh.Deferred;return e.fetch({query:{class:"*TestClass"},onComplete:function(r){s.assertTrue(2===r.length),e.setContext(["dojox/data/tests/stores/test1.css"]),e.fetch({query:{class:"*TestClass"},onComplete:function(e){s.assertTrue(1===e.length),t.callback(!0)},onError:dojo.partial(dojox.data.tests.stores.CssClassStore.error,s,t)})},onError:dojo.partial(dojox.data.tests.stores.CssClassStore.error,s,t)}),t},function(s){var e=dojox.data.tests.stores.CssClassStore.createStore(),t=new doh.Deferred;return e.fetch({query:{class:".linkTestClass"},onComplete:function(e,r){s.is(1,e.length),t.callback(!0)},onError:dojo.partial(dojox.data.tests.stores.CssClassStore.error,s,t)}),t},function(s){var e=dojox.data.tests.stores.CssClassStore.createStore(),t=new doh.Deferred;return e.fetch({query:{classSans:"linkTestClass"},onComplete:function(e,r){s.is(1,e.length),t.callback(!0)},onError:dojo.partial(dojox.data.tests.stores.CssClassStore.error,s,t)}),t},function(s){var e=dojox.data.tests.stores.CssClassStore.createStore(),t=new doh.Deferred,r=[!1,!1];try{e.fetch({query:{class:".embeddedTestClass"},onComplete:function(e,o){r[0]=!0,s.is(1,e.length),r[0]&&r[1]&&t.callback(!0)},onError:dojo.partial(dojox.data.tests.stores.CssClassStore.error,s,t)}),e.fetch({query:{class:".linkTestClass"},onComplete:function(e,o){r[1]=!0,s.is(1,e.length),r[0]&&r[1]&&t.callback(!0)},onError:dojo.partial(dojox.data.tests.stores.CssClassStore.error,s,t)})}catch(s){for(var o in s)console.log(s[o])}return t},function(s){var e=dojox.data.tests.stores.CssClassStore.createStore(),t=new doh.Deferred,r=[!1,!1];return e.fetch({query:{class:".linkTestClass"},onComplete:function(o,a){r[0]=!0,s.is(1,o.length),s.is(".linkTestClass",e.getValue(o[0],"class")),r[0]&&r[1]&&t.callback(!0)},onError:dojo.partial(dojox.data.tests.stores.CssClassStore.error,s,t)}),e.fetch({query:{classSans:"embeddedTestClass"},onItem:function(o){r[1]=!0,s.assertTrue(null!==o),s.is(".embeddedTestClass",e.getValue(o,"class")),r[0]&&r[1]&&t.callback(!0)},onError:dojo.partial(dojox.data.tests.stores.CssClassStore.error,s,t)}),t},function(s){var e=dojox.data.tests.stores.CssClassStore.createStore(),t=new doh.Deferred,r=0;return e.fetch({query:{class:"*TestClass"},onBegin:function(e,t){s.assertTrue(3===e)},onItem:function(t,o){s.assertTrue(e.isItem(t)),r++},onComplete:function(e,o){s.is(3,r),s.is(null,e),t.callback(!0)},onError:dojo.partial(dojox.data.tests.stores.CssClassStore.error,s,t)}),t},function(s){var e=dojox.data.tests.stores.CssClassStore.createStore(),t=new doh.Deferred;function r(e,r){s.is(2,e.length),t.callback(!0)}function o(t,o){s.is(1,t.length),s.is(".embeddedTestClass",e.getValue(t[0],"class")),o.start=0,o.count=2,o.onComplete=r,e.fetch(o)}return e.fetch({query:{class:"*TestClass"},onComplete:function(t,r){s.is(3,t.length),r.start=2,r.count=1,r.onComplete=o,e.fetch(r)},onError:dojo.partial(dojox.data.tests.stores.CssClassStore.error,s,t)}),t},function(s){var e=dojox.data.tests.stores.CssClassStore.createStore(),t=new doh.Deferred;return e.fetch({query:{classSans:"linkTestClass"},onComplete:function(r,o){s.assertEqual(r.length,1);var a=e.getLabel(r[0]);s.assertTrue(null!==a),s.assertEqual(".linkTestClass",a),t.callback(!0)},onError:dojo.partial(dojox.data.tests.stores.CssClassStore.error,s,t)}),t},function(s){var e=dojox.data.tests.stores.CssClassStore.createStore(),t=new doh.Deferred;return e.fetch({query:{classSans:"linkTestClass"},onComplete:function(r,o){s.assertEqual(r.length,1);var a=e.getLabelAttributes(r[0]);s.assertTrue(dojo.isArray(a)),s.assertEqual("class",a[0]),t.callback(!0)},onError:dojo.partial(dojox.data.tests.stores.CssClassStore.error,s,t)}),t},function(s){var e=dojox.data.tests.stores.CssClassStore.createStore(),t=new doh.Deferred;return e.fetch({query:{classSans:"linkTestClass"},onItem:function(r){s.assertTrue(null!==r),s.is(".linkTestClass",e.getValue(r,"class")),s.is("linkTestClass",e.getValue(r,"classSans")),t.callback(!0)},onError:dojo.partial(dojox.data.tests.stores.CssClassStore.error,s,t)}),t},function(s){var e=dojox.data.tests.stores.CssClassStore.createStore(),t=new doh.Deferred;return e.fetch({query:{classSans:"importTestClass"},onItem:function(r){s.assertTrue(null!==r),s.is(".importTestClass",e.getValue(r,"class")),s.is("importTestClass",e.getValue(r,"classSans")),t.callback(!0)},onError:dojo.partial(dojox.data.tests.stores.CssClassStore.error,s,t)}),t},function(s){var e=dojox.data.tests.stores.CssClassStore.createStore(),t=new doh.Deferred;return e.fetch({query:{classSans:"embeddedTestClass"},onItem:function(r){s.assertTrue(null!==r);var o=e.getValues(r,"class");s.assertTrue(dojo.isArray(o)),s.is(1,o.length),s.is(".embeddedTestClass",o[0]),t.callback(!0)},onError:dojo.partial(dojox.data.tests.stores.CssClassStore.error,s,t)}),t},function(s){var e=dojox.data.tests.stores.CssClassStore.createStore(),t=new doh.Deferred;return e.fetch({query:{classSans:"embeddedTestClass"},onItem:function(r){s.assertTrue(e.isItem(r)),s.assertTrue(!e.isItem({})),s.assertTrue(!e.isItem({item:"not an item"})),s.assertTrue(!e.isItem("not an item")),s.assertTrue(!e.isItem(["not an item"])),t.callback(!0)},onError:dojo.partial(dojox.data.tests.stores.CssClassStore.error,s,t)}),t},function(s){var e=dojox.data.tests.stores.CssClassStore.createStore(),t=new doh.Deferred;return e.fetch({query:{classSans:"embeddedTestClass"},onItem:function(r){s.assertTrue(null!==r),s.assertTrue(e.hasAttribute(r,"class")),s.assertTrue(e.hasAttribute(r,"classSans")),s.assertTrue(!e.hasAttribute(r,"Year")),s.assertTrue(!e.hasAttribute(r,"Nothing")),s.assertTrue(!e.hasAttribute(r,"title"));var o=!1;try{e.hasAttribute(r,null)}catch(s){o=!0}s.assertTrue(o),t.callback(!0)},onError:dojo.partial(dojox.data.tests.stores.CssClassStore.error,s,t)}),t},function(s){var e=dojox.data.tests.stores.CssClassStore.createStore(),t=new doh.Deferred;return e.fetch({query:{classSans:"embeddedTestClass"},onItem:function(r){s.assertTrue(null!==r),s.assertTrue(e.containsValue(r,"class",".embeddedTestClass")),s.assertTrue(e.containsValue(r,"classSans","embeddedTestClass")),s.assertTrue(!e.containsValue(r,"class",".embeddedTestClass2")),s.assertTrue(!e.containsValue(r,"classSans","embeddedTestClass\t")),s.assertTrue(!e.containsValue(r,"class",null));var o=!1;try{e.containsValue(r,null,"foo")}catch(s){o=!0}s.assertTrue(o),t.callback(!0)},onError:dojo.partial(dojox.data.tests.stores.CssClassStore.error,s,t)}),t},function(s){var e=dojox.data.tests.stores.CssClassStore.createStore(),t=new doh.Deferred;return e.fetch({query:{classSans:"embeddedTestClass"},onItem:function(r){s.assertTrue(null!==r),s.assertTrue(e.isItem(r));var o=e.getAttributes(r);s.is(2,o.length);for(var a=0;a<o.length;a++)s.assertTrue("class"===o[a]||"classSans"===o[a]);t.callback(!0)},onError:dojo.partial(dojox.data.tests.stores.CssClassStore.error,s,t)}),t},function(s){var e=dojox.data.tests.stores.CssClassStore.createStore().getFeatures(),t=0;for(var r in e)s.assertTrue("dojo.data.api.Read"===r||"dojo.data.api.Identity"===r),t++;s.assertTrue(2===t)},function(s){var e=dojox.data.tests.stores.CssClassStore.createStore(),t=new doh.Deferred;return e.fetch({query:{class:"*TestCla**"},onComplete:function(r,o){s.is(3,r.length),s.assertTrue(dojox.data.tests.stores.CssClassStore.verifyItems(e,r,"classSans",["linkTestClass","importTestClass","embeddedTestClass"])),t.callback(!0)},onError:dojo.partial(dojox.data.tests.stores.CssClassStore.error,s,t)}),t},function(s){var e=dojox.data.tests.stores.CssClassStore.createStore(),t=new doh.Deferred;return e.fetch({query:{class:".LINKtEsTclass"},queryOptions:{ignoreCase:!0},onComplete:function(r,o){s.is(1,r.length),s.assertTrue(".linkTestClass"===e.getValue(r[0],"class")),t.callback(!0)},onError:dojo.partial(dojox.data.tests.stores.CssClassStore.error,s,t)}),t},function(s){var e=dojox.data.tests.stores.CssClassStore.createStore(),t=new doh.Deferred;return e.fetch({query:{class:".LINKtEsTclass"},queryOptions:{ignoreCase:!1},onComplete:function(e,r){s.is(0,e.length),t.callback(!0)},onError:dojo.partial(dojox.data.tests.stores.CssClassStore.error,s,t)}),t},function(s){var e=dojox.data.tests.stores.CssClassStore.createStore(),t=new doh.Deferred;return e.fetch({query:{class:"*TestClass"},sort:[{attribute:"class"}],onComplete:function(r,o){s.is(3,r.length),s.assertTrue(dojox.data.tests.stores.CssClassStore.verifyItems(e,r,"class",[".embeddedTestClass",".importTestClass",".linkTestClass"])),t.callback(!0)},onError:dojo.partial(dojox.data.tests.stores.CssClassStore.error,s,t)}),t},function(s){var e=dojox.data.tests.stores.CssClassStore.createStore(),t=new doh.Deferred;return e.fetch({query:{class:"*TestClass"},sort:[{attribute:"classSans",descending:!0}],onComplete:function(r,o){console.debug(r),s.is(3,r.length),s.assertTrue(dojox.data.tests.stores.CssClassStore.verifyItems(e,r,"classSans",["linkTestClass","importTestClass","embeddedTestClass"])),t.callback(!0)},onError:dojo.partial(dojox.data.tests.stores.CssClassStore.error,s,t)}),t},function(s){var e=dojox.data.tests.stores.CssClassStore.createStore(),t=new dojo.data.api.Read,r=!0;for(var o in t){if("_"!==o.toString().charAt(0))if("function"==typeof t[o]){console.log("Looking at function: ["+o+"]");var a=e[o];if("function"!=typeof a){console.log("Problem with function: ["+o+"].   Got value: "+a),r=!1;break}}}s.assertTrue(r)},function(s){var e=dojox.data.tests.stores.CssClassStore.createStore(),t=new doh.Deferred;return e.fetchItemByIdentity({identity:".linkTestClass",onItem:function(e){s.assertTrue(null!==e),t.callback(!0)},onError:dojo.partial(dojox.data.tests.stores.CssClassStore.error,s,t)}),t},function(s){var e=dojox.data.tests.stores.CssClassStore.createStore(),t=new doh.Deferred;return e.fetchItemByIdentity({identity:".bsClass",onItem:function(e){s.assertTrue(null===e),t.callback(!0)},onError:dojo.partial(dojox.data.tests.stores.CssClassStore.error,s,t)}),t},function(s){var e=dojox.data.tests.stores.CssClassStore.createStore(),t=new doh.Deferred;return e.fetchItemByIdentity({identity:"linkTestClass",onItem:function(e){s.assertTrue(null===e),t.callback(!0)},onError:dojo.partial(dojox.data.tests.stores.CssClassStore.error,s,t)}),t},function(s){var e=dojox.data.tests.stores.CssClassStore.createStore(),t=new doh.Deferred;return e.fetchItemByIdentity({identity:"9999999",onItem:function(e){s.assertTrue(null===e),t.callback(!0)},onError:dojo.partial(dojox.data.tests.stores.CssClassStore.error,s,t)}),t},function(s){var e=dojox.data.tests.stores.CssClassStore.createStore(),t=new doh.Deferred;return e.fetch({query:{class:"*TestClass"},sort:[{attribute:"class"}],onComplete:function(r,o){s.is(3,r.length),s.assertTrue(".embeddedTestClass"===e.getIdentity(r[0])),s.assertTrue(".importTestClass"===e.getIdentity(r[1])),s.assertTrue(".linkTestClass"===e.getIdentity(r[2])),t.callback(!0)},onError:dojo.partial(dojox.data.tests.stores.CssClassStore.error,s,t)}),t},function(s){var e=dojox.data.tests.stores.CssClassStore.createStore(),t=new doh.Deferred;return e.fetchItemByIdentity({identity:".linkTestClass",onItem:function(r){s.assertTrue(e.isItem(r));var o=e.getIdentityAttributes(r);s.assertTrue(dojo.isArray(o)),s.is(1,o.length),s.assertEqual(o[0],"class"),t.callback(!0)},onError:dojo.partial(dojox.data.tests.stores.CssClassStore.error,s,t)}),t}]);
//# sourceMappingURL=../../../sourcemaps/data/tests/stores/CssClassStore.js.map
