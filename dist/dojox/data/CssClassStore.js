/**
 * dojox - A version of dojox.js framework that ported to running on skylarkjs.
 * @author Hudaokeji, Inc.
 * @version v0.9.0
 * @link https://github.com/skylark-integration/dojox/
 * @license MIT
 */
define(["dojo/_base/declare","dojox/data/CssRuleStore"],function(t,e){return t("dojox.data.CssClassStore",e,{_labelAttribute:"class",_idAttribute:"class",_cName:"dojox.data.CssClassStore",getFeatures:function(){return{"dojo.data.api.Read":!0,"dojo.data.api.Identity":!0}},getAttributes:function(t){return this._assertIsItem(t),["class","classSans"]},getValue:function(t,e,s){var i=this.getValues(t,e);return i&&i.length>0?i[0]:s},getValues:function(t,e){this._assertIsItem(t),this._assertIsAttribute(e);var s=[];return"class"===e?s=[t.className]:"classSans"===e&&(s=[t.className.replace(/\./g,"")]),s},_handleRule:function(t,e,s){for(var i={},n=t.selectorText.split(" "),a=0;a<n.length;a++){var r=n[a],l=r.indexOf(".");if(r&&r.length>0&&-1!==l){var h=r.indexOf(",")||r.indexOf("[");i[r=r.substring(l,-1!==h&&h>l?h:r.length)]=!0}}for(var u in i)if(!this._allItems[u]){var o={};o.className=u,o[this._storeRef]=this,this._allItems[u]=o}},_handleReturn:function(){var t,e=[],s={};for(var i in this._allItems)s[i]=this._allItems[i];for(;this._pending.length;)(t=this._pending.pop()).request._items=s,e.push(t);for(;e.length;)(t=e.pop()).fetch?this._handleFetchReturn(t.request):this._handleFetchByIdentityReturn(t.request)},_handleFetchByIdentityReturn:function(t){var e=t._items[t.identity];if(this.isItem(e)||(e=null),t.onItem){var s=t.scope||dojo.global;t.onItem.call(s,e)}},getIdentity:function(t){return this._assertIsItem(t),this.getValue(t,this._idAttribute)},getIdentityAttributes:function(t){return this._assertIsItem(t),[this._idAttribute]},fetchItemByIdentity:function(t){return(t=t||{}).store||(t.store=this),this._pending&&this._pending.length>0?this._pending.push({request:t}):(this._pending=[{request:t}],this._fetch(t)),t}})});
//# sourceMappingURL=../sourcemaps/data/CssClassStore.js.map
