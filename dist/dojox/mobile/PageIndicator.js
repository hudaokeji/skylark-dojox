/**
 * dojox - A version of dojox.js framework that ported to running on skylarkjs.
 * @author Hudaokeji, Inc.
 * @version v0.9.0
 * @link https://github.com/skylark-integration/dojox/
 * @license MIT
 */
define(["dojo/_base/connect","dojo/_base/declare","dojo/dom","dojo/dom-class","dojo/dom-construct","dijit/registry","dijit/_Contained","dijit/_WidgetBase","dojo/i18n!dojox/mobile/nls/messages"],function(e,t,o,i,d,s,l,n,r){return t("dojox.mobile.PageIndicator",[n,l],{refId:"",baseClass:"mblPageIndicator",buildRendering:function(){this.inherited(arguments),this.domNode.setAttribute("role","img"),this._tblNode=d.create("table",{className:"mblPageIndicatorContainer"},this.domNode),this._tblNode.insertRow(-1),this.connect(this.domNode,"onclick","_onClick"),this.subscribe("/dojox/mobile/viewChanged",function(e){this.reset()})},startup:function(){var e=this;e.defer(function(){e.reset()})},reset:function(){var e,t,l,n=this._tblNode.rows[0],a=[],c=0,h=(this.refId&&o.byId(this.refId)||this.domNode).parentNode.childNodes;for(e=0;e<h.length;e++)t=h[e],this.isView(t)&&a.push(t);if(n.cells.length!==a.length)for(d.empty(n),e=0;e<a.length;e++)t=a[e],l=d.create("div",{className:"mblPageIndicatorDot"}),n.insertCell(-1).appendChild(l);if(0!==a.length){var b=s.byNode(a[0]).getShowingView();for(e=0;e<n.cells.length;e++)l=n.cells[e].firstChild,a[e]===b.domNode?(c=e+1,i.add(l,"mblPageIndicatorDotSelected")):i.remove(l,"mblPageIndicatorDotSelected");n.cells.length?this.domNode.setAttribute("alt",r.PageIndicatorLabel.replace("$0",c).replace("$1",n.cells.length)):this.domNode.removeAttribute("alt")}},isView:function(e){return e&&1===e.nodeType&&i.contains(e,"mblView")},_onClick:function(t){!1!==this.onClick(t)&&t.target===this.domNode&&(t.layerX<this._tblNode.offsetLeft?e.publish("/dojox/mobile/prevPage",[this]):t.layerX>this._tblNode.offsetLeft+this._tblNode.offsetWidth&&e.publish("/dojox/mobile/nextPage",[this]))},onClick:function(){}})});
//# sourceMappingURL=../sourcemaps/mobile/PageIndicator.js.map
