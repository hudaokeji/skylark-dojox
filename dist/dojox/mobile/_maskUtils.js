/**
 * dojox - A version of dojox.js framework that ported to running on skylarkjs.
 * @author Hudaokeji, Inc.
 * @version v0.9.0
 * @link https://github.com/skylark-integration/dojox/
 * @license MIT
 */
define(["dojo/_base/window","dojo/dom-style","./sniff"],function(e,t,a){a.add("mask-image-css",function(e,t,a){return"function"==typeof t.getCSSCanvasContext&&void 0!==a.style.webkitMaskImage}),a.add("mask-image",function(){return a("mask-image-css")||a("svg")});var l={};return{createRoundMask:function(i,s,o,r,n,c,f,v,d,g){var h=s+c+r,b=o+f+n;if(a("mask-image-css")){var m=("DojoMobileMask"+s+o+c+f+v+d).replace(/\./g,"_");if(!l[m]){l[m]=1;var u=e.doc.getCSSCanvasContext("2d",m,h,b);if(u.beginPath(),v==d)2==v&&5==c?(u.fillStyle="rgba(0,0,0,0.5)",u.fillRect(1,0,3,2),u.fillRect(0,1,5,1),u.fillRect(0,f-2,5,1),u.fillRect(1,f-1,3,2),u.fillStyle="rgb(0,0,0)",u.fillRect(0,2,5,f-4)):2==v&&5==f?(u.fillStyle="rgba(0,0,0,0.5)",u.fillRect(0,1,2,3),u.fillRect(1,0,1,5),u.fillRect(c-2,0,1,5),u.fillRect(c-1,1,2,3),u.fillStyle="rgb(0,0,0)",u.fillRect(2,0,c-4,5)):(u.fillStyle="#000000",u.moveTo(s+v,o),u.arcTo(s,o,s,o+v,v),u.lineTo(s,o+f-v),u.arcTo(s,o+f,s+v,o+f,v),u.lineTo(s+c-v,o+f),u.arcTo(s+c,o+f,s+c,o+v,v),u.lineTo(s+c,o+v),u.arcTo(s+c,o,s+c-v,o,v));else{var y=Math.PI;u.scale(1,d/v),u.moveTo(s+v,o),u.arc(s+v,o+v,v,1.5*y,.5*y,!0),u.lineTo(s+c-v,o+2*v),u.arc(s+c-v,o+v,v,.5*y,1.5*y,!0)}u.closePath(),u.fill()}i.style.webkitMaskImage="-webkit-canvas("+m+")"}else if(a("svg")){i._svgMask&&i.removeChild(i._svgMask);for(var k=null,p=i.parentNode;p&&(!(k=t.getComputedStyle(p).backgroundColor)||"transparent"==k||k.match(/rgba\(.*,\s*0\s*\)/));p=p.parentNode);var M="http://www.w3.org/2000/svg",S=e.doc.createElementNS(M,"svg");S.setAttribute("width",h),S.setAttribute("height",b),S.style.position="absolute",S.style.pointerEvents="none",S.style.opacity="1",S.style.zIndex="2147483647";var C=e.doc.createElementNS(M,"path"),R=" M"+(s+(v+=g=g||0)-g)+","+(o-g)+" a"+v+","+(d+=g)+" 0 0,0 "+-v+","+d+" v"+-d+" h"+v+" Z M"+(s-g)+","+(o+f-d+g)+" a"+v+","+d+" 0 0,0 "+v+","+d+" h"+-v+" v"+-d+" z M"+(s+c-v+g)+","+(o+f+g)+" a"+v+","+d+" 0 0,0 "+v+","+-d+" v"+d+" h"+-v+" z M"+(s+c+g)+","+(o+d-g)+" a"+v+","+d+" 0 0,0 "+-v+","+-d+" h"+v+" v"+d+" z";o>0&&(R+=" M0,0 h"+h+" v"+o+" h"+-h+" z"),n>0&&(R+=" M0,"+(o+f)+" h"+h+" v"+n+" h"+-h+" z"),C.setAttribute("d",R),C.setAttribute("fill",k),C.setAttribute("stroke",k),C.style.opacity="1",S.appendChild(C),i._svgMask=S,i.appendChild(S)}}}});
//# sourceMappingURL=../sourcemaps/mobile/_maskUtils.js.map
