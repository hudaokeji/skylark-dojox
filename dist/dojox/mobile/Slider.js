/**
 * dojox - A version of dojox.js framework that ported to running on skylarkjs.
 * @author Hudaokeji, Inc.
 * @version v0.9.0
 * @link https://github.com/skylark-integration/dojox/
 * @license MIT
 */
define(["dojo/_base/array","dojo/_base/connect","dojo/_base/declare","dojo/_base/lang","dojo/_base/window","dojo/sniff","dojo/dom-class","dojo/dom-construct","dojo/dom-geometry","dojo/dom-style","dojo/keys","dojo/touch","dijit/_WidgetBase","dijit/form/_FormValueMixin"],function(t,e,i,s,a,o,h,n,r,d,l,c,u,m){return i("dojox.mobile.Slider",[u,m],{value:0,min:0,max:100,step:1,baseClass:"mblSlider",flip:!1,orientation:"auto",halo:"8pt",buildRendering:function(){if(!this.templateString){this.focusNode=this.domNode=n.create("div",{}),this.valueNode=n.create("input",this.srcNodeRef&&this.srcNodeRef.name?{type:"hidden",name:this.srcNodeRef.name}:{type:"hidden"},this.domNode,"last");var t=n.create("div",{style:{position:"relative",height:"100%",width:"100%"}},this.domNode,"last");this.progressBar=n.create("div",{style:{position:"absolute"},class:"mblSliderProgressBar"},t,"last"),this.touchBox=n.create("div",{style:{position:"absolute"},class:"mblSliderTouchBox"},t,"last"),this.handle=n.create("div",{style:{position:"absolute"},class:"mblSliderHandle"},t,"last"),this.handle.setAttribute("role","slider"),this.handle.setAttribute("tabindex",0)}this.inherited(arguments),void 0!==this.domNode.style.msTouchAction&&(this.domNode.style.msTouchAction="none")},_setMinAttr:function(t){this.handle.setAttribute("aria-valuemin",t),this._set("min",t)},_setMaxAttr:function(t){this.handle.setAttribute("aria-valuemax",t),this._set("max",t)},_setValueAttr:function(t,e){t=Math.max(Math.min(t,this.max),this.min);this.value,this.min,this.max,this.min;if(this.valueNode.value=t,this.inherited(arguments),this._started){var i=100*(t-this.min)/(this.max-this.min);this.orientation;!0===e?(h.add(this.handle,"mblSliderTransition"),h.add(this.progressBar,"mblSliderTransition")):(h.remove(this.handle,"mblSliderTransition"),h.remove(this.progressBar,"mblSliderTransition")),d.set(this.handle,this._attrs.handleLeft,(this._reversed?100-i:i)+"%"),d.set(this.progressBar,this._attrs.width,i+"%"),this.handle.setAttribute("aria-valuenow",t)}},postCreate:function(){function i(i){function h(t){n=l?t[this._attrs.pageX]:t.touches?t.touches[0][this._attrs.pageX]:t[this._attrs.clientX],u=n-_,u=Math.min(Math.max(u,0),y);var e=this.step?(this.max-this.min)/this.step:y;(e<=1||e==1/0)&&(e=y);var i=Math.round(u*e/y);m=(this.max-this.min)*i/e,m=this._reversed?this.max-m:this.min+m}i.target.focus(),i.preventDefault();var l="mousedown"==i.type,v=r.position(f,!1),p=o("ie")||o("trident")>6?1:d.get(a.body(),"zoom")||1;isNaN(p)&&(p=1);var b=o("ie")||o("trident")>6?1:d.get(f,"zoom")||1;isNaN(b)&&(b=1);var _=v[this._attrs.x]*b*p+r.docScroll()[this._attrs.x],y=v[this._attrs.w]*b*p;s.hitch(this,h)(i),i.target==this.touchBox&&this.set("value",m,!0),t.forEach(x,e.disconnect);var g=a.doc.documentElement,x=[this.connect(g,c.move,function(t){t.preventDefault(),s.hitch(this,h)(t),this.set("value",m,!1)}),this.connect(g,c.release,function(e){e.preventDefault(),t.forEach(x,s.hitch(this,"disconnect")),x=[],this.set("value",this.value,!0)})]}this.inherited(arguments);var n,u,m,f=this.domNode;"auto"==this.orientation&&(this.orientation=f.offsetHeight<=f.offsetWidth?"H":"V"),h.add(this.domNode,t.map(this.baseClass.split(" "),s.hitch(this,function(t){return t+this.orientation})));var v="V"!=this.orientation,p=!!v&&this.isLeftToRight(),b=!!this.flip;this._reversed=!(v&&(p&&!b||!p&&b)||!v&&b),this._attrs=v?{x:"x",w:"w",l:"l",r:"r",pageX:"pageX",clientX:"clientX",handleLeft:"left",left:this._reversed?"right":"left",width:"width"}:{x:"y",w:"h",l:"t",r:"b",pageX:"pageY",clientX:"clientY",handleLeft:"top",left:this._reversed?"bottom":"top",width:"height"},this.progressBar.style[this._attrs.left]="0px",this.connect(this.touchBox,c.press,i),this.connect(this.handle,c.press,i),this.connect(this.domNode,"onkeypress",function(t){if(!(this.disabled||this.readOnly||t.altKey||t.ctrlKey||t.metaKey)){var e,i=this.step,s=1;switch(t.keyCode){case l.HOME:e=this.min;break;case l.END:e=this.max;break;case l.RIGHT_ARROW:s=-1;case l.LEFT_ARROW:e=this.value+s*(b&&v?i:-i);break;case l.DOWN_ARROW:s=-1;case l.UP_ARROW:e=this.value+s*(!b||v?i:-i);break;default:return}t.preventDefault(),this._setValueAttr(e,!1)}}),this.connect(this.domNode,"onkeyup",function(t){this.disabled||this.readOnly||t.altKey||t.ctrlKey||t.metaKey||this._setValueAttr(this.value,!0)}),this.startup(),this.set("value",this.value)}})});
//# sourceMappingURL=../sourcemaps/mobile/Slider.js.map
