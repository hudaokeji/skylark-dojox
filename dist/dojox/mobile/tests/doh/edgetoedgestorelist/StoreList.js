/**
 * dojox - A version of dojox.js framework that ported to running on skylarkjs.
 * @author Hudaokeji, Inc.
 * @version v0.9.0
 * @link https://github.com/skylark-integration/dojox/
 * @license MIT
 */
require(["dojo/parser","dojo/_base/Deferred","dojo/store/Cache","dojo/store/JsonRest","dojo/store/Memory","dojo/store/Observable","dojo/ready","dijit/registry","doh/runner","dojox/mobile/EdgeToEdgeStoreList","dojox/mobile/RoundRectStoreList","dojox/mobile/tests/doh/CustomListItem","dojox/mobile","dojox/mobile/compat"],function(e,o,t,s,a,l,m,r,i,d,n){var c,u;IsEdgeToEdgeList?("mblEdgeToEdgeList",c=d,u="dojox.mobile.test.doh.EdgeToEdgeStoreList"):("mblRoundRectList",c=n,u="dojox.mobile.test.doh.RoundRectStoreList");store1=new s({idProperty:"label",target:"settings2.json"}),store2=l(new a({idProperty:"label",data:[{label:"Apple",moveTo:"dummy"},{label:"Banana",moveTo:"dummy"},{label:"Cherry",moveTo:"dummy"},{label:"Grape",moveTo:"dummy"},{label:"Kiwi",moveTo:"dummy"},{label:"Lemon",moveTo:"dummy"},{label:"Melon",moveTo:"dummy"},{label:"Orange",moveTo:"dummy"},{label:"Peach",moveTo:"dummy"}]})),store1.__counter=store2.__counter=1,store=store1,switchTo=function(e){window.store=e,r.byId("list").setStore(e)},add1=function(){store.add({label:"New Item "+store.__counter++,icon:"../../images/i-icon-1.png",moveTo:"dummy"})},delete1=function(){store.__counter>1&&store.remove("New Item "+--store.__counter)};var b=0;modify1=function(){store.__counter>1&&store.put({label:"New Item "+(store.__counter-1),rightText:++b+" changes"})},m(function(){i.register(u,[{name:c+" Verification",timeout:4e3,runTest:function(){var e=new i.Deferred;return setTimeout(e.getTestCallback(function(){var e=r.byId("dojox_mobile_ListItem_0");i.assertTrue(e.customProp),i.assertEqual("mblListItem",e.domNode.className),i.assertEqual("mblImageIcon mblListItemIcon",e.iconNode.className),i.assertTrue(-1!=e.iconNode.src.search(/i-icon-1.png/i)),i.assertEqual("mblListItemRightIcon",e.rightIconNode.className),i.assertEqual("mblListItemLabel",e.labelNode.className),i.assertEqual("Wi-Fi",e.labelNode.innerHTML),i.assertEqual("mblDomButtonArrow mblDomButton",e.rightIconNode.childNodes[0].className),e=r.byId("dojox_mobile_ListItem_3"),i.assertEqual("mblListItem mblListItemSelected",e.domNode.className),i.assertEqual("mblImageIcon mblListItemIcon",e.iconNode.className),i.assertTrue(-1!=e.iconNode.src.search(/i-icon-4.png/i)),i.assertEqual("mblListItemRightIcon",e.rightIconNode.className),i.assertEqual("mblListItemLabel",e.labelNode.className),i.assertEqual("General",e.labelNode.innerHTML),i.assertEqual("mblDomButtonArrow mblDomButton",e.rightIconNode.childNodes[0].className)}),500),e}},{name:c+" Verification2",timeout:1e4,runTest:function(){var e=new doh.Deferred;return setTimeout(e.getTestCallback(function(){switchTo(store2);var e=r.byId("dojox_mobile_ListItem_13");i.assertEqual("mblListItem",e.domNode.className),i.assertEqual(null,e.iconNode),i.assertEqual("mblListItemLabel",e.labelNode.className),i.assertEqual("Grape",e.labelNode.innerHTML),i.assertEqual("mblDomButtonArrow mblDomButton",e.rightIconNode.childNodes[0].className)}),2500),e}},{name:c+" Verification3",timeout:1e4,runTest:function(){var e=new i.Deferred;return setTimeout(e.getTestCallback(function(){add1(),add1(),add1();var e=r.byId("dojox_mobile_ListItem_19");i.assertEqual("mblListItem",e.domNode.className),i.assertEqual("mblImageIcon mblListItemIcon",e.iconNode.className),i.assertEqual("mblListItemLabel",e.labelNode.className),i.assertEqual("New Item 1",e.labelNode.innerHTML),i.assertEqual("mblDomButtonArrow mblDomButton",e.rightIconNode.childNodes[0].className),delete1(),e=r.byId("dojox_mobile_ListItem_21"),i.assertTrue(!e),e=r.byId("dojox_mobile_ListItem_20"),i.assertEqual("mblListItem",e.domNode.className),i.assertEqual("mblImageIcon mblListItemIcon",e.iconNode.className),i.assertEqual("mblListItemLabel",e.labelNode.className),i.assertEqual("New Item 2",e.labelNode.innerHTML),i.assertEqual("mblDomButtonArrow mblDomButton",e.rightIconNode.childNodes[0].className),modify1(),i.assertEqual(b+" changes",e.get("rightText"),"modify store item")}),1500),e}},{name:c+" Verification4 (1.8 compat mode)",timeout:1e4,runTest:function(){var e=new i.Deferred;return setTimeout(e.getTestCallback(function(){var e=r.byId("list");e.onAdd=void 0,e.onUpdate=function(e,o){o===this.getChildren().length?this.addChild(this.createListItem(e)):this.getChildren()[o].set(e)},add1(),add1(),add1();var o=r.byId("dojox_mobile_ListItem_22");i.assertEqual("mblListItem",o.domNode.className),i.assertEqual("mblImageIcon mblListItemIcon",o.iconNode.className),i.assertEqual("mblListItemLabel",o.labelNode.className),i.assertEqual("New Item 3",o.labelNode.innerHTML),i.assertEqual("mblDomButtonArrow mblDomButton",o.rightIconNode.childNodes[0].className),delete1(),o=r.byId("dojox_mobile_ListItem_24"),i.assertTrue(!o),o=r.byId("dojox_mobile_ListItem_23"),i.assertEqual("mblListItem",o.domNode.className),i.assertEqual("mblImageIcon mblListItemIcon",o.iconNode.className),i.assertEqual("mblListItemLabel",o.labelNode.className),i.assertEqual("New Item 4",o.labelNode.innerHTML),i.assertEqual("mblDomButtonArrow mblDomButton",o.rightIconNode.childNodes[0].className),modify1(),i.assertEqual("",o.get("rightText"),"modify store item (noop in compat mode)")}),1500),e}}]),i.run()})});
//# sourceMappingURL=../../../../sourcemaps/mobile/tests/doh/edgetoedgestorelist/StoreList.js.map
