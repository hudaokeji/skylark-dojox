/**
 * dojox - A version of dojox.js framework that ported to running on skylarkjs.
 * @author Hudaokeji, Inc.
 * @version v0.9.0
 * @link https://github.com/skylark-integration/dojox/
 * @license MIT
 */
dojo.provide("dojox.mobile.app._base"),dojo.experimental("dojox.mobile.app._base"),dojo.require("dijit._base"),dojo.require("dijit._WidgetBase"),dojo.require("dojox.mobile"),dojo.require("dojox.mobile.parser"),dojo.require("dojox.mobile.Button"),dojo.require("dojox.mobile.app._event"),dojo.require("dojox.mobile.app._Widget"),dojo.require("dojox.mobile.app.StageController"),dojo.require("dojox.mobile.app.SceneController"),dojo.require("dojox.mobile.app.SceneAssistant"),dojo.require("dojox.mobile.app.AlertDialog"),dojo.require("dojox.mobile.app.List"),dojo.require("dojox.mobile.app.ListSelector"),dojo.require("dojox.mobile.app.TextBox"),dojo.require("dojox.mobile.app.ImageView"),dojo.require("dojox.mobile.app.ImageThumbView"),function(){var o,e,i,r={},n=[];function t(o,e){var i,n;do{if((i=o.pop()).source)n=i.source;else{if(!i.module)return void console.log("Error: invalid JavaScript resource "+dojo.toJson(i));n=dojo.moduleUrl(i.module)+".js"}}while(o.length>0&&r[n]);o.length<1&&r[n]?e():dojo.xhrGet({url:n,sync:!1}).addCallbacks(function(i){dojo.eval(i),r[n]=!0,o.length>0?t(o,e):e()},function(){console.log("Failed to load resource "+n)})}var l=function(){o=new dojox.mobile.app.StageController(i);var r={id:"com.test.app",version:"1.0.0",initialScene:"main"};if(dojo.global.appInfo&&dojo.mixin(r,dojo.global.appInfo),(e=dojox.mobile.app.info=r).title){dojo.query("head title")[0]||dojo.create("title",{},dojo.query("head")[0]);document.title=e.title}o.pushScene(e.initialScene)};dojo.mixin(dojox.mobile.app,{init:function(e){var r;i=e||dojo.body(),dojox.mobile.app.STAGE_CONTROLLER_ACTIVE=!0,dojo.subscribe("/dojox/mobile/app/goback",function(){o.popScene()}),dojo.subscribe("/dojox/mobile/app/alert",function(o){dojox.mobile.app.getActiveSceneController().showAlertDialog(o)}),dojo.subscribe("/dojox/mobile/app/pushScene",function(e,i){o.pushScene(e,i||{})}),dojo.xhrGet({url:"view-resources.json",load:function(o){var e=[];if(o){n=o=dojo.fromJson(o);for(var i=0;i<o.length;i++)o[i].scene||e.push(o[i])}e.length>0?t(e,l):l()},error:l}),r=!1,dojo.global.BackButton?(BackButton.override(),dojo.connect(document,"backKeyDown",function(o){dojo.publish("/dojox/mobile/app/goback")}),r=!0):dojo.global.Mojo,r&&dojo.addClass(dojo.body(),"mblNativeBack")},getActiveSceneController:function(){return o.getActiveSceneController()},getStageController:function(){return o},loadResources:function(o,e){t(o,e)},loadResourcesForScene:function(o,e){for(var i=[],r=0;r<n.length;r++)n[r].scene==o&&i.push(n[r]);i.length>0?t(i,e):e()},resolveTemplate:function(o){return"app/views/"+o+"/"+o+"-scene.html"},resolveAssistant:function(o){return"app/assistants/"+o+"-assistant.js"}})}();
//# sourceMappingURL=../../sourcemaps/mobile/app/_base.js.map
