{"version":3,"sources":["fx/scroll.js"],"names":["define","kernel","lang","baseFx","fxExt","Line","domGeom","has","experimental","fx","getObject","smoothScroll","args","target","position","node","isWindow","scrollTo","delta","x","y","winPos","win","_anim","val","scrollLeft","scrollTop","anim","Animation","mixin","beforeBegin","this","curve","current","dojo","_docScroll","onAnimate"],"mappings":";;;;;;;AAAAA,QAAQ,oBAAoB,kBAAmB,gBAAiB,iBAAiB,iBAAiB,oBAAoB,oBACrH,SAAUC,EAAQC,EAAMC,EAAQC,EAAOC,EAAMC,EAASC,GACtDN,EAAOO,aAAa,mBACpB,IAAIC,EAAKP,EAAKQ,UAAU,YAAW,GAyCnC,OAxCAN,EAAMO,aAAe,SAAqBC,GAWrCA,EAAKC,SAASD,EAAKC,OAASP,EAAQQ,SAASF,EAAKG,OAEtD,IAAIC,EAAWd,EAAMK,EAAI,MAAQ,WAAa,cAAeK,EAAU,IAAEK,UACxEC,GAAUC,EAAGP,EAAKC,OAAOM,EAAGC,EAAGR,EAAKC,OAAOO,GAE5C,IAAIJ,EAAS,CACZ,IAAIK,EAASf,EAAQQ,SAASF,EAAKU,KACnCJ,EAAMC,GAAKE,EAAOF,EAClBD,EAAME,GAAKC,EAAOD,EAEnB,IAAIG,EAAQ,EACX,SAAUC,GACTZ,EAAKU,IAAIL,SAASO,EAAI,GAAGA,EAAI,KAE9B,SAAUA,GACTZ,EAAKU,IAAIG,WAAaD,EAAI,GAC1BZ,EAAKU,IAAII,UAAYF,EAAI,IAEvBG,EAAO,IAAIxB,EAAOyB,UAAU1B,EAAK2B,OACpCC,YAAa,WACTC,KAAKC,cAAeD,KAAKC,MAC5B,IAAIC,EAAUjB,EAAWkB,KAAKC,cAAgBhB,EAAGP,EAAKU,IAAIG,WAAYL,EAAGR,EAAKU,IAAII,WAClFC,EAAKK,MAAQ,IAAI3B,GAAM4B,EAAQd,EAAEc,EAAQb,IAAIa,EAAQd,EAAID,EAAMC,EAAGc,EAAQb,EAAIF,EAAME,KAErFgB,UAAWb,GACVX,IACF,OAAOe,GAERlB,EAAGE,aAAeP,EAAMO,aACjBP,EAAMO","file":"../../fx/scroll.js","sourcesContent":["define([\"dojo/_base/kernel\",\"dojo/_base/lang\", \"dojo/_base/fx\", \"dojox/fx/_base\",\"dojox/fx/_core\",\"dojo/dom-geometry\",\"dojo/_base/sniff\"],\r\n\tfunction (kernel, lang, baseFx, fxExt, Line, domGeom, has){\r\n\tkernel.experimental(\"dojox.fx.scroll\");\r\n\tvar fx = lang.getObject(\"dojox.fx\",true);\r\n\tfxExt.smoothScroll = function(/* Object */args){\r\n\t\t// summary:\r\n\t\t//\t\tReturns an animation that will smooth-scroll to a node\r\n\t\t// description:\r\n\t\t//\t\tThis implementation support either horizontal or vertical scroll, as well as\r\n\t\t//\t\tboth. In addition, element in iframe can be scrolled to correctly.\r\n\t\t// args:\r\n\t\t//\t\t- offset: {x: int, y: int} this will be added to the target position\r\n\t\t//\t\t- duration: Duration of the animation in milliseconds.\r\n\t\t//\t\t- win: a node or window object to scroll\r\n\t\r\n\t\tif(!args.target){ args.target = domGeom.position(args.node); }\r\n\t\r\n\t\tvar isWindow = lang[(has(\"ie\") ? \"isObject\" : \"isFunction\")](args[\"win\"].scrollTo),\r\n\t\t\tdelta = { x: args.target.x, y: args.target.y }\r\n\t\t;\r\n\t\tif(!isWindow){\r\n\t\t\tvar winPos = domGeom.position(args.win);\r\n\t\t\tdelta.x -= winPos.x;\r\n\t\t\tdelta.y -= winPos.y;\r\n\t\t}\r\n\t\tvar _anim = (isWindow) ?\r\n\t\t\t(function(val){\r\n\t\t\t\targs.win.scrollTo(val[0],val[1]);\r\n\t\t\t}) :\r\n\t\t\t(function(val){\r\n\t\t\t\targs.win.scrollLeft = val[0];\r\n\t\t\t\targs.win.scrollTop = val[1];\r\n\t\t\t});\r\n\t\tvar anim = new baseFx.Animation(lang.mixin({\r\n\t\t\tbeforeBegin: function(){\r\n\t\t\t\tif(this.curve){ delete this.curve; }\r\n\t\t\t\tvar current = isWindow ? dojo._docScroll() : {x: args.win.scrollLeft, y: args.win.scrollTop};\r\n\t\t\t\tanim.curve = new Line([current.x,current.y],[current.x + delta.x, current.y + delta.y]);\r\n\t\t\t},\r\n\t\t\tonAnimate: _anim\r\n\t\t},args));\r\n\t\treturn anim; // dojo.Animation\r\n\t};\r\n\tfx.smoothScroll = fxExt.smoothScroll;\r\n\treturn fxExt.smoothScroll;\r\n});"]}