{"version":3,"sources":["app/Controller.js"],"names":["define","lang","declare","on","constructor","app","events","this","_boundEvents","bind","evented","event","handler","arguments","length","item","charAt","hitch","signal","push","unbind","len","i","remove","splice","console","warn"],"mappings":";;;;;;;AAAAA,QAAQ,kBAAmB,qBAAsB,WAAY,SAASC,EAAMC,EAASC,GAMpF,OAAOD,EAAQ,uBAAwB,MACtCE,YAAa,SAASC,EAAKC,GAU1BC,KAAKD,OAASC,KAAKD,QAAUA,EAC7BC,KAAKC,gBACLD,KAAKF,IAAMA,GAGZI,KAAM,SAASC,EAASC,EAAOC,GAY9B,GAAuB,GAApBC,UAAUC,QACZ,GAAGP,KAAKD,OACP,IAAI,IAAIS,KAAQR,KAAKD,OACE,MAAnBS,EAAKC,OAAO,IACdT,KAAKE,KAAKF,KAAKF,IAAKU,EAAMd,EAAKgB,MAAMV,KAAMA,KAAKD,OAAOS,SAItD,CACJ,IAAIG,EAASf,EAAGO,EAASC,EAAOC,GAChCL,KAAKC,aAAaW,MACjBR,MAASA,EACTD,QAAWA,EACXQ,OAAUA,IAGZ,OAAOX,MAGRa,OAAQ,SAASV,EAASC,GAUzB,IADA,IAAIU,EAAMd,KAAKC,aAAaM,OACpBQ,EAAI,EAAGA,EAAID,EAAKC,IACvB,GAAIf,KAAKC,aAAac,GAAU,OAAKX,GAAWJ,KAAKC,aAAac,GAAY,SAAKZ,EAGlF,OAFAH,KAAKC,aAAac,GAAW,OAAEC,cAC/BhB,KAAKC,aAAagB,OAAOF,EAAG,GAK9B,OADAG,QAAQC,KAAK,UAAUf,EAAM,iBAAkBD,GACxCH","file":"../../app/Controller.js","sourcesContent":["define([\"dojo/_base/lang\", \"dojo/_base/declare\", \"dojo/on\"], function(lang, declare, on){\r\n\t// module:\r\n\t//\t\tdojox/app/Controller\r\n\t// summary:\r\n\t//\t\tBind events on dojox/app application's dojo/Evented instance or document.\r\n\r\n\treturn declare(\"dojox.app.Controller\", null, {\r\n\t\tconstructor: function(app, events){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tbind events on application dojo/Evented instance.\r\n\t\t\t//\t\tbind css selector events on document.\r\n\t\t\t//\r\n\t\t\t// app:\r\n\t\t\t//\t\tdojox/app application instance.\r\n\t\t\t// events:\r\n\t\t\t//\t\t{event : handler}\r\n\r\n\t\t\tthis.events = this.events || events;\r\n\t\t\tthis._boundEvents = [];\r\n\t\t\tthis.app = app;\r\n\t\t},\r\n\r\n\t\tbind: function(evented, event, handler){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tBind event on dojo/Evented instance, document, domNode or window.\r\n\t\t\t//\t\tSave event signal in controller instance. If no parameter is provided\r\n\t\t\t//\t\tautomatically bind all events registered in controller events property.\r\n\t\t\t//\r\n\t\t\t// evented: Object\r\n\t\t\t//\t\tdojo/Evented instance, document, domNode or window\r\n\t\t\t// event: String\r\n\t\t\t//\t\tevent\r\n\t\t\t// handler: Function\r\n\t\t\t//\t\tevent handler\r\n\t\t\tif(arguments.length == 0){\r\n\t\t\t\tif(this.events){\r\n\t\t\t\t\tfor(var item in this.events){\r\n\t\t\t\t\t\tif(item.charAt(0) !== \"_\"){//skip the private properties\r\n\t\t\t\t\t\t\tthis.bind(this.app, item, lang.hitch(this, this.events[item]));\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}else{\r\n\t\t\t\tvar signal = on(evented, event, handler);\r\n\t\t\t\tthis._boundEvents.push({\r\n\t\t\t\t\t\"event\": event,\r\n\t\t\t\t\t\"evented\": evented,\r\n\t\t\t\t\t\"signal\": signal\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\treturn this;\r\n\t\t},\r\n\r\n\t\tunbind: function(evented, event){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tremove a binded event signal.\r\n\t\t\t//\r\n\t\t\t// evented: Object\r\n\t\t\t//\t\tdojo/Evented instance, document, domNode or window\r\n\t\t\t// event: String\r\n\t\t\t//\t\tevent\r\n\r\n\t\t\tvar len = this._boundEvents.length;\r\n\t\t\tfor(var i = 0; i < len; i++){\r\n\t\t\t\tif((this._boundEvents[i]['event'] == event) && (this._boundEvents[i]['evented'] == evented)){\r\n\t\t\t\t\tthis._boundEvents[i]['signal'].remove();\r\n\t\t\t\t\tthis._boundEvents.splice(i, 1);\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tconsole.warn(\"event '\"+event+\"' not bind on \", evented);\r\n\t\t\treturn this;\r\n\t\t}\r\n\t});\r\n});\r\n"]}