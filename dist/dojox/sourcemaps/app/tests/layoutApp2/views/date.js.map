{"version":3,"sources":["app/tests/layoutApp2/views/date.js"],"names":["define","lang","on","registry","stamp","_onResults","init","this","opener","onResult","selDate1","hitch","datePicker2","set","date","show","push","save","hide","value","get","cancel","unloadSimple","e","params","parent","view","children","layoutApp2_simple","app","emit","unloadList","layoutApp2_listMain","toISOString","Date","selector","beforeActivate","destroy","pop","remove"],"mappings":";;;;;;;AAAAA,QAAQ,kBAAmB,UAAW,iBAAkB,mBACxD,SAASC,EAAMC,EAAIC,EAAUC,GAC5B,IAAIC,KAGJ,OACCC,KAAM,WACIC,KAAKC,OACd,IAAIC,EAAWP,EAAGK,KAAKG,SAAU,QAAST,EAAKU,MAAMJ,KAAM,WAC1DA,KAAKK,YAAYC,IAAI,QAASC,MAC9BP,KAAKC,OAAOO,KAAKR,KAAKG,UAAW,iBAAiB,iBAAiB,QAAQ,cAE5EL,EAAWW,KAAKP,GAEZA,EAAWP,EAAGK,KAAKU,KAAM,QAAShB,EAAKU,MAAMJ,KAAM,WACtDA,KAAKC,OAAOU,MAAK,GACjBJ,KAAOP,KAAKG,SAASS,MAAQZ,KAAKK,YAAYQ,IAAI,YAEnDf,EAAWW,KAAKP,GAEhBA,EAAWP,EAAGK,KAAKc,OAAQ,QAASpB,EAAKU,MAAMJ,KAAM,WACpDA,KAAKC,OAAOU,MAAK,MAElBb,EAAWW,KAAKP,GAEhBA,EAAWP,EAAGK,KAAKe,aAAc,QAASrB,EAAKU,MAAMJ,KAAM,SAASgB,GACnE,IAAIC,KACJA,EAAOC,OAASlB,KAAKkB,OACrB,IAAIC,EAAOnB,KAAKkB,OAAOE,SAASC,kBAChCJ,EAAOE,KAAOA,EAEdnB,KAAKsB,IAAIC,KAAK,cAAeN,MAE9BnB,EAAWW,KAAKP,GAEhBA,EAAWP,EAAGK,KAAKwB,WAAY,QAAS9B,EAAKU,MAAMJ,KAAM,SAASgB,GACjE,IAAIC,KACJA,EAAOC,OAASlB,KAAKkB,OACrB,IAAIC,EAAOnB,KAAKkB,OAAOE,SAASK,oBAChCR,EAAOE,KAAOA,EAEdnB,KAAKsB,IAAIC,KAAK,cAAeN,MAE9BnB,EAAWW,KAAKP,GAGhBK,KAAOV,EAAM6B,YAAY,IAAIC,MAASC,SAAU,UAGjDC,eAAgB,aAMhBC,QAAS,WAER,IADA,IAAI5B,EAAWJ,EAAWiC,MACpB7B,GACLA,EAAS8B,SACT9B,EAAWJ,EAAWiC","file":"../../../../../app/tests/layoutApp2/views/date.js","sourcesContent":["define([\"dojo/_base/lang\", \"dojo/on\", \"dijit/registry\", \"dojo/date/stamp\"],\r\nfunction(lang, on, registry, stamp){\r\n\tvar _onResults = []; // events on array\r\n\tvar opener;\r\n\r\n\treturn {\r\n\t\tinit: function(){\r\n\t\t\topener = this.opener;\r\n\t\t\tvar onResult = on(this.selDate1, \"click\", lang.hitch(this, function(){\r\n\t\t\t\tthis.datePicker2.set(\"value\", date);\r\n\t\t\t\tthis.opener.show(this.selDate1, ['below-centered','above-centered','after','before']);\r\n\t\t\t})); \r\n\t\t\t_onResults.push(onResult);\r\n\r\n\t\t\tvar onResult = on(this.save, \"click\", lang.hitch(this, function(){\r\n\t\t\t\tthis.opener.hide(true);\r\n\t\t\t\tdate = this.selDate1.value = this.datePicker2.get(\"value\");\r\n\t\t\t})); \r\n\t\t\t_onResults.push(onResult);\r\n\r\n\t\t\tonResult = on(this.cancel, \"click\", lang.hitch(this, function(){\r\n\t\t\t\tthis.opener.hide(false);\r\n\t\t\t})); \r\n\t\t\t_onResults.push(onResult);\r\n\r\n\t\t\tonResult = on(this.unloadSimple, \"click\", lang.hitch(this, function(e){\r\n\t\t\t\tvar params = {};\r\n\t\t\t\tparams.parent = this.parent;\r\n\t\t\t\tvar view = this.parent.children.layoutApp2_simple;\r\n\t\t\t\tparams.view = view;\r\n\t\t\t//\tparams.viewId = view.id;\r\n\t\t\t\tthis.app.emit(\"unload-view\", params);\r\n\t\t\t}));\r\n\t\t\t_onResults.push(onResult);\r\n\r\n\t\t\tonResult = on(this.unloadList, \"click\", lang.hitch(this, function(e){\r\n\t\t\t\tvar params = {};\r\n\t\t\t\tparams.parent = this.parent;\r\n\t\t\t\tvar view = this.parent.children.layoutApp2_listMain;\r\n\t\t\t\tparams.view = view;\r\n\t\t\t\t//params.viewId = view.id;\r\n\t\t\t\tthis.app.emit(\"unload-view\", params);\r\n\t\t\t}));\r\n\t\t\t_onResults.push(onResult);\r\n\r\n\t\t\t// initialize the global Date variable as today\r\n\t\t\tdate = stamp.toISOString(new Date(), {selector: \"date\"});\r\n\t\t},\r\n\r\n\t\tbeforeActivate: function(){\r\n\t\t\t//console.log(\"date view beforeActivate()\");\r\n\t\t},\r\n\r\n\r\n\t\t// view destroy\r\n\t\tdestroy: function(){\r\n\t\t\tvar onResult = _onResults.pop();\r\n\t\t\twhile(onResult){\r\n\t\t\t\tonResult.remove();\r\n\t\t\t\tonResult = _onResults.pop();\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\t\r\n});\r\n"]}