{"version":3,"sources":["app/tests/mediaQueryLayoutApp/views/list/list.js"],"names":["define","lang","dom","on","registry","domClass","_onResults","setDetailsContext","index","e","params","cursor","transOpts","title","target","url","this","app","transitionToView","insertResult","list","store","data","length","Error","First","id","Math","random","label","rightIcon","Last","Location","Office","Email","Tel","Fax","add","init","Store","setStore","loadedStores","listStore","beforeActivate","onResult","remove","byId","hitch","console","log","item","query","innerHTML","push","listInsert1","beforeDeactivate","afterDeactivate","pop","destroy"],"mappings":";;;;;;;AAAAA,QAAQ,kBAAmB,WAAY,UAAW,iBAAkB,kBACpE,SAASC,EAAMC,EAAKC,EAAIC,EAAUC,GACjC,IAAIC,KAEJ,OAECC,kBAAmB,SAASC,EAAOC,EAAGC,GAClCA,EACFA,EAAOC,OAASH,EAEhBE,GAAUC,OAASH,GAGpB,IAAII,GACHC,MAAQ,cACRC,OAAS,cACTC,IAAM,eACNL,OAASA,GAEVM,KAAKC,IAAIC,iBAAiBT,EAAEK,OAAOF,EAAUH,IAM9CU,aAAc,SAASX,EAAOC,GAC7B,GAAGD,EAAM,GAAKA,EAAMQ,KAAKI,KAAKC,MAAMC,KAAKC,OACxC,MAAMC,MAAM,4BAEb,KAAyC,IAArCR,KAAKI,KAAKC,MAAMC,KAAKd,EAAM,GAAGiB,OAChCT,KAAKI,KAAKC,MAAMC,KAAKd,IAAgD,IAArCQ,KAAKI,KAAKC,MAAMC,KAAKd,GAAOiB,OAD9D,CAIA,IAAIH,GAAQI,GAAGC,KAAKC,SAAUC,MAAS,GAAIC,UAAY,8BAA+BL,MAAS,GAAIM,KAAQ,GAAIC,SAAY,KAAMC,OAAU,GAAIC,MAAS,GAAIC,IAAO,GAAIC,IAAO,IAC9KpB,KAAKI,KAAKC,MAAMgB,IAAIf,GACpBN,KAAKT,kBAAkBC,EAAOC,KAK/B6B,KAAM,WACL,IAAIlB,EAAOJ,KAAKI,KACZA,EAAKmB,OACRnB,EAAKoB,SAASxB,KAAKyB,aAAaC,YAIlCC,eAAgB,WAKf,IAAIC,EAEJvC,EAASwC,OAAO3C,EAAI4C,KAAK,eAAgB,QACzCzC,EAASgC,IAAInC,EAAI4C,KAAK,eAAgB,QAatCF,EAAW5B,KAAKI,KAAKjB,GAAG,QAASF,EAAK8C,MAAM/B,KAAM,SAASP,GAC1DuC,QAAQC,IAAI,qBAAqBxC,GACjC,IAAIyC,EAAOlC,KAAKI,KAAKC,MAAM8B,OAAOtB,MAASpB,EAAEK,OAAOsC,YAChD5C,EAAQQ,KAAKI,KAAKC,MAAMb,MAAM0C,EAAK,GAAGxB,IAC1CsB,QAAQC,IAAI,YAAYzC,GACxBQ,KAAKT,kBAAkBC,EAAOC,EAAGO,KAAKN,WAEvCJ,EAAW+C,KAAKT,GAEhB,IAAIU,EAAcpD,EAAI4C,KAAK,eAC3BF,EAAWzC,EAAGmD,EAAa,QAASrD,EAAK8C,MAAM/B,KAAM,SAASP,GAC7DuC,QAAQC,IAAI,4BAA4BxC,GACxC,IAAID,EAAQQ,KAAKI,KAAKC,MAAMC,KAAKC,OACjCP,KAAKG,aAAaX,EAAOC,MAE1BH,EAAW+C,KAAKT,IAIjBW,iBAAkB,WAIjBlD,EAASwC,OAAO3C,EAAI4C,KAAK,eAAgB,QACzCzC,EAASgC,IAAInC,EAAI4C,KAAK,eAAgB,SAGvCU,gBAAiB,WAKhB,IADA,IAAIZ,EAAWtC,EAAWmD,MACpBb,GACLA,EAASC,SACTD,EAAWtC,EAAWmD,OAMxBC,QAAS","file":"../../../../../../app/tests/mediaQueryLayoutApp/views/list/list.js","sourcesContent":["define([\"dojo/_base/lang\", \"dojo/dom\", \"dojo/on\", \"dijit/registry\", \"dojo/dom-class\"],\r\nfunction(lang, dom, on, registry, domClass){\r\n\tvar _onResults = []; // events on array\r\n\r\n\treturn {\r\n\t// setDetailsContext for an item\r\n\t\tsetDetailsContext: function(index, e, params){\r\n\t\t\tif(params){\r\n\t\t\t\tparams.cursor = index;\r\n\t\t\t}else{\r\n\t\t\t\tparams = {\"cursor\":index};\r\n\t\t\t}\r\n\t\t\t// transition to itemDetails view with the &cursor=index\r\n\t\t\tvar transOpts = {\r\n\t\t\t\ttitle : \"itemDetails\",\r\n\t\t\t\ttarget : \"itemDetails\",\r\n\t\t\t\turl : \"#itemDetails\", // this is optional if not set it will be created from target   \r\n\t\t\t\tparams : params\r\n\t\t\t};\r\n\t\t\tthis.app.transitionToView(e.target,transOpts,e);\r\n \r\n\t\t\r\n\t\t},\r\n\r\n\t// insert an item\r\n\t\tinsertResult: function(index, e){\r\n\t\t\tif(index<0 || index>this.list.store.data.length){\r\n\t\t\t\tthrow Error(\"index out of data model.\");\r\n\t\t\t}\r\n\t\t\tif((this.list.store.data[index-1].First==\"\") ||\r\n\t\t\t\t(this.list.store.data[index] && (this.list.store.data[index].First == \"\"))){\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tvar data = {id:Math.random(), \"label\": \"\", \"rightIcon\":\"mblDomButtonBlueCircleArrow\", \"First\": \"\", \"Last\": \"\", \"Location\": \"CA\", \"Office\": \"\", \"Email\": \"\", \"Tel\": \"\", \"Fax\": \"\"};\r\n\t\t\tthis.list.store.add(data);\r\n\t\t\tthis.setDetailsContext(index, e);\r\n\t\t},\r\n\r\n\r\n\t\t// list view init\r\n\t\tinit: function(){\r\n\t\t\tvar list = this.list;\r\n\t\t\tif(!list.Store){\r\n\t\t\t\tlist.setStore(this.loadedStores.listStore);\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tbeforeActivate: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tview life cycle beforeActivate()\r\n\t\t\t//\r\n\r\n\t\t\tvar onResult;\r\n\t\t\t\r\n\t\t\tdomClass.remove(dom.byId(\"listInsert1\"), \"hide\");\r\n\t\t\tdomClass.add(dom.byId(\"listInsert1\"), \"show\");\r\n\t\t\t\r\n\t\t//\tfor(var i = 0; i < this.list.store.data.length; i++){\r\n\t\t//\t\tvar item = dom.byId(this.list.store.data[i].id);\r\n\t\t//\t\tonResult = on(item, \"click\", lang.hitch(this, function(e){\r\n\t\t//\t\t\tvar item = this.list.store.query({\"label\": e.target.innerHTML})\r\n\t\t//\t\t\tvar index = this.list.store.index[item[0].id];\r\n\t\t//\t\t\tconsole.log(\"index is \"+index);\r\n\t\t//\t\t\tthis.setDetailsContext(index, e, this.params);\r\n\t\t//\t\t})); \r\n\t\t//\t\t_onResults.push(onResult);\r\n\t\t//\t}\r\n\t\t\t\r\n\t\t\tonResult = this.list.on(\"click\", lang.hitch(this, function(e){\r\n\t\t\t\tconsole.log(\"List on click hit \",e);\r\n\t\t\t\tvar item = this.list.store.query({\"label\": e.target.innerHTML});\r\n\t\t\t\tvar index = this.list.store.index[item[0].id];\r\n\t\t\t\tconsole.log(\"index is \"+index);\r\n\t\t\t\tthis.setDetailsContext(index, e, this.params);\t\r\n\t\t\t})); \r\n\t\t\t_onResults.push(onResult);\r\n\t\r\n\t\t\tvar listInsert1 = dom.byId(\"listInsert1\");\r\n\t\t\tonResult = on(listInsert1, \"click\", lang.hitch(this, function(e){\r\n\t\t\t\tconsole.log(\"listInsert1 on click hit \",e);\r\n\t\t\t\tvar index = this.list.store.data.length;\r\n\t\t\t\tthis.insertResult(index, e);\r\n\t\t\t})); \r\n\t\t\t_onResults.push(onResult);\r\n\t\t\t\r\n\t\t},\r\n\r\n\t\tbeforeDeactivate: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tview life cycle beforeActivate()\r\n\t\t\t//\r\n\t\t\tdomClass.remove(dom.byId(\"listInsert1\"), \"show\");\r\n\t\t\tdomClass.add(dom.byId(\"listInsert1\"), \"hide\");\r\n\t\t},\r\n\t\t\r\n\t\tafterDeactivate: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tview life cycle beforeActivate()\r\n\t\t\t//\r\n\t\t\tvar onResult = _onResults.pop();\r\n\t\t\twhile(onResult){\r\n\t\t\t\tonResult.remove();\r\n\t\t\t\tonResult = _onResults.pop();\r\n\t\t\t}\r\n\t\t},\r\n\t\t\r\n\t\t\r\n\t\t// view destroy, this destroy function can be removed since it is empty\r\n\t\tdestroy: function(){\r\n\t\t\t// _WidgetBase.on listener is automatically destroyed when the Widget itself is. \r\n\t\t}\r\n\t};\r\n});\r\n"]}