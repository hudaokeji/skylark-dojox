{"version":3,"sources":["app/tests/scrollableTestApp/scrollableTestApp.js"],"names":["define","ProgressIndicator","TransitionEvent","getStateful","this","selected_item","selected_configuration_item","progressIndicator","setDetailsContext","index","loadedModels","repeatmodels","set","removeScrollableItem","model","splice","insertResult","e","repeatmodel","length","Error","First","data","id","Math","random","Last","Location","Office","Email","Tel","Fax","transOpts","title","target","url","params","cursor","dispatch","showProgressIndicator","show","getInstance","removeOnStop","startSpinning","size","center","interval","document","getElementsByTagName","appendChild","domNode","style","zIndex","visibility","start","stop"],"mappings":";;;;;;;AAAAA,QAAQ,iCAAkC,+BAAgC,yBAA0B,SAASC,EAAmBC,EAAiBC,GAChJ,OAAO,WAENC,KAAKC,cAAgB,EACrBD,KAAKE,4BAA8B,EACnCF,KAAKG,kBAAoB,KAMzBH,KAAKI,kBAAoB,SAASC,GAC9BL,KAAKM,aAAaC,cACpBP,KAAKM,aAAaC,aAAaC,IAAI,cAAeH,IAKpDL,KAAKS,qBAAuB,SAASJ,GAEnC,OADAL,KAAKM,aAAaC,aAAaG,MAAMC,OAAON,EAAO,IAC5C,GAITL,KAAKY,aAAe,SAASP,EAAOQ,GACnC,IAAIC,EAAcd,KAAKM,aAAaC,aACpC,GAAGF,EAAM,GAAKA,EAAMS,EAAYJ,MAAMK,OACrC,MAAMC,MAAM,4BAEb,KAAoC,IAAhCF,EAAYJ,MAAML,GAAOY,OAC3BH,EAAYJ,MAAML,EAAM,IAA2C,IAApCS,EAAYJ,MAAML,EAAM,GAAGY,OAD5D,CAIA,IAAIC,GAAQC,GAAGC,KAAKC,SAAUJ,MAAS,GAAIK,KAAQ,GAAIC,SAAY,KAAMC,OAAU,GAAIC,MAAS,GAAIC,IAAO,GAAIC,IAAO,IACtHb,EAAYJ,MAAMC,OAAON,EAAM,EAAG,EAAG,IAAIN,EAAYmB,IACrDlB,KAAKI,kBAAkBC,EAAM,GAC7B,IAAIuB,GACHC,MAAQ,gBACRC,OAAS,gBACTC,IAAM,iBACNC,QAAUC,OAAS5B,EAAM,IAE1B,IAAIP,EAAgBe,EAAEiB,OAAQF,EAAWf,GAAGqB,aAK7ClC,KAAKmC,sBAAwB,SAASC,GAEjCpC,KAAKG,oBACRH,KAAKG,kBAAoBN,EAAkBwC,aAAaC,cAAa,EAAOC,eAAc,EAAMC,KAAK,GAAIC,QAAO,EAAMC,SAAS,KAEpHC,SAASC,qBAAqB,QAAQ,GAC5CC,YAAY7C,KAAKG,kBAAkB2C,SACxC9C,KAAKG,kBAAkB2C,QAAQC,MAAMC,OAAS,KAE5CZ,GACFpC,KAAKG,kBAAkB2C,QAAQC,MAAME,WAAa,UAClDjD,KAAKG,kBAAkB+C,UAEvBlD,KAAKG,kBAAkBgD,OACvBnD,KAAKG,kBAAkB2C,QAAQC,MAAME,WAAa","file":"../../../../app/tests/scrollableTestApp/scrollableTestApp.js","sourcesContent":["define([\"dojox/mobile/ProgressIndicator\", \"dojox/mobile/TransitionEvent\", \"dojox/mvc/getStateful\"], function(ProgressIndicator, TransitionEvent, getStateful){\r\n\treturn function(){\r\n\t\t// the default select_item is 0, or will throw an error if directly transition to #details,EditTodoItem view\r\n\t\tthis.selected_item = 0;\r\n\t\tthis.selected_configuration_item = 0;\r\n\t\tthis.progressIndicator = null;\r\n\t\t/*\r\n\t \t* show or hide global progress indicator\r\n\t \t*/\r\n\t \t\r\n\t \t// show an item detail\r\n\t\tthis.setDetailsContext = function(index){\r\n\t\t\tif(this.loadedModels.repeatmodels) {\r\n\t\t\t\tthis.loadedModels.repeatmodels.set(\"cursorIndex\", index);\r\n\t\t\t}\t\t\r\n\t\t};\r\n\r\n\t\t// global for call from template\r\n\t\tthis.removeScrollableItem = function(index){\r\n\t\t\t\tthis.loadedModels.repeatmodels.model.splice(index, 1);\r\n\t\t\t\treturn false; \t \t\t\r\n\t\t};\r\n\r\n\t\t// insert an item\r\n\t\tthis.insertResult = function(index, e){\r\n\t\t\tvar repeatmodel = this.loadedModels.repeatmodels;\r\n\t\t\tif(index<0 || index>repeatmodel.model.length){\r\n\t\t\t\tthrow Error(\"index out of data model.\");\r\n\t\t\t}\r\n\t\t\tif((repeatmodel.model[index].First==\"\") ||\r\n\t\t\t\t(repeatmodel.model[index+1] && (repeatmodel.model[index+1].First == \"\"))){\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tvar data = {id:Math.random(), \"First\": \"\", \"Last\": \"\", \"Location\": \"CA\", \"Office\": \"\", \"Email\": \"\", \"Tel\": \"\", \"Fax\": \"\"};\r\n\t\t\trepeatmodel.model.splice(index+1, 0, new getStateful(data));\r\n\t\t\tthis.setDetailsContext(index+1);\r\n\t\t\tvar transOpts = {\r\n\t\t\t\ttitle : \"repeatDetails\",\r\n\t\t\t\ttarget : \"repeatDetails\",\r\n\t\t\t\turl : \"#repeatDetails\", // this is optional if not set it will be created from target   \r\n\t\t\t\tparams : {\"cursor\":index+1}\r\n\t\t\t};\r\n\t\t\tnew TransitionEvent(e.target, transOpts, e).dispatch(); \r\n\t\t\t\r\n\t\t};\r\n\r\n\t \t\r\n\t\tthis.showProgressIndicator = function(show){\r\n\t\t\t\t\r\n\t\t\tif(!this.progressIndicator){\r\n\t\t\t\tthis.progressIndicator = ProgressIndicator.getInstance({removeOnStop:false, startSpinning:true, size:40, center:true, interval:30});\r\n\t\t\t\t// TODO: use dojo.body will throw no appendChild method error.\r\n\t\t\t\tvar body = document.getElementsByTagName(\"body\")[0];\r\n\t\t\t\tbody.appendChild(this.progressIndicator.domNode);\r\n\t\t\t\tthis.progressIndicator.domNode.style.zIndex = 999;\r\n\t\t\t}\r\n\t\t\tif(show){\r\n\t\t\t\tthis.progressIndicator.domNode.style.visibility = \"visible\";\r\n\t\t\t\tthis.progressIndicator.start();\r\n\t\t\t}else{\r\n\t\t\t\tthis.progressIndicator.stop();\r\n\t\t\t\tthis.progressIndicator.domNode.style.visibility = \"hidden\";\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\t};\r\n});\r\n"]}