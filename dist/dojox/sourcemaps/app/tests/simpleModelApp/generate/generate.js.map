{"version":3,"sources":["app/tests/simpleModelApp/generate/generate.js"],"names":["define","dom","connect","registry","mvc","genmodel","_connectResults","init","connectResult","byId","modeldata","dojo","fromJson","value","newStatefulModel","data","set","style","display","err","console","error","updateView","push","focus","toJson","toPlainObject","beforeActivate","destroy","pop","disconnect"],"mappings":";;;;;;;AAAAA,QAAQ,WAAY,qBAAsB,iBAAkB,aAAc,SAASC,EAAKC,EAASC,EAAUC,GAC1G,IAAIC,EAAW,KACXC,KAuBJ,OACCC,KAAM,WACL,IAAIC,EAEJA,EAAgBN,EAAQA,QAAQD,EAAIQ,KAAK,aAAc,QAAS,YAlBjD,WAChB,IACC,IAAIC,EAAYC,KAAKC,SAASX,EAAIQ,KAAK,aAAaI,OACpDR,EAAWD,EAAIU,kBACdC,KAAML,IAEPP,EAASM,KAAK,QAAQO,IAAI,MAAOX,GACjCJ,EAAIQ,KAAK,kBAAkBQ,MAAMC,QAAU,OAC3CjB,EAAIQ,KAAK,YAAYQ,MAAMC,QAAU,GACrC,MAAMC,GACNC,QAAQC,MAAM,kCAAoCF,IASjDG,KAEDhB,EAAgBiB,KAAKf,GAErBA,EAAgBN,EAAQA,QAAQD,EAAIQ,KAAK,eAAgB,QAAS,WA7BnER,EAAIQ,KAAK,aAAae,QACtBvB,EAAIQ,KAAK,YAAYQ,MAAMC,QAAU,OACrCjB,EAAIQ,KAAK,kBAAkBQ,MAAMC,QAAU,GAC3Cf,EAASM,KAAK,aAAaO,IAAI,QAAUL,KAAKc,OAAOpB,EAASqB,iBAAiB,MA6B9EpB,EAAgBiB,KAAKf,IAGtBmB,eAAgB,aAIhBC,QAAS,WAER,IADA,IAAIpB,EAAgBF,EAAgBuB,MAC9BrB,GACLN,EAAQ4B,WAAWtB,GACnBA,EAAgBF,EAAgBuB","file":"../../../../../app/tests/simpleModelApp/generate/generate.js","sourcesContent":["define([\"dojo/dom\", \"dojo/_base/connect\", \"dijit/registry\", \"dojox/mvc\"], function(dom, connect, registry, mvc){\r\n\tvar genmodel = null; // generate view data model\r\n\tvar _connectResults = []; // events connect result\r\n\r\n\tvar updateModel = function(){\r\n\t\tdom.byId(\"modelArea\").focus();\r\n\t\tdom.byId(\"viewArea\").style.display = \"none\";\r\n\t\tdom.byId(\"outerModelArea\").style.display = \"\";\r\n\t\tregistry.byId(\"modelArea\").set(\"value\", (dojo.toJson(genmodel.toPlainObject(), true)));\r\n\t};\r\n\r\n\tvar updateView = function(){\r\n\t\ttry{\r\n\t\t\tvar modeldata = dojo.fromJson(dom.byId(\"modelArea\").value);\r\n\t\t\tgenmodel = mvc.newStatefulModel({\r\n\t\t\t\tdata: modeldata\r\n\t\t\t});\r\n\t\t\tregistry.byId(\"view\").set(\"ref\", genmodel);\r\n\t\t\tdom.byId(\"outerModelArea\").style.display = \"none\";\r\n\t\t\tdom.byId(\"viewArea\").style.display = \"\";\r\n\t\t}catch(err){\r\n\t\t\tconsole.error(\"Error parsing json from model: \" + err);\r\n\t\t}\r\n\t};\r\n\r\n\treturn {\r\n\t\tinit: function(){\r\n\t\t\tvar connectResult;\r\n\r\n\t\t\tconnectResult = connect.connect(dom.byId('generate1'), \"click\", function(){\r\n\t\t\t\tupdateView();\r\n\t\t\t});\r\n\t\t\t_connectResults.push(connectResult);\r\n\r\n\t\t\tconnectResult = connect.connect(dom.byId('updateModel'), \"click\", function(){\r\n\t\t\t\tupdateModel();\r\n\t\t\t});\r\n\t\t\t_connectResults.push(connectResult);\r\n\t\t},\r\n\r\n\t\tbeforeActivate: function(){\r\n\t\t\t//console.log(\"generate view beforeActivate()\");\r\n\t\t},\r\n\r\n\t\tdestroy: function(){\r\n\t\t\tvar connectResult = _connectResults.pop();\r\n\t\t\twhile(connectResult){\r\n\t\t\t\tconnect.disconnect(connectResult);\r\n\t\t\t\tconnectResult = _connectResults.pop();\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n});\r\n"]}