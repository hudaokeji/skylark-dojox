{"version":3,"sources":["grid/DataSelection.js"],"names":["define","declare","_SelectionPreserver","Selection","constructor","grid","keepSelection","this","preserver","destroy","getFirstSelected","idx","prototype","call","getItem","getNextSelected","inPrev","old_idx","getItemIndex","getSelected","result","i","l","selected","length","push","addToSelection","inItemOrIndex","mode","deselect","deselectAll","inherited","arguments"],"mappings":";;;;;;;AAAAA,QACC,qBACA,wBACA,eACE,SAASC,EAASC,EAAqBC,GAE1C,OAAOF,EAAQ,2BAA4BE,GAC1CC,YAAa,SAASC,GAClBA,EAAKC,gBACPC,KAAKC,UAAY,IAAIN,EAAoBK,QAI3CE,QAAS,WACLF,KAAKC,WACPD,KAAKC,UAAUC,WAIjBC,iBAAkB,WACjB,IAAIC,EAAMR,EAAUS,UAAUF,iBAAiBG,KAAKN,MAEpD,OAAW,GAARI,EAAmB,KACfJ,KAAKF,KAAKS,QAAQH,IAG1BI,gBAAiB,SAASC,GACzB,IAAIC,EAAUV,KAAKF,KAAKa,aAAaF,GACjCL,EAAMR,EAAUS,UAAUG,gBAAgBF,KAAKN,KAAMU,GAEzD,OAAW,GAARN,EAAmB,KACfJ,KAAKF,KAAKS,QAAQH,IAG1BQ,YAAa,WAEZ,IADA,IAAIC,KACIC,EAAE,EAAGC,EAAEf,KAAKgB,SAASC,OAAQH,EAAEC,EAAGD,IACtCd,KAAKgB,SAASF,IAChBD,EAAOK,KAAKlB,KAAKF,KAAKS,QAAQO,IAGhC,OAAOD,GAGRM,eAAgB,SAASC,GACxB,GAAgB,QAAbpB,KAAKqB,KAAR,CACA,IAAIjB,EAAM,KAETA,EAD0B,iBAAjBgB,GAAqD,iBAAjBA,EACvCA,EAEApB,KAAKF,KAAKa,aAAaS,GAE9BxB,EAAUS,UAAUc,eAAeb,KAAKN,KAAMI,KAG/CkB,SAAU,SAASF,GAClB,GAAgB,QAAbpB,KAAKqB,KAAR,CACA,IAAIjB,EAAM,KAETA,EAD0B,iBAAjBgB,GAAqD,iBAAjBA,EACvCA,EAEApB,KAAKF,KAAKa,aAAaS,GAE9BxB,EAAUS,UAAUiB,SAAShB,KAAKN,KAAMI,KAGzCmB,YAAa,SAASH,GACrB,IAAIhB,EAAM,KACPgB,GAAyC,iBAAjBA,GAEzBhB,EAD0B,iBAAjBgB,GAAqD,iBAAjBA,EACvCA,EAEApB,KAAKF,KAAKa,aAAaS,GAE9BxB,EAAUS,UAAUkB,YAAYjB,KAAKN,KAAMI,IAE3CJ,KAAKwB,UAAUC","file":"../../grid/DataSelection.js","sourcesContent":["define([\r\n\t\"dojo/_base/declare\",\r\n\t\"./_SelectionPreserver\",\r\n\t\"./Selection\"\r\n], function(declare, _SelectionPreserver, Selection){\r\n\t\r\nreturn declare(\"dojox.grid.DataSelection\", Selection, {\r\n\tconstructor: function(grid){\r\n\t\tif(grid.keepSelection){\r\n\t\t\tthis.preserver = new _SelectionPreserver(this);\r\n\t\t}\r\n\t},\r\n\t\r\n\tdestroy: function(){\r\n\t\tif(this.preserver){\r\n\t\t\tthis.preserver.destroy();\r\n\t\t}\r\n\t},\r\n\t\r\n\tgetFirstSelected: function(){\r\n\t\tvar idx = Selection.prototype.getFirstSelected.call(this);\r\n\r\n\t\tif(idx == -1){ return null; }\r\n\t\treturn this.grid.getItem(idx);\r\n\t},\r\n\r\n\tgetNextSelected: function(inPrev){\r\n\t\tvar old_idx = this.grid.getItemIndex(inPrev);\r\n\t\tvar idx = Selection.prototype.getNextSelected.call(this, old_idx);\r\n\r\n\t\tif(idx == -1){ return null; }\r\n\t\treturn this.grid.getItem(idx);\r\n\t},\r\n\r\n\tgetSelected: function(){\r\n\t\tvar result = [];\r\n\t\tfor(var i=0, l=this.selected.length; i<l; i++){\r\n\t\t\tif(this.selected[i]){\r\n\t\t\t\tresult.push(this.grid.getItem(i));\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn result;\r\n\t},\r\n\r\n\taddToSelection: function(inItemOrIndex){\r\n\t\tif(this.mode == 'none'){ return; }\r\n\t\tvar idx = null;\r\n\t\tif(typeof inItemOrIndex == \"number\" || typeof inItemOrIndex == \"string\"){\r\n\t\t\tidx = inItemOrIndex;\r\n\t\t}else{\r\n\t\t\tidx = this.grid.getItemIndex(inItemOrIndex);\r\n\t\t}\r\n\t\tSelection.prototype.addToSelection.call(this, idx);\r\n\t},\r\n\r\n\tdeselect: function(inItemOrIndex){\r\n\t\tif(this.mode == 'none'){ return; }\r\n\t\tvar idx = null;\r\n\t\tif(typeof inItemOrIndex == \"number\" || typeof inItemOrIndex == \"string\"){\r\n\t\t\tidx = inItemOrIndex;\r\n\t\t}else{\r\n\t\t\tidx = this.grid.getItemIndex(inItemOrIndex);\r\n\t\t}\r\n\t\tSelection.prototype.deselect.call(this, idx);\r\n\t},\r\n\r\n\tdeselectAll: function(inItemOrIndex){\r\n\t\tvar idx = null;\r\n\t\tif(inItemOrIndex || typeof inItemOrIndex == \"number\"){\r\n\t\t\tif(typeof inItemOrIndex == \"number\" || typeof inItemOrIndex == \"string\"){\r\n\t\t\t\tidx = inItemOrIndex;\r\n\t\t\t}else{\r\n\t\t\t\tidx = this.grid.getItemIndex(inItemOrIndex);\r\n\t\t\t}\r\n\t\t\tSelection.prototype.deselectAll.call(this, idx);\r\n\t\t}else{\r\n\t\t\tthis.inherited(arguments);\r\n\t\t}\r\n\t}\r\n});\r\n});"]}