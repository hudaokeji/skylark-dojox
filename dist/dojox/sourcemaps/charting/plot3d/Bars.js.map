{"version":3,"sources":["charting/plot3d/Bars.js"],"names":["define","kernel","declare","Color","has","Base","constructor","width","height","kwArgs","this","depth","gap","data","material","type","finish","color","m","getDepth","w","length","generate","chart","creator","step","org","scale","a","f","o","split","global","z","i","call","reduce","Math","max","view","createCube","bottom","x","y","top","setFill","_checkOrientation"],"mappings":";;;;;;;AAAAA,QAAQ,oBAAqB,qBAAsB,mBAAoB,WAAY,UAClF,SAASC,EAAQC,EAASC,EAAOC,EAAKC,GAatC,OAAOH,EAAQ,6BAA8BG,GAC5CC,YAAa,SAASC,EAAOC,EAAQC,GAKpC,GAJAC,KAAKC,MAAQ,OACbD,KAAKE,IAAQ,EACbF,KAAKG,QACLH,KAAKI,UAAYC,KAAM,UAAWC,OAAQ,OAAQC,MAAO,QACtDR,IACC,UAAWA,IAASC,KAAKC,MAAQF,EAAOE,OACxC,QAAWF,IAASC,KAAKE,IAAQH,EAAOG,KACxC,aAAcH,GAAO,CACvB,IAAIS,EAAIT,EAAOK,SACA,iBAALI,GAAiBA,aAAaf,EACvCO,KAAKI,SAASG,MAAQC,EAEtBR,KAAKI,SAAWI,IAKpBC,SAAU,WACT,GAAiB,QAAdT,KAAKC,MAAgB,CACvB,IAAIS,EAAIV,KAAKH,MAIb,OAHGG,KAAKG,MAAQH,KAAKG,KAAKQ,SACzBD,GAAQV,KAAKG,KAAKQ,QAEZD,EAAI,EAAIV,KAAKE,IAErB,OAAOF,KAAKC,OAEbW,SAAU,SAASC,EAAOC,GACzB,IAAId,KAAKG,KAAO,OAAOH,KACvB,IAAIe,EAAOf,KAAKH,MAAQG,KAAKG,KAAKQ,OAAQK,EAAM,EAC/Cf,EAAsB,QAAdD,KAAKC,MAAkBc,EAAO,EAAIf,KAAKE,IAAMF,KAAKC,MAC1DgB,EAAQjB,KAAKF,OA3CH,SAAmBoB,EAA6BC,EAAeC,GAI3EF,EAAgB,iBAALA,EAAgBA,EAAEG,MAAM,IAAMH,EAAGE,EAAIA,GAAK7B,EAAO+B,OAE5D,IADA,IAAIC,EAAIL,EAAE,GACFM,EAAI,EAAGA,EAAIN,EAAEP,OAAQY,EAAIJ,EAAEM,KAAKL,EAAGG,EAAGL,EAAEM,OAChD,OAAOD,EAoCiBG,CAAO1B,KAAKG,KAAMwB,KAAKC,KAC1Cd,IAAUA,EAAUD,EAAMgB,MAC9B,IAAI,IAAIL,EAAI,EAAGA,EAAIxB,KAAKG,KAAKQ,SAAUa,EAAGR,GAAOD,EAChDD,EACEgB,YACAC,QAASC,EAAGhB,EAAMhB,KAAKE,IAAK+B,EAAG,EAAGV,EAAG,GACrCW,KAASF,EAAGhB,EAAMD,EAAOf,KAAKE,IAAK+B,EAAGjC,KAAKG,KAAKqB,GAAKP,EAAOM,EAAGtB,KAE/DkC,QAAQnC,KAAKI,UAEbV,EAAI,cACNM,KAAKoC,kBAAkBvB","file":"../../../charting/plot3d/Bars.js","sourcesContent":["define([\"dojo/_base/kernel\", \"dojo/_base/declare\", \"dojo/_base/Color\", \"dojo/has\", \"./Base\"],\r\n\tfunction(kernel, declare, Color, has, Base) {\r\n\r\n\t// reduce function borrowed from dojox.fun\r\n\tvar reduce = function(/*Array*/ a, /*Function|String|Array*/ f, /*Object?*/ o){\r\n\t\t// summary:\r\n\t\t//\t\trepeatedly applies a binary function to an array from left\r\n\t\t//\t\tto right; returns the final value.\r\n\t\ta = typeof a == \"string\" ? a.split(\"\") : a; o = o || kernel.global;\r\n\t\tvar z = a[0];\r\n\t\tfor(var i = 1; i < a.length; z = f.call(o, z, a[i++]));\r\n\t\treturn z;\t// Object\r\n\t};\r\n\r\n\treturn declare(\"dojox.charting.plot3d.Bars\", Base, {\r\n\t\tconstructor: function(width, height, kwArgs){\r\n\t\t\tthis.depth = \"auto\";\r\n\t\t\tthis.gap   = 0;\r\n\t\t\tthis.data  = [];\r\n\t\t\tthis.material = {type: \"plastic\", finish: \"dull\", color: \"lime\"};\r\n\t\t\tif(kwArgs){\r\n\t\t\t\tif(\"depth\" in kwArgs){ this.depth = kwArgs.depth; }\r\n\t\t\t\tif(\"gap\"   in kwArgs){ this.gap   = kwArgs.gap; }\r\n\t\t\t\tif(\"material\" in kwArgs){\r\n\t\t\t\t\tvar m = kwArgs.material;\r\n\t\t\t\t\tif(typeof m == \"string\" || m instanceof Color){\r\n\t\t\t\t\t\tthis.material.color = m;\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tthis.material = m;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tgetDepth: function(){\r\n\t\t\tif(this.depth == \"auto\"){\r\n\t\t\t\tvar w = this.width;\r\n\t\t\t\tif(this.data && this.data.length){\r\n\t\t\t\t\tw = w / this.data.length;\r\n\t\t\t\t}\r\n\t\t\t\treturn w - 2 * this.gap;\r\n\t\t\t}\r\n\t\t\treturn this.depth;\r\n\t\t},\r\n\t\tgenerate: function(chart, creator){\r\n\t\t\tif(!this.data){ return this; }\r\n\t\t\tvar step = this.width / this.data.length, org = 0,\r\n\t\t\t\tdepth = this.depth == \"auto\" ? step - 2 * this.gap : this.depth,\r\n\t\t\t\tscale = this.height / reduce(this.data, Math.max);\r\n\t\t\tif(!creator){ creator = chart.view; }\r\n\t\t\tfor(var i = 0; i < this.data.length; ++i, org += step){\r\n\t\t\t\tcreator\r\n\t\t\t\t\t.createCube({\r\n\t\t\t\t\t\tbottom: {x: org + this.gap, y: 0, z: 0},\r\n\t\t\t\t\t\ttop:    {x: org + step - this.gap, y: this.data[i] * scale, z: depth}\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.setFill(this.material);\r\n\t\t\t}\r\n\t\t\tif(has(\"dojo-bidi\")){\r\n\t\t\t\tthis._checkOrientation(chart);\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n});\r\n"]}