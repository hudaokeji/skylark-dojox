{"version":3,"sources":["charting/plot2d/commonStacked.js"],"names":["define","lang","common","commonStacked","getObject","mixin","collectStats","series","stats","delegate","defaultStats","i","length","run","j","data","x","y","hasOwnProperty","getValue","getIndexValue","hmin","Math","min","hmax","max","vmin","vmax","index","v","pvalue","value","hidden","isNaN","z"],"mappings":";;;;;;;AAAAA,QACC,kBACA,YACE,SAASC,EAAMC,GAEjB,IAAIC,EAAgBF,EAAKG,UAAU,uCAAuC,GAC1E,OAAOH,EAAKI,MAAMF,GACjBG,aAAc,SAASC,GAEtB,IADA,IAAIC,EAAQP,EAAKQ,SAASP,EAAOQ,cACzBC,EAAI,EAAGA,EAAIJ,EAAOK,SAAUD,EAEnC,IADA,IAAIE,EAAMN,EAAOI,GACTG,EAAI,EAAGA,EAAID,EAAIE,KAAKH,OAAQE,IAAI,CACvC,IAAIE,EAAGC,EACY,OAAhBJ,EAAIE,KAAKD,KACc,iBAAfD,EAAIE,KAAKD,IAAmBD,EAAIE,KAAKD,GAAGI,eAAe,KAKvD,QADTF,EAAIH,EAAIE,KAAKD,GAAGE,KAGfC,EAAS,OADTA,EAAId,EAAcgB,SAASZ,EAAQI,EAAGK,GAAG,KACxBC,EAAEA,EAAIA,EAAEA,EAAE,OAN5BA,EAAId,EAAciB,cAAcb,EAAQI,EAAGG,GAAG,GAC9CE,EAAIF,EAAE,GAQPN,EAAMa,KAAOC,KAAKC,IAAIf,EAAMa,KAAML,GAClCR,EAAMgB,KAAOF,KAAKG,IAAIjB,EAAMgB,KAAMR,GAClCR,EAAMkB,KAAOJ,KAAKC,IAAIf,EAAMkB,KAAMT,GAClCT,EAAMmB,KAAOL,KAAKG,IAAIjB,EAAMmB,KAAMV,IAIrC,OAAOT,GAERY,cAAe,SAASb,EAAQI,EAAGiB,GAClC,IAAeC,EAAGf,EAAGgB,EAAjBC,EAAQ,EACZ,IAAIjB,EAAI,EAAGA,GAAKH,IAAKG,EACjBP,EAAOO,GAAGkB,SAGbF,EAASC,EAED,OADRF,EAAItB,EAAOO,GAAGC,KAAKa,MAEfK,MAAMJ,KAAKA,EAAIA,EAAEZ,GAAK,GACzBc,GAASF,IAGX,OAAQE,EAAQD,IAEjBX,SAAU,SAASZ,EAAQI,EAAGK,GAC7B,IAAkBF,EAAGoB,EAAGL,EAAGC,EAAvBC,EAAQ,KACZ,IAAIjB,EAAI,EAAGA,GAAKH,IAAKG,EACpB,IAAGP,EAAOO,GAAGkB,OAGb,IAAIE,EAAI,EAAGA,EAAI3B,EAAOO,GAAGC,KAAKH,OAAQsB,IAGrC,GAFAJ,EAASC,EAEA,QADTF,EAAItB,EAAOO,GAAGC,KAAKmB,IACL,CACb,GAAGL,EAAEb,GAAKA,EAAE,CACPe,IACHA,GAASf,EAAGA,IAEH,MAAPa,EAAEZ,IACU,MAAXc,EAAMd,IACRc,EAAMd,EAAI,GAEXc,EAAMd,GAAKY,EAAEZ,GAEd,MACK,GAAGY,EAAEb,EAAIA,EAAG,MAIrB,OAAQe,EAAOD","file":"../../../charting/plot2d/commonStacked.js","sourcesContent":["define([\r\n\t\"dojo/_base/lang\",\r\n\t\"./common\"\r\n], function(lang, common){\r\n\t\r\n\tvar commonStacked = lang.getObject(\"dojox.charting.plot2d.commonStacked\", true);\r\n\treturn lang.mixin(commonStacked, {\r\n\t\tcollectStats: function(series){\r\n\t\t\tvar stats = lang.delegate(common.defaultStats);\r\n\t\t\tfor(var i = 0; i < series.length; ++i){\r\n\t\t\t\tvar run = series[i];\r\n\t\t\t\tfor(var j = 0; j < run.data.length; j++){\r\n\t\t\t\t\tvar x, y;\r\n\t\t\t\t\tif(run.data[j] !== null){\r\n\t\t\t\t\t\tif(typeof run.data[j] == \"number\" || !run.data[j].hasOwnProperty(\"x\")){\r\n\t\t\t\t\t\t\ty = commonStacked.getIndexValue(series, i, j)[0];\r\n\t\t\t\t\t\t\tx = j+1;\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\tx = run.data[j].x;\r\n\t\t\t\t\t\t\tif(x !== null){\r\n\t\t\t\t\t\t\t\ty = commonStacked.getValue(series, i, x)[0];\r\n\t\t\t\t\t\t\t\ty = y != null && y.y ? y.y:null; \r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tstats.hmin = Math.min(stats.hmin, x);\r\n\t\t\t\t\t\tstats.hmax = Math.max(stats.hmax, x);\r\n\t\t\t\t\t\tstats.vmin = Math.min(stats.vmin, y);\r\n\t\t\t\t\t\tstats.vmax = Math.max(stats.vmax, y);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn stats;\r\n\t\t},\r\n\t\tgetIndexValue: function(series, i, index){\r\n\t\t\tvar value = 0, v, j, pvalue;\r\n\t\t\tfor(j = 0; j <= i; ++j){\r\n\t\t\t\tif(series[j].hidden){\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\t\t\t\tpvalue = value;\r\n\t\t\t\tv = series[j].data[index];\r\n\t\t\t\tif(v != null){\r\n\t\t\t\t\tif(isNaN(v)){ v = v.y || 0; }\r\n\t\t\t\t\tvalue += v;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn [value , pvalue];\r\n\t\t},\r\n\t\tgetValue: function(series, i, x){\r\n\t\t\tvar value = null, j, z, v, pvalue;\r\n\t\t\tfor(j = 0; j <= i; ++j){\r\n\t\t\t\tif(series[j].hidden){\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\t\t\t\tfor(z = 0; z < series[j].data.length; z++){\r\n\t\t\t\t\tpvalue = value;\r\n\t\t\t\t\tv = series[j].data[z];\r\n\t\t\t\t\tif(v !== null){\r\n\t\t\t\t\t\tif(v.x == x){\r\n\t\t\t\t\t\t\tif(!value){\r\n\t\t\t\t\t\t\t\tvalue = {x: x};\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif(v.y != null){\r\n\t\t\t\t\t\t\t\tif(value.y == null){\r\n\t\t\t\t\t\t\t\t\tvalue.y = 0;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tvalue.y += v.y;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}else if(v.x > x){break;}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn [value, pvalue];\r\n\t\t}\r\n\t});\r\n});\r\n"]}