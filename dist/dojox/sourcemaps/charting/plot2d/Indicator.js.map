{"version":3,"sources":["charting/plot2d/Indicator.js"],"names":["define","lang","array","declare","CartesianBase","_PlotEvents","dcpc","dcac","gfx","du","fx","has","getTextBBox","s","t","w","h","c","declaredClass","indexOf","mixin","rawNode","getBBox","e","_display","style","display","sz","x","y","width","pt2px","parseFloat","currentStyle","height","computeLocation","bb","actualWidth","actualHeight","getTextWidth","font","getFont","fz","size","defaultFont","normalizedLength","coef","sh","getShape","align","Indicator","defaultParams","vertical","fixed","precision","lines","labels","markers","optionalParams","lineStroke","outlineStroke","shadowStroke","lineFill","stroke","outline","shadow","fill","fillFunc","labelFunc","fontColor","markerStroke","markerOutline","markerShadow","markerFill","markerSymbol","values","offset","start","animate","constructor","chart","kwArgs","this","opt","clone","updateWithObject","updateWithPattern","render","dim","offsets","zoom","performZoom","isDirty","cleanGroup","_updateIndicator","theme","hn","_hAxis","name","vn","_vAxis","hb","getScaler","bounds","vb","o","from","min","toPage","to","max","events","results","map","value","index","_renderIndicator","length","v","first","_data","delta","text","getLabel","_renderText","getGroup","undefined","indicator","x0","Math","x1","y0","y1","createRect","x2","y2","setFill","moveToBack","coord","getCoords","g","createGroup","mark","_getMarkX","data","ctext","visible","cx","cy","hasOwnProperty","lineShadow","ls","ol","lineOutline","createLine","dx","dy","setStroke","makeStroke","d","self","ms","path","sp","createPath","color","shape","sf","_shapeFill","getBoundingBox","join","_connectEvents","element","run","_animateIndicator","transStart","scaleStart","animateTransform","delegate","duration","transform","end","play","clear","inherited","arguments","addSeries","push","label","createText","b","r","radius","f","moveToFront","getSeriesStats","defaultStats","extend","isRightToLeft","axes","scaler"],"mappings":"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","file":"../../../charting/plot2d/Indicator.js","sourcesContent":["define([\"dojo/_base/lang\", \"dojo/_base/array\", \"dojo/_base/declare\", \"./CartesianBase\", \"./_PlotEvents\", \"./common\",\r\n    \"../axis2d/common\", \"dojox/gfx\", \"dojox/lang/utils\", \"dojox/gfx/fx\", \"dojo/has\"],\r\n\tfunction(lang, array, declare, CartesianBase, _PlotEvents, dcpc, dcac, gfx, du, fx, has){\r\n\r\n\t// all the code below should be removed when http://trac.dojotoolkit.org/ticket/11299 will be available\r\n\tvar getBoundingBox = function(shape){\r\n\t\treturn getTextBBox(shape, shape.getShape().text);\r\n\t};\r\n\tvar getTextBBox = function(s, t){\r\n\t\tvar c = s.declaredClass;\r\n\t\tvar w, h;\r\n\t\tif(c.indexOf(\"svg\")!=-1){\r\n\t\t\t// try/catch the FF native getBBox error. cheaper than walking up in the DOM\r\n\t\t\t// hierarchy to check the conditions (bench show /10 )\r\n\t\t\ttry {\r\n\t\t\t\treturn lang.mixin({}, s.rawNode.getBBox());\r\n\t\t\t}catch (e){\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t}else if(c.indexOf(\"vml\")!=-1){\r\n\t\t\tvar rawNode = s.rawNode, _display = rawNode.style.display;\r\n\t\t\trawNode.style.display = \"inline\";\r\n\t\t\tw = gfx.pt2px(parseFloat(rawNode.currentStyle.width));\r\n\t\t\th = gfx.pt2px(parseFloat(rawNode.currentStyle.height));\r\n\t\t\tvar sz = {x: 0, y: 0, width: w, height: h};\r\n\t\t\t// in VML, the width/height we get are in view coordinates\r\n\t\t\t// in our case we don't zoom the view so that is ok\r\n\t\t\t// It's impossible to get the x/y from the currentStyle.left/top,\r\n\t\t\t// because all negative coordinates are 'clipped' to 0.\r\n\t\t\t// (x:0 + translate(-100) -> x=0\r\n\t\t\tcomputeLocation(s, sz);\r\n\t\t\trawNode.style.display = _display;\r\n\t\t\treturn sz;\r\n\t\t}else if(c.indexOf(\"silverlight\")!=-1){\r\n\t\t\tvar bb = {width: s.rawNode.actualWidth, height: s.rawNode.actualHeight};\r\n\t\t\treturn computeLocation(s, bb, 0.75);\r\n\t\t}else if(s.getTextWidth){\r\n\t\t\t// canvas\r\n\t\t\tw = s.getTextWidth();\r\n\t\t\tvar font = s.getFont();\r\n\t\t\tvar fz = font ? font.size : gfx.defaultFont.size;\r\n\t\t\th = gfx.normalizedLength(fz);\r\n\t\t\tsz = {width: w, height: h};\r\n\t\t\tcomputeLocation(s, sz, 0.75);\r\n\t\t\treturn sz;\r\n\t\t}\r\n\t\treturn null;\r\n\t};\r\n\tvar computeLocation =  function(s, sz, coef){\r\n\t\tvar width = sz.width, height = sz.height, sh = s.getShape(), align = sh.align;\r\n\t\tswitch (align) {\r\n\t\tcase \"end\":\r\n\t\t\tsz.x = sh.x - width;\r\n\t\t\tbreak;\r\n\t\tcase \"middle\":\r\n\t\t\tsz.x = sh.x - width / 2;\r\n\t\t\tbreak;\r\n\t\tcase \"start\":\r\n\t\tdefault:\r\n\t\t\tsz.x = sh.x;\r\n\t\tbreak;\r\n\t\t}\r\n\t\tcoef = coef || 1;\r\n\t\tsz.y = sh.y - height*coef; // rough approximation of the ascent!...\r\n\t\treturn sz;\r\n\t};\r\n\r\n\t/*=====\r\n\tdeclare(\"dojox.charting.plot2d.__IndicatorCtorArgs\", dojox.charting.plot2d.__CartesianCtorArgs, {\r\n\t\t// summary:\r\n\t\t//\t\tA special keyword arguments object that is specific to a indicator \"plot\".\r\n\r\n\t\t// lines: Boolean?\r\n\t\t//\t\tWhether the indicator lines are visible or not. The lines are displayed for each of the\r\n\t\t//\t\t'values' of the indicator. Default is true.\r\n\t\tlines: true,\r\n\r\n\t\t// labels: String?\r\n\t\t//\t\tDescribes how the indicator labels are displayed.\r\n\t\t//\t\tPossible values are:\r\n\t\t//\t\t`\"line\"` for displaying the value of each indicator line,\r\n\t\t//\t\t`\"marker\"` for displaying the values of the markers of each indicator line,\r\n\t\t//\t\t`\"trend\"` for displaying the percentage variation from the first to the last indicator line,\r\n\t\t//\t\t`\"none\"` to prevent any label to display.\r\n\t\t//\t\tDefault is \"line\".\r\n\t\tlabels: \"line\",\r\n\r\n\t\t// markers: Boolean?\r\n\t\t//\t\tWhether the markers on the indicator lines are visible or not. The markers are displayed for each\r\n\t\t//\t\tof the indicator lines using the series attached to the indicator plot. Default is true.\r\n\t\tmarkers: true,\r\n\r\n\t\t// values: Boolean\r\n\t\t//\t\tThe data values at which each of the indicator line is drawn. For a single value a Number can be provided\r\n\t\t//\t\totherwise an Array of Number is required. fault is [].\r\n\t\tvalues: [],\r\n\r\n\t\t// offset: {x, y}?\r\n\t\t//\t\tA pair of (x, y) pixel coordinate to specifiy the offset between the end of the indicator line and the\r\n\t\t//\t\tposition at which the labels are rendered. Default is no offset.\r\n\t\toffset: {},\r\n\r\n\t\t// start: Boolean?\r\n\t\t//\t\tWhether the label is rendered at the start or end of the indicator line. Default is false meaning end of\r\n\t\t//\t\tthe line.\r\n\t\tstart: false,\r\n\r\n\t\t// animate: Boolean?|Number?\r\n\t\t//\t\tWhether or not to animate the chart to place. When a Number it specifies the duration of the animation.\r\n\t\t//\t\tDefault is false.\r\n\t\tanimate: false,\r\n\r\n\t\t// vertical: Boolean?\r\n\t\t//\t\tWhether the indicator is vertical or not. Default is true.\r\n\t\tvertical: true,\r\n\r\n\t\t// fixed: Boolean?\r\n\t\t//\t\tWhether a fixed precision must be applied to data values for display. Default is true.\r\n\t\tfixed: true,\r\n\r\n\t\t// precision: Number?\r\n\t\t//\t\tThe precision at which to round data values for display. Default is 0.\r\n\t\tprecision: 0,\r\n\r\n\t\t// lineStroke: dojo/gfx/Stroke?\r\n\t\t//\t\tAn optional stroke to use for indicator line.\r\n\t\tlineStroke: {},\r\n\r\n\t\t// lineOutline: dojo/gfx/Stroke?\r\n\t\t//\t\tAn optional outline to use for indicator line.\r\n\t\tlineOutline: {},\r\n\r\n\t\t// lineShadow: dojo/gfx/Stroke?\r\n\t\t//\t\tAn optional shadow to use for indicator line.\r\n\t\tlineShadow: {},\r\n\r\n\t\t// stroke: dojo.gfx.Stroke?\r\n\t\t//\t\tAn optional stroke to use for indicator label background.\r\n\t\tstroke: {},\r\n\r\n\t\t// outline: dojo.gfx.Stroke?\r\n\t\t//\t\tAn optional outline to use for indicator label background.\r\n\t\toutline: {},\r\n\r\n\t\t// shadow: dojo.gfx.Stroke?\r\n\t\t//\t\tAn optional shadow to use for indicator label background.\r\n\t\tshadow: {},\r\n\r\n\t\t// fill: dojo.gfx.Fill?\r\n\t\t//\t\tAn optional fill to use for indicator label background.\r\n\t\tfill: {},\r\n\r\n\t\t// fillFunc: Function?\r\n\t\t//\t\tAn optional function to use to compute label background fill. It takes precedence over\r\n\t\t//\t\tfill property when available.\r\n\t\t//\t|\t\tfunction fillFunc(index, values, data) {}\r\n\t\t//\t\t`index` is the index in the values array of the label being drawn.\r\n\t\t//\t\t`values` is the entire array of values.\r\n\t\t//\t\t`data` is the entire array of marker values.\r\n\t\tfillFunc: null,\r\n\r\n\t\t// labelFunc: Function?\r\n\t\t//\t\tAn optional function to use to compute label text. It takes precedence over\r\n\t\t//\t\tthe default text when available.\r\n\t\t//\t|\t\tfunction labelFunc(index, values, data, fixed, precision, labels) {}\r\n\t\t//\t\t`index` is the index in the values array of the label being drawn.\r\n\t\t//\t\t`values` is the entire array of values.\r\n\t\t//\t\t`data` is the entire array of marker values.\r\n\t\t//\t\t`fixed` is true if fixed precision must be applied.\r\n\t\t//\t\t`precision` is the requested precision to be applied.\r\n\t\t//\t\t`labels` is the labels mode of the indicator.\r\n\t\tlabelFunc: null,\r\n\r\n\t\t// font: String?\r\n\t\t//\t\tA font definition to use for indicator label background.\r\n\t\tfont: \"\",\r\n\r\n\t\t// fontColor: String|dojo.Color?\r\n\t\t//\t\tThe color to use for indicator label background.\r\n\t\tfontColor: \"\",\r\n\r\n\t\t// markerStroke: dojo.gfx.Stroke?\r\n\t\t//\t\tAn optional stroke to use for indicator marker.\r\n\t\tmarkerStroke: {},\r\n\r\n\t\t// markerOutline: dojo.gfx.Stroke?\r\n\t\t//\t\tAn optional outline to use for indicator marker.\r\n\t\tmarkerOutline: {},\r\n\r\n\t\t// markerShadow: dojo.gfx.Stroke?\r\n\t\t//\t\tAn optional shadow to use for indicator marker.\r\n\t\tmarkerShadow: {},\r\n\r\n\t\t// markerFill: dojo.gfx.Fill?\r\n\t\t//\t\tAn optional fill to use for indicator marker.\r\n\t\tmarkerFill: {},\r\n\r\n\t\t// markerSymbol: String?\r\n\t\t//\t\tAn optional symbol string to use for indicator marker.\r\n\t\tmarkerSymbol: \"\",\r\n\t});\r\n\t=====*/\r\n\r\n\tvar Indicator = declare(\"dojox.charting.plot2d.Indicator\", [CartesianBase, _PlotEvents], {\r\n\t\t// summary:\r\n\t\t//\t\tA \"faux\" plot that can be placed behind or above other plots to represent a line or multi-line\r\n\t\t//\t\tthreshold on the chart.\r\n\t\tdefaultParams: {\r\n\t\t\tvertical: true,\r\n\t\t\tfixed: true,\r\n\t\t\tprecision: 0,\r\n\t\t\tlines: true,\r\n\t\t\tlabels: \"line\", // \"line\" | \"trend\" | \"markers\" | \"none\"\r\n\t\t\tmarkers: true\r\n\t\t},\r\n\t\toptionalParams: {\r\n\t\t\tlineStroke: {},\r\n\t\t\toutlineStroke: {},\r\n\t\t\tshadowStroke: {},\r\n\t\t\tlineFill: {},\r\n\t\t\tstroke:\t\t{},\r\n\t\t\toutline:\t{},\r\n\t\t\tshadow:\t\t{},\r\n\t\t\tfill:\t\t{},\r\n\t\t\tfillFunc:  null,\r\n\t\t\tlabelFunc: null,\r\n\t\t\tfont:\t\t\"\",\r\n\t\t\tfontColor:\t\"\",\r\n\t\t\tmarkerStroke:\t\t{},\r\n\t\t\tmarkerOutline:\t\t{},\r\n\t\t\tmarkerShadow:\t\t{},\r\n\t\t\tmarkerFill:\t\t\t{},\r\n\t\t\tmarkerSymbol:\t\t\"\",\r\n\t\t\tvalues: [],\r\n\t\t\toffset: {},\r\n\t\t\tstart: false,\r\n\t\t\tanimate: false\r\n\t\t},\r\n\r\n\t\tconstructor: function(chart, kwArgs){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tCreate the faux Grid plot.\r\n\t\t\t// chart: dojox/charting/Chart\r\n\t\t\t//\t\tThe chart this plot belongs to.\r\n\t\t\t// kwArgs: dojox.charting.plot2d.__GridCtorArgs?\r\n\t\t\t//\t\tAn optional keyword arguments object to help define the parameters of the underlying grid.\r\n\t\t\tthis.opt = lang.clone(this.defaultParams);\r\n\t\t\tdu.updateWithObject(this.opt, kwArgs);\r\n\t\t\tif(typeof kwArgs.values == \"number\"){\r\n\t\t\t\tkwArgs.values = [ kwArgs.values ];\r\n\t\t\t}\r\n\t\t\tdu.updateWithPattern(this.opt, kwArgs, this.optionalParams);\r\n\t\t\tthis.animate = this.opt.animate;\r\n\t\t},\r\n\t\trender: function(dim, offsets){\r\n\t\t\tif(this.zoom){\r\n\t\t\t\treturn this.performZoom(dim, offsets);\r\n\t\t\t}\r\n\r\n\t\t\tif(!this.isDirty()){\r\n\t\t\t\treturn this;\r\n\t\t\t}\r\n\r\n\t\t\tthis.cleanGroup(null, true);\r\n\r\n\t\t\tif(!this.opt.values){\r\n\t\t\t\treturn this;\r\n\t\t\t}\r\n\r\n\t\t\tthis._updateIndicator();\r\n\t\t\treturn this;\r\n\t\t},\r\n\t\t_updateIndicator: function(){\r\n\t\t\tvar t = this.chart.theme;\r\n\t\t\tvar hn = this._hAxis.name, vn = this._vAxis.name,\r\n\t\t\t\thb = this._hAxis.getScaler().bounds, vb = this._vAxis.getScaler().bounds;\r\n\t\t\tvar o = {};\r\n\t\t\to[hn] = hb.from;\r\n\t\t\to[vn] = vb.from;\r\n\t\t\tvar min = this.toPage(o);\r\n\t\t\to[hn] = hb.to;\r\n\t\t\to[vn] = vb.to;\r\n\t\t\tvar max = this.toPage(o);\r\n\t\t\tvar events = this.events();\r\n\t\t\tvar results = array.map(this.opt.values, function(value, index){\r\n\t\t\t\treturn this._renderIndicator(value, index, hn, vn, min, max, events, this.animate);\r\n\t\t\t}, this);\r\n\t\t\tvar length = results.length;\r\n\t\t\tif(this.opt.labels == \"trend\"){\r\n\t\t\t\tvar v = this.opt.vertical;\r\n\t\t\t\tvar first = this._data[0][0];\r\n\t\t\t\tvar last = this._data[length - 1][0];\r\n\t\t\t\tvar delta = last-first;\r\n\t\t\t\tvar text = this.opt.labelFunc?this.opt.labelFunc(-1, this.values, this._data, this.opt.fixed, this.opt.precision):\r\n\t\t\t\t\t\t(dcpc.getLabel(delta, this.opt.fixed, this.opt.precision)+\" (\"+dcpc.getLabel(100*delta/first, true, 2)+\"%)\");\r\n\t\t\t\tthis._renderText(this.getGroup(), text, this.chart.theme, v?(results[0].x+results[length - 1].x)/2:results[1].x,\r\n\t\t\t\t\tv?results[0].y:(results[1].y+results[length - 1].y)/2, -1, this.opt.values, this._data);\r\n\t\t\t}\r\n\t\t\tvar lineFill = this.opt.lineFill!=undefined?this.opt.lineFill:t.indicator.lineFill;\r\n\t\t\tif(lineFill && length > 1){\r\n\t\t\t\tvar x0 = Math.min(results[0].x1, results[length - 1].x1);\r\n\t\t\t\tvar y0 =  Math.min(results[0].y1, results[length - 1].y1);\r\n\t\t\t\tvar r = this.getGroup().createRect({x: x0, y: y0, width: Math.max(results[0].x2, results[length - 1].x2) - x0,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t height: Math.max(results[0].y2, results[length - 1].y2) - y0}).\r\n\t\t\t\t\tsetFill(lineFill);\r\n\t\t\t\tr.moveToBack();\r\n\t\t\t}\r\n\t\t},\r\n\t\t_renderIndicator: function(coord, index, hn, vn, min, max, events, animate){\r\n\t\t\tvar t = this.chart.theme, c = this.chart.getCoords(), v = this.opt.vertical;\r\n\r\n\t\t\tvar g = this.getGroup().createGroup();\r\n\t\t\tvar mark = {};\r\n\t\t\tmark[hn] = v?coord:0;\r\n\t\t\tmark[vn] = v?0:coord;\r\n\t\t\tif(has(\"dojo-bidi\")){\r\n\t\t\t\tmark.x = this._getMarkX(mark.x);\r\n\t\t\t}\r\n\t\t\tmark = this.toPage(mark);\r\n\t\t\tvar visible = v?mark.x >= min.x && mark.x <= max.x:mark.y >= max.y && mark.y <= min.y;\r\n\r\n\t\t\tvar cx = mark.x - c.x, cy = mark.y - c.y;\r\n\t\t\tvar x1 = v?cx:min.x - c.x, y1 = v?min.y - c.y:cy, x2 = v?x1:max.x - c.x, y2 = v?max.y - c.y:y1;\r\n\r\n\t\t\tif(this.opt.lines && visible){\r\n\t\t\t\tvar sh = this.opt.hasOwnProperty(\"lineShadow\")?this.opt.lineShadow:t.indicator.lineShadow,\r\n\t\t\t\t\tls = this.opt.hasOwnProperty(\"lineStroke\")?this.opt.lineStroke:t.indicator.lineStroke,\r\n\t\t\t\t\tol = this.opt.hasOwnProperty(\"lineOutline\")?this.opt.lineOutline:t.indicator.lineOutline;\r\n\t\t\t\tif(sh){\r\n\t\t\t\t\tg.createLine({x1: x1 + sh.dx, y1: y1 + sh.dy, x2: x2 + sh.dx, y2: y2 + sh.dy}).setStroke(sh);\r\n\t\t\t\t}\r\n\t\t\t\tif(ol){\r\n\t\t\t\t\tol = dcpc.makeStroke(ol);\r\n\t\t\t\t\tol.width = 2 * ol.width + (ls?ls.width:0);\r\n\t\t\t\t\tg.createLine({x1: x1, y1: y1, x2: x2, y2: y2}).setStroke(ol);\r\n\t\t\t\t}\r\n\t\t\t\tg.createLine({x1: x1, y1: y1, x2: x2, y2: y2}).setStroke(ls);\r\n\t\t\t}\r\n\r\n\t\t\t// series items represent markers on the indicator\r\n\t\t\tvar data;\r\n\t\t\tif(this.opt.markers && visible){\r\n\t\t\t\tvar d = this._data[index];\r\n\t\t\t\tvar self = this;\r\n\t\t\t\tif(d){\r\n\t\t\t\t\tdata = array.map(d, function(value, index){\r\n\t\t\t\t\t\tmark[hn] = v?coord:value;\r\n\t\t\t\t\t\tmark[vn] = v?value:coord;\r\n\t\t\t\t\t\tif(has(\"dojo-bidi\")){\r\n\t\t\t\t\t\t\tmark.x = self._getMarkX(mark.x);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tmark = this.toPage(mark);\r\n\t\t\t\t\t\tif(v?mark.y <= min.y && mark.y >= max.y:mark.x >= min.x && mark.x <= max.x){\r\n\t\t\t\t\t\t\tcx = mark.x - c.x\r\n\t\t\t\t\t\t\tcy = mark.y - c.y;\r\n\t\t\t\t\t\t\tvar ms = this.opt.markerSymbol?this.opt.markerSymbol:t.indicator.markerSymbol,\r\n\t\t\t\t\t\t\t\tpath = \"M\" + cx + \" \" + cy + \" \" + ms;\r\n\t\t\t\t\t\t\tsh = this.opt.markerShadow!=undefined?this.opt.markerShadow:t.indicator.markerShadow;\r\n\t\t\t\t\t\t\tls = this.opt.markerStroke!=undefined?this.opt.markerStroke:t.indicator.markerStroke;\r\n\t\t\t\t\t\t\tol = this.opt.markerOutline!=undefined?this.opt.markerOutline:t.indicator.markerOutline;\r\n\t\t\t\t\t\t\tif(sh){\r\n\t\t\t\t\t\t\t\tvar sp = \"M\" + (cx + sh.dx) + \" \" + (cy + sh.dy) + \" \" + ms;\r\n\t\t\t\t\t\t\t\tg.createPath(sp).setFill(sh.color).setStroke(sh);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif(ol){\r\n\t\t\t\t\t\t\t\tol = dcpc.makeStroke(ol);\r\n\t\t\t\t\t\t\t\tol.width = 2 * ol.width + (ls?ls.width:0);\r\n\t\t\t\t\t\t\t\tg.createPath(path).setStroke(ol);\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tvar shape = g.createPath(path);\r\n\t\t\t\t\t\t\tvar sf = this._shapeFill(this.opt.markerFill != undefined?this.opt.markerFill:t.indicator.markerFill, shape.getBoundingBox());\r\n\t\t\t\t\t\t\tshape.setFill(sf).setStroke(ls);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\treturn value;\r\n\t\t\t\t\t}, this);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tvar ctext;\r\n\t\t\tif(this.opt.start){\r\n\t\t\t\tctext = {\r\n\t\t\t\t\tx: v?x1:x1,\r\n\t\t\t\t\ty: v?y1:y2\r\n\t\t\t\t};\r\n\t\t\t}else{\r\n\t\t\t\tctext = {\r\n\t\t\t\t\tx: v?x1:x2,\r\n\t\t\t\t\ty: v?y2:y1\r\n\t\t\t\t};\r\n\t\t\t}\r\n\r\n\t\t\tif(this.opt.labels && this.opt.labels != \"trend\" && visible){\r\n\t\t\t\tvar text;\r\n\t\t\t\tif(this.opt.labelFunc){\r\n\t\t\t\t\ttext = this.opt.labelFunc(index, this.opt.values, this._data,\r\n\t\t\t\t\t\tthis.opt.fixed, this.opt.precision, this.opt.labels);\r\n\t\t\t\t}else{\r\n\t\t\t\t\tif(this.opt.labels == \"markers\"){\r\n\t\t\t\t\t\ttext = array.map(data, function(value){\r\n\t\t\t\t\t\t\treturn dcpc.getLabel(value, this.opt.fixed, this.opt.precision);\r\n\t\t\t\t\t\t}, this);\r\n\t\t\t\t\t\ttext = text.length != 1 ? \"[ \"+text.join(\", \")+\" ]\" : text[0];\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\ttext = dcpc.getLabel(coord, this.opt.fixed, this.opt.precision);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tthis._renderText(g, text, t, ctext.x, ctext.y, index, this.opt.values, this._data);\r\n\t\t\t}\r\n\r\n\t\t\tif(events){\r\n\t\t\t\tthis._connectEvents({\r\n\t\t\t\t\telement: \"indicator\",\r\n\t\t\t\t\trun:     this.run?this.run[index]:undefined,\r\n\t\t\t\t\tshape:   g,\r\n\t\t\t\t\tvalue:   coord\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\tif(animate){\r\n\t\t\t\tthis._animateIndicator(g, v, v?y1:x1, v?(y1 + y2):(x1 + x2), animate);\r\n\t\t\t}\r\n\r\n\t\t\treturn lang.mixin(ctext, {x1: x1, y1: y1, x2: x2, y2: y2});\r\n\t\t},\r\n\t\t_animateIndicator: function(shape, vertical, offset, size, animate){\r\n\t\t\tvar transStart = vertical ? [0, offset] : [offset, 0];\r\n\t\t\tvar scaleStart = vertical ? [1, 1 / size] : [1 / size, 1];\r\n\t\t\tfx.animateTransform(lang.delegate({\r\n\t\t\t\tshape: shape,\r\n\t\t\t\tduration: 1200,\r\n\t\t\t\ttransform: [\r\n\t\t\t\t\t{name: \"translate\", start: transStart, end: [0, 0]},\r\n\t\t\t\t\t{name: \"scale\", start: scaleStart, end: [1, 1]},\r\n\t\t\t\t\t{name: \"original\"}\r\n\t\t\t\t]\r\n\t\t\t}, animate)).play();\r\n\t\t},\r\n\t\tclear: function(){\r\n\t\t\tthis.inherited(arguments);\r\n\t\t\tthis._data = [];\r\n\t\t},\r\n\t\taddSeries: function(run){\r\n\t\t\tthis.inherited(arguments);\r\n\t\t\tthis._data.push(run.data);\r\n\t\t},\r\n\t\t_renderText: function(g, text, t, x, y, index, values, data){\r\n\t\t\tif(this.opt.offset){\r\n\t\t\t\tx += this.opt.offset.x;\r\n\t\t\t\ty += this.opt.offset.y;\r\n\t\t\t}\r\n\t\t\tvar label = dcac.createText.gfx(\r\n\t\t\t\t\tthis.chart,\r\n\t\t\t\t\tg,\r\n\t\t\t\t\tx, y,\r\n\t\t\t\t\t\"middle\",\r\n\t\t\t\t\ttext, this.opt.font?this.opt.font:t.indicator.font, this.opt.fontColor?this.opt.fontColor:t.indicator.fontColor);\r\n\t\t\tvar b = getBoundingBox(label);\r\n\t\t\tb.x-=2; b.y-=1; b.width+=4; b.height+=2; b.r = this.opt.radius?this.opt.radius:t.indicator.radius;\r\n\t\t\tvar sh = this.opt.shadow!=undefined?this.opt.shadow:t.indicator.shadow,\r\n\t\t\t\tls = this.opt.stroke!=undefined?this.opt.stroke:t.indicator.stroke,\r\n\t\t\t\tol = this.opt.outline!=undefined?this.opt.outline:t.indicator.outline;\r\n\t\t\tif(sh){\r\n\t\t\t\tg.createRect(b).setFill(sh.color).setStroke(sh);\r\n\t\t\t}\r\n\t\t\tif(ol){\r\n\t\t\t\tol = dcpc.makeStroke(ol);\r\n\t\t\t\tol.width = 2 * ol.width + (ls?ls.width:0);\r\n\t\t\t\tg.createRect(b).setStroke(ol);\r\n\t\t\t}\r\n\t\t\tvar f = this.opt.fillFunc?this.opt.fillFunc(index, values, data):(this.opt.fill!=undefined?this.opt.fill:t.indicator.fill);\r\n\t\t\tg.createRect(b).setFill(this._shapeFill(f, b)).setStroke(ls);\r\n\t\t\tlabel.moveToFront();\r\n\t\t},\r\n\t\tgetSeriesStats: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tReturns default stats (irrelevant for this type of plot).\r\n\t\t\t// returns: Object\r\n\t\t\t//\t\t{hmin, hmax, vmin, vmax} min/max in both directions.\r\n\t\t\treturn lang.delegate(dcpc.defaultStats);\r\n\t\t}\r\n\t});\r\n\tif(has(\"dojo-bidi\")){\r\n\t\tIndicator.extend({\r\n\t\t\t_getMarkX: function(x){\r\n\t\t\t\tif(this.chart.isRightToLeft()){\r\n\t\t\t\t\treturn this.chart.axes.x.scaler.bounds.to + this.chart.axes.x.scaler.bounds.from - x;\r\n\t\t\t\t}\r\n\t\t\t\treturn x;\r\n\t\t\t}\t\t\t\r\n\t\t});\r\n\t}\r\n\treturn Indicator;\r\n});\r\n"]}