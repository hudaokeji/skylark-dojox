{"version":3,"sources":["validate/tests/creditcard.js"],"names":["define","doh","validate","register","name","runTest","tests","t","isValidLuhn","f","isValidCvv","isValidCreditCard","isValidCreditCardNumber","is"],"mappings":"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","file":"../../../validate/tests/creditcard.js","sourcesContent":["define([\"doh\", \"../creditCard\"], function(doh, validate){\r\n\r\ndoh.register(\"dojox.validate.tests.creditcard\",\r\n\t[{\r\n\t\tname:\"isValidLuhn\",\r\n\t\trunTest: function(tests) {\r\n\t\t\ttests.t(validate.isValidLuhn('5105105105105100')); //test string input\r\n\t\t\ttests.t(validate.isValidLuhn('5105-1051 0510-5100')); //test string input with dashes and spaces (commonly used when entering card #'s)\r\n\t\t\ttests.t(validate.isValidLuhn(38520000023237)); //test numerical input as well\r\n\t\t\ttests.f(validate.isValidLuhn(3852000002323)); //testing failures\r\n\t\t\ttests.t(validate.isValidLuhn(18)); //length doesnt matter\r\n\t\t\ttests.f(validate.isValidLuhn(818181)); //short length failure\r\n\t\t}\r\n\t},\r\n\t{\r\n\t\tname:\"isValidCvv\",\r\n\t\trunTest: function(tests) {\r\n\t\t\ttests.t(validate.isValidCvv('123','mc')); //string is ok\r\n\t\t\ttests.f(validate.isValidCvv('5AA','ec')); //invalid characters are not ok\r\n\t\t\ttests.t(validate.isValidCvv(723,'mc')); //numbers are ok too\r\n\t\t\ttests.f(validate.isValidCvv(7234,'mc')); //too long\r\n\t\t\ttests.t(validate.isValidCvv(612,'ec'));\r\n\t\t\ttests.t(validate.isValidCvv(421,'vi'));\r\n\t\t\ttests.t(validate.isValidCvv(543,'di'));\r\n\t\t\ttests.t(validate.isValidCvv('1234','ax'));\r\n\t\t\ttests.t(validate.isValidCvv(4321,'ax'));\r\n\t\t\ttests.f(validate.isValidCvv(43215,'ax')); //too long\r\n\t\t\ttests.f(validate.isValidCvv(215,'ax')); //too short\r\n\t\t}\r\n\t},\r\n\t{\r\n\t\tname:\"isValidCreditCard\",\r\n\t\trunTest: function(tests) {\r\n\t\t\t//misc checks\r\n\t\t\ttests.t(validate.isValidCreditCard('5105105105105100','mc')); //test string input\r\n\t\t\ttests.t(validate.isValidCreditCard('5105-1051 0510-5100','mc')); //test string input with dashes and spaces (commonly used when entering card #'s)\r\n\t\t\ttests.t(validate.isValidCreditCard(5105105105105100,'mc')); //test numerical input as well\r\n\t\t\ttests.f(validate.isValidCreditCard('5105105105105100','vi')); //fails, wrong card type\r\n\t\t\t//Mastercard/Eurocard checks\r\n\t\t\ttests.t(validate.isValidCreditCard('5105105105105100','mc'));\r\n\t\t\ttests.t(validate.isValidCreditCard('5204105105105100','ec'));\r\n\t\t\ttests.t(validate.isValidCreditCard('5303105105105100','mc'));\r\n\t\t\ttests.t(validate.isValidCreditCard('5402105105105100','ec'));\r\n\t\t\ttests.t(validate.isValidCreditCard('5501105105105100','mc'));\r\n\t\t\t//Visa card checks\r\n\t\t\ttests.t(validate.isValidCreditCard('4111111111111111','vi'));\r\n\t\t\ttests.t(validate.isValidCreditCard('4111111111010','vi'));\r\n\t\t\t//American Express card checks\r\n\t\t\ttests.t(validate.isValidCreditCard('378 2822 4631 0005','ax'));\r\n\t\t\ttests.t(validate.isValidCreditCard('341-1111-1111-1111','ax'));\r\n\t\t\t//Diners Club/Carte Blanch card checks\r\n\t\t\ttests.t(validate.isValidCreditCard('36400000000000','dc'));\r\n\t\t\ttests.t(validate.isValidCreditCard('38520000023237','bl'));\r\n\t\t\ttests.t(validate.isValidCreditCard('30009009025904','dc'));\r\n\t\t\ttests.t(validate.isValidCreditCard('30108009025904','bl'));\r\n\t\t\ttests.t(validate.isValidCreditCard('30207009025904','dc'));\r\n\t\t\ttests.t(validate.isValidCreditCard('30306009025904','bl'));\r\n\t\t\ttests.t(validate.isValidCreditCard('30405009025904','dc'));\r\n\t\t\ttests.t(validate.isValidCreditCard('30504009025904','bl'));\r\n\t\t\t//Discover card checks\r\n\t\t\ttests.t(validate.isValidCreditCard('6011111111111117','di'));\r\n\t\t\t//JCB card checks\r\n\t\t\ttests.t(validate.isValidCreditCard('3530111333300000','jcb'));\r\n\t\t\ttests.t(validate.isValidCreditCard('213100000000001','jcb'));\r\n\t\t\ttests.t(validate.isValidCreditCard('180000000000002','jcb'));\r\n\t\t\ttests.f(validate.isValidCreditCard('1800000000000002','jcb')); //should fail, good checksum, good prefix, but wrong length'\r\n\t\t\t//Enroute card checks\r\n\t\t\ttests.t(validate.isValidCreditCard('201400000000000','er'));\r\n\t\t\ttests.t(validate.isValidCreditCard('214900000000000','er'));\r\n\t\t}\r\n\t},\r\n\t{\r\n\t\tname:\"isValidCreditCardNumber\",\r\n\t\trunTest: function(tests) {\r\n\t\t\t//misc checks\r\n\t\t\ttests.f(validate.isValidCreditCardNumber('a4111111111111', 'vi')); //fails, alphas are not allowed\r\n\t\t\ttests.t(validate.isValidCreditCardNumber('5105105105105100','mc')); //test string input\r\n\t\t\ttests.t(validate.isValidCreditCardNumber('5105-1051 0510-5100','mc')); //test string input with dashes and spaces (commonly used when entering card #'s)\r\n\t\t\ttests.t(validate.isValidCreditCardNumber(5105105105105100,'mc')); //test numerical input as well\r\n\t\t\ttests.f(validate.isValidCreditCardNumber('5105105105105100','vi')); //fails, wrong card type\r\n\t\t\t//Mastercard/Eurocard checks\r\n\t\t\ttests.is(\"mc|ec\", validate.isValidCreditCardNumber('5100000000000000')); //should match 'mc|ec'\r\n\t\t\ttests.is(\"mc|ec\", validate.isValidCreditCardNumber('5200000000000000')); //should match 'mc|ec'\r\n\t\t\ttests.is(\"mc|ec\", validate.isValidCreditCardNumber('5300000000000000')); //should match 'mc|ec'\r\n\t\t\ttests.is(\"mc|ec\", validate.isValidCreditCardNumber('5400000000000000')); //should match 'mc|ec'\r\n\t\t\ttests.is(\"mc|ec\", validate.isValidCreditCardNumber('5500000000000000')); //should match 'mc|ec'\r\n\t\t\ttests.f(validate.isValidCreditCardNumber('55000000000000000')); //should fail, too long\r\n\t\t\t//Visa card checks\r\n\t\t\ttests.is(\"vi\", validate.isValidCreditCardNumber('4111111111111111')); //should match 'vi'\r\n\t\t\ttests.is(\"vi\", validate.isValidCreditCardNumber('4111111111010')); //should match 'vi'\r\n\t\t\t//American Express card checks\r\n\t\t\ttests.is(\"ax\", validate.isValidCreditCardNumber('378 2822 4631 0005')); //should match 'ax'\r\n\t\t\ttests.is(\"ax\", validate.isValidCreditCardNumber('341-1111-1111-1111')); //should match 'ax'\r\n\t\t\t//Diners Club/Carte Blanch card checks\r\n\t\t\ttests.is(\"dc|bl\", validate.isValidCreditCardNumber('36400000000000')); //should match 'dc|bl'\r\n\t\t\ttests.is(\"dc|bl\", validate.isValidCreditCardNumber('38520000023237')); //should match 'dc|bl'\r\n\t\t\ttests.is(\"dc|bl\", validate.isValidCreditCardNumber('30009009025904')); //should match 'di|bl'\r\n\t\t\ttests.is(\"dc|bl\", validate.isValidCreditCardNumber('30108009025904')); //should match 'di|bl'\r\n\t\t\ttests.is(\"dc|bl\", validate.isValidCreditCardNumber('30207009025904')); //should match 'di|bl'\r\n\t\t\ttests.is(\"dc|bl\", validate.isValidCreditCardNumber('30306009025904')); //should match 'di|bl'\r\n\t\t\ttests.is(\"dc|bl\", validate.isValidCreditCardNumber('30405009025904')); //should match 'di|bl'\r\n\t\t\ttests.is(\"dc|bl\", validate.isValidCreditCardNumber('30504009025904')); //should match 'di|bl'\r\n\t\t\t//Discover card checks\r\n\t\t\ttests.is(\"di\", validate.isValidCreditCardNumber('6011111111111117')); //should match 'di'\r\n\t\t\t//JCB card checks\r\n\t\t\ttests.is(\"jcb\", validate.isValidCreditCardNumber('3530111333300000')); //should match 'jcb'\r\n\t\t\ttests.is(\"jcb\", validate.isValidCreditCardNumber('213100000000001')); //should match 'jcb'\r\n\t\t\ttests.is(\"jcb\", validate.isValidCreditCardNumber('180000000000002')); //should match 'jcb'\r\n\t\t\ttests.f(validate.isValidCreditCardNumber('1800000000000002')); //should fail, good checksum, good prefix, but wrong length'\r\n\t\t\t//Enroute card checks\r\n\t\t\ttests.is(\"er\", validate.isValidCreditCardNumber('201400000000000')); //should match 'er'\r\n\t\t\ttests.is(\"er\", validate.isValidCreditCardNumber('214900000000000')); //should match 'er'\r\n\t\t}\r\n\t}\r\n]);\r\n\r\n});\r\n"]}