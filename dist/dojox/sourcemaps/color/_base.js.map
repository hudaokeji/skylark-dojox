{"version":3,"sources":["color/_base.js"],"names":["define","dojox","lang","Color","colors","cx","getObject","blend","blendColors","fromRgb","fromHex","fromArray","fromString","greyscale","makeGrey","mixin","fromCmy","cyan","magenta","yellow","isArray","isObject","m","y","c","r","g","b","Math","round","fromCmyk","black","min","fromHsl","hue","saturation","luminosity","s","l","h","fromHsv","value","v","hTemp","i","floor","f","p","q","t","extend","toCmy","this","toCmyk","toHsl","max","delta","toHsv"],"mappings":"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","file":"../../color/_base.js","sourcesContent":["define([\"../main\", \"dojo/_base/lang\", \"dojo/_base/Color\", \"dojo/colors\"],\r\n\tfunction(dojox, lang, Color, colors){\r\n\r\nvar cx = lang.getObject(\"color\", true, dojox);\r\n/*===== cx = dojox.color =====*/\r\n\t\t\r\n//\talias all the dojo.Color mechanisms\r\ncx.Color=Color;\r\ncx.blend=Color.blendColors;\r\ncx.fromRgb=Color.fromRgb;\r\ncx.fromHex=Color.fromHex;\r\ncx.fromArray=Color.fromArray;\r\ncx.fromString=Color.fromString;\r\n\r\n//\talias the dojo.colors mechanisms\r\ncx.greyscale=colors.makeGrey;\r\n\r\nlang.mixin(cx,{\r\n\tfromCmy: function(/* Object|Array|int */cyan, /*int*/magenta, /*int*/yellow){\r\n\t\t// summary:\r\n\t\t//\t\tCreate a dojox.color.Color from a CMY defined color.\r\n\t\t//\t\tAll colors should be expressed as 0-100 (percentage)\r\n\t\r\n\t\tif(lang.isArray(cyan)){\r\n\t\t\tmagenta=cyan[1], yellow=cyan[2], cyan=cyan[0];\r\n\t\t} else if(lang.isObject(cyan)){\r\n\t\t\tmagenta=cyan.m, yellow=cyan.y, cyan=cyan.c;\r\n\t\t}\r\n\t\tcyan/=100, magenta/=100, yellow/=100;\r\n\t\r\n\t\tvar r=1-cyan, g=1-magenta, b=1-yellow;\r\n\t\treturn new Color({ r:Math.round(r*255), g:Math.round(g*255), b:Math.round(b*255) });\t//\tdojox.color.Color\r\n\t},\r\n\t\r\n\tfromCmyk: function(/* Object|Array|int */cyan, /*int*/magenta, /*int*/yellow, /*int*/black){\r\n\t\t// summary:\r\n\t\t//\t\tCreate a dojox.color.Color from a CMYK defined color.\r\n\t\t//\t\tAll colors should be expressed as 0-100 (percentage)\r\n\t\r\n\t\tif(lang.isArray(cyan)){\r\n\t\t\tmagenta=cyan[1], yellow=cyan[2], black=cyan[3], cyan=cyan[0];\r\n\t\t} else if(lang.isObject(cyan)){\r\n\t\t\tmagenta=cyan.m, yellow=cyan.y, black=cyan.b, cyan=cyan.c;\r\n\t\t}\r\n\t\tcyan/=100, magenta/=100, yellow/=100, black/=100;\r\n\t\tvar r,g,b;\r\n\t\tr = 1-Math.min(1, cyan*(1-black)+black);\r\n\t\tg = 1-Math.min(1, magenta*(1-black)+black);\r\n\t\tb = 1-Math.min(1, yellow*(1-black)+black);\r\n\t\treturn new Color({ r:Math.round(r*255), g:Math.round(g*255), b:Math.round(b*255) });\t//\tdojox.color.Color\r\n\t},\r\n\t\t\r\n\tfromHsl: function(/* Object|Array|int */hue, /* int */saturation, /* int */luminosity){\r\n\t\t// summary:\r\n\t\t//\t\tCreate a dojox.color.Color from an HSL defined color.\r\n\t\t//\t\thue from 0-359 (degrees), saturation and luminosity 0-100.\r\n\t\r\n\t\tif(lang.isArray(hue)){\r\n\t\t\tsaturation=hue[1], luminosity=hue[2], hue=hue[0];\r\n\t\t} else if(lang.isObject(hue)){\r\n\t\t\tsaturation=hue.s, luminosity=hue.l, hue=hue.h;\r\n\t\t}\r\n\t\tsaturation/=100;\r\n\t\tluminosity/=100;\r\n\t\r\n\t\twhile(hue<0){ hue+=360; }\r\n\t\twhile(hue>=360){ hue-=360; }\r\n\t\t\r\n\t\tvar r, g, b;\r\n\t\tif(hue<120){\r\n\t\t\tr=(120-hue)/60, g=hue/60, b=0;\r\n\t\t} else if (hue<240){\r\n\t\t\tr=0, g=(240-hue)/60, b=(hue-120)/60;\r\n\t\t} else {\r\n\t\t\tr=(hue-240)/60, g=0, b=(360-hue)/60;\r\n\t\t}\r\n\t\t\r\n\t\tr=2*saturation*Math.min(r, 1)+(1-saturation);\r\n\t\tg=2*saturation*Math.min(g, 1)+(1-saturation);\r\n\t\tb=2*saturation*Math.min(b, 1)+(1-saturation);\r\n\t\tif(luminosity<0.5){\r\n\t\t\tr*=luminosity, g*=luminosity, b*=luminosity;\r\n\t\t}else{\r\n\t\t\tr=(1-luminosity)*r+2*luminosity-1;\r\n\t\t\tg=(1-luminosity)*g+2*luminosity-1;\r\n\t\t\tb=(1-luminosity)*b+2*luminosity-1;\r\n\t\t}\r\n\t\treturn new Color({ r:Math.round(r*255), g:Math.round(g*255), b:Math.round(b*255) });\t//\tdojox.color.Color\r\n\t}\r\n});\r\n\t\r\ncx.fromHsv = function(/* Object|Array|int */hue, /* int */saturation, /* int */value){\r\n\t// summary:\r\n\t//\t\tCreate a dojox.color.Color from an HSV defined color.\r\n\t//\t\thue from 0-359 (degrees), saturation and value 0-100.\r\n\r\n\tif(lang.isArray(hue)){\r\n\t\tsaturation=hue[1], value=hue[2], hue=hue[0];\r\n\t} else if (lang.isObject(hue)){\r\n\t\tsaturation=hue.s, value=hue.v, hue=hue.h;\r\n\t}\r\n\t\r\n\tif(hue==360){ hue=0; }\r\n\tsaturation/=100;\r\n\tvalue/=100;\r\n\t\r\n\tvar r, g, b;\r\n\tif(saturation==0){\r\n\t\tr=value, b=value, g=value;\r\n\t}else{\r\n\t\tvar hTemp=hue/60, i=Math.floor(hTemp), f=hTemp-i;\r\n\t\tvar p=value*(1-saturation);\r\n\t\tvar q=value*(1-(saturation*f));\r\n\t\tvar t=value*(1-(saturation*(1-f)));\r\n\t\tswitch(i){\r\n\t\t\tcase 0:{ r=value, g=t, b=p; break; }\r\n\t\t\tcase 1:{ r=q, g=value, b=p; break; }\r\n\t\t\tcase 2:{ r=p, g=value, b=t; break; }\r\n\t\t\tcase 3:{ r=p, g=q, b=value; break; }\r\n\t\t\tcase 4:{ r=t, g=p, b=value; break; }\r\n\t\t\tcase 5:{ r=value, g=p, b=q; break; }\r\n\t\t}\r\n\t}\r\n\treturn new Color({ r:Math.round(r*255), g:Math.round(g*255), b:Math.round(b*255) });\t//\tdojox.color.Color\r\n};\r\nlang.extend(Color,{\r\n\ttoCmy: function(){\r\n\t\t// summary:\r\n\t\t//\t\tConvert this Color to a CMY definition.\r\n\t\tvar cyan=1-(this.r/255), magenta=1-(this.g/255), yellow=1-(this.b/255);\r\n\t\treturn { c:Math.round(cyan*100), m:Math.round(magenta*100), y:Math.round(yellow*100) };\t\t//\tObject\r\n\t},\r\n\t\t\r\n\ttoCmyk: function(){\r\n\t\t// summary:\r\n\t\t//\t\tConvert this Color to a CMYK definition.\r\n\t\tvar cyan, magenta, yellow, black;\r\n\t\tvar r=this.r/255, g=this.g/255, b=this.b/255;\r\n\t\tblack = Math.min(1-r, 1-g, 1-b);\r\n\t\tcyan = (1-r-black)/(1-black);\r\n\t\tmagenta = (1-g-black)/(1-black);\r\n\t\tyellow = (1-b-black)/(1-black);\r\n\t\treturn { c:Math.round(cyan*100), m:Math.round(magenta*100), y:Math.round(yellow*100), b:Math.round(black*100) };\t//\tObject\r\n\t},\r\n\t\t\r\n\ttoHsl: function(){\r\n\t\t// summary:\r\n\t\t//\t\tConvert this Color to an HSL definition.\r\n\t\tvar r=this.r/255, g=this.g/255, b=this.b/255;\r\n\t\tvar min = Math.min(r, b, g), max = Math.max(r, g, b);\r\n\t\tvar delta = max-min;\r\n\t\tvar h=0, s=0, l=(min+max)/2;\r\n\t\tif(l>0 && l<1){\r\n\t\t\ts = delta/((l<0.5)?(2*l):(2-2*l));\r\n\t\t}\r\n\t\tif(delta>0){\r\n\t\t\tif(max==r && max!=g){\r\n\t\t\t\th+=(g-b)/delta;\r\n\t\t\t}\r\n\t\t\tif(max==g && max!=b){\r\n\t\t\t\th+=(2+(b-r)/delta);\r\n\t\t\t}\r\n\t\t\tif(max==b && max!=r){\r\n\t\t\t\th+=(4+(r-g)/delta);\r\n\t\t\t}\r\n\t\t\th*=60;\r\n\t\t}\r\n\t\treturn { h:h, s:Math.round(s*100), l:Math.round(l*100) };\t//\tObject\r\n\t},\r\n\t\r\n\ttoHsv: function(){\r\n\t\t// summary:\r\n\t\t//\t\tConvert this Color to an HSV definition.\r\n\t\tvar r=this.r/255, g=this.g/255, b=this.b/255;\r\n\t\tvar min = Math.min(r, b, g), max = Math.max(r, g, b);\r\n\t\tvar delta = max-min;\r\n\t\tvar h = null, s = (max==0)?0:(delta/max);\r\n\t\tif(s==0){\r\n\t\t\th = 0;\r\n\t\t}else{\r\n\t\t\tif(r==max){\r\n\t\t\t\th = 60*(g-b)/delta;\r\n\t\t\t}else if(g==max){\r\n\t\t\t\th = 120 + 60*(b-r)/delta;\r\n\t\t\t}else{\r\n\t\t\t\th = 240 + 60*(r-g)/delta;\r\n\t\t\t}\r\n\t\r\n\t\t\tif(h<0){ h+=360; }\r\n\t\t}\r\n\t\treturn { h:h, s:Math.round(s*100), v:Math.round(max*100) };\t//\tObject\r\n\t}\r\n});\r\n\r\nreturn cx;\r\n});\r\n"]}