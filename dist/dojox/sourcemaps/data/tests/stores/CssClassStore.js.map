{"version":3,"sources":["data/tests/stores/CssClassStore.js"],"names":["dojo","provide","require","dojox","data","tests","stores","CssClassStore","createStore","context","store","isBrowser","_loaded","style","text","head","doc","getElementsByTagName","link","document","createElement","href","toUrl","toString","rel","type","appendChild","isIE","createStyleSheet","cssText","createTextNode","verifyItems","cssClassStore","items","attribute","compareArray","length","i","getValue","error","t","d","errData","console","log","errback","doh","register","name","timeout","runTest","Deferred","fetch","query","class","onComplete","assertTrue","callback","onError","partial","setContext","request","is","classSans","done","e","onItem","item","count","onBegin","size","requestObj","isItem","dumpThirdFetch","dumpSecondFetch","start","assertEqual","label","getLabel","labelList","getLabelAttributes","isArray","values","getValues","hasAttribute","passed","containsValue","attributes","getAttributes","features","getFeatures","queryOptions","ignoreCase","sort","descending","debug","testStore","readApi","api","Read","charAt","testStoreMember","fetchItemByIdentity","identity","getIdentity","attrs","getIdentityAttributes"],"mappings":"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","file":"../../../../data/tests/stores/CssClassStore.js","sourcesContent":["dojo.provide(\"dojox.data.tests.stores.CssClassStore\");\r\ndojo.require(\"dojox.data.CssClassStore\");\r\ndojo.require(\"dojo.data.api.Read\");\r\ndojo.require(\"dojo.data.api.Identity\");\r\n\r\ndojox.data.tests.stores.CssClassStore.createStore = function(context){\r\n\t// summary:\r\n\t//\t\tA simple helper function for getting the sample data used in each of the tests.\r\n\t// description:\r\n\t//\t\tA simple helper function for getting the sample data used in each of the tests.\r\n\tvar store = null;\r\n\tif(dojo.isBrowser){\r\n\t\tif(!dojox.data.tests.stores.CssClassStore._loaded){\r\n\t\t\tvar head = dojo.doc.getElementsByTagName('head')[0];\r\n\t\t\tvar link = document.createElement('link');\r\n\t\t\tlink.href = require.toUrl('dojox/data/tests/stores/test1.css').toString();\r\n\t\t\tlink.rel = \"stylesheet\";\r\n\t\t\tlink.type = \"text/css\";\r\n\t\t\thead.appendChild(link);\r\n\t\t\tvar style;\r\n\t\t\tvar text;\r\n\t\t\tif(dojo.isIE){\r\n\t\t\t\tstyle = document.createStyleSheet();\r\n\t\t\t\tstyle.cssText = '@import \"'+require.toUrl('dojox/data/tests/stores/test2.css').toString()+'\";';\r\n\t\t\t}else{\r\n\t\t\t\tstyle = document.createElement('style');\r\n\t\t\t\ttext = document.createTextNode('@import \"'+require.toUrl('dojox/data/tests/stores/test2.css').toString()+'\";');\r\n\t\t\t\tstyle.appendChild(text);\r\n\t\t\t\thead.appendChild(style);\r\n\t\t\t}\r\n\t\t\tif(dojo.isIE){\r\n\t\t\t\tstyle = document.createStyleSheet();\r\n\t\t\t\tstyle.cssText = '.embeddedTestClass { text-align: center; }';\r\n\t\t\t}else{\r\n\t\t\t\tstyle = document.createElement('style');\r\n\t\t\t\ttext = document.createTextNode('.embeddedTestClass { text-align: center; }');\r\n\t\t\t\tstyle.appendChild(text);\r\n\t\t\t\thead.appendChild(style);\r\n\t\t\t}\r\n\t\t\tdojox.data.tests.stores.CssClassStore._loaded = true;\r\n\t\t}\r\n\t\tstore = new dojox.data.CssClassStore({context: context});\r\n\t}else{\r\n\t\t// When running tests in Rhino, xhrGet is not available,\r\n\t\t// so we have the file data in the code below.\r\n\t\t\r\n\t\t// TODO: What are the stipulations re: DOM ? Can I do the same as above?\r\n\t}\r\n\treturn store;\r\n};\r\n\r\ndojox.data.tests.stores.CssClassStore.verifyItems = function(cssClassStore, items, attribute, compareArray){\r\n\t// summary:\r\n\t//\t\tA helper function for validating that the items array is ordered\r\n\t//\t\tthe same as the compareArray\r\n\tif(items.length != compareArray.length){ return false; }\r\n\tfor(var i = 0; i < items.length; i++){\r\n\t\t// Safari is dumb, see comment in CssClassStore about bug in selectorText\r\n\t\tif(!(cssClassStore.getValue(items[i], attribute) === compareArray[i])){\r\n\t\t\treturn false; //Boolean\r\n\t\t}\r\n\t}\r\n\treturn true; //Boolean\r\n};\r\n\r\ndojox.data.tests.stores.CssClassStore.error = function(t, d, errData){\r\n\t// summary:\r\n\t//\t\tThe error callback function to be used for all of the tests.\r\n\tfor (var i in errData) {\r\n\t\tconsole.log(errData[i]);\r\n\t}\r\n\td.errback(errData);\r\n};\r\n\r\ndoh.register(\"dojox.data.tests.stores.CssClassStore\",\r\n\t[\r\n\t\t{\r\n\t\t\tname: \"testReadAPI_fetch\",\r\n\t\t\ttimeout:\t10000, //10 seconds.\r\n\t\t\trunTest: function(t) {\r\n\t\t\t\t// summary:\r\n\t\t\t\t//\t\tSimple test of a basic fetch on CssClassStore.\r\n\t\t\t\t// description:\r\n\t\t\t\t//\t\tSimple test of a basic fetch on CssClassStore.\r\n\t\t\t\tvar cssClassStore = dojox.data.tests.stores.CssClassStore.createStore();\r\n\r\n\t\t\t\tvar d = new doh.Deferred();\r\n\t\t\t\tfunction completedAll(items){\r\n\t\t\t\t\tt.assertTrue(items.length === 3);\r\n\t\t\t\t\td.callback(true);\r\n\t\t\t\t}\r\n\r\n\t\t\t\t//Get everything...\r\n\t\t\t\tcssClassStore.fetch({\r\n\t\t\t\t\tquery: {'class': '*TestClass'},\r\n\t\t\t\t\tonComplete: completedAll,\r\n\t\t\t\t\tonError: dojo.partial(dojox.data.tests.stores.CssClassStore.error, t, d)\r\n\t\t\t\t});\r\n\t\t\t\treturn d; //Object\r\n\t\t\t}\r\n\t\t},\r\n\t\tfunction testReadAPI_fetch_all(t){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tSimple test of a basic fetch on CssClassStore.\r\n\t\t\t// description:\r\n\t\t\t//\t\tSimple test of a basic fetch on CssClassStore.\r\n\t\t\tvar cssClassStore = dojox.data.tests.stores.CssClassStore.createStore(['dojox/data/tests/stores/test1.css', 'dojox/data/tests/stores/test2.css']);\r\n\t\t\t\r\n\t\t\tvar d = new doh.Deferred();\r\n\t\t\tfunction completedAll(items){\r\n\t\t\t\tt.assertTrue(items.length === 3);\r\n\t\t\t\td.callback(true);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t//Get everything...\r\n\t\t\tcssClassStore.fetch({\r\n\t\t\t\tonComplete: completedAll,\r\n\t\t\t\tonError: dojo.partial(dojox.data.tests.stores.CssClassStore.error, t, d)\r\n\t\t\t});\r\n\t\t\treturn d; //Object\r\n\t\t},\r\n\t\tfunction testReadAPI_fetch_withinContext(t){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tSimple test of a basic fetch on CssClassStore.\r\n\t\t\t// description:\r\n\t\t\t//\t\tSimple test of a basic fetch on CssClassStore.\r\n\t\t\t\r\n\t\t\t//dojox.data.tests.stores.CssClassStore.loadStylesheets();\r\n\t\t\tvar cssClassStore = dojox.data.tests.stores.CssClassStore.createStore(['dojox/data/tests/stores/test1.css']);\r\n\t\t\t\r\n\t\t\tvar d = new doh.Deferred();\r\n\t\t\tfunction completedAll(items){\r\n\t\t\t\tt.assertTrue(items.length === 1);\r\n\t\t\t\td.callback(true);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t//Get everything...\r\n\t\t\tcssClassStore.fetch({\r\n\t\t\t\tquery: {'class': '*TestClass'},\r\n\t\t\t\tonComplete: completedAll,\r\n\t\t\t\tonError: dojo.partial(dojox.data.tests.stores.CssClassStore.error, t, d)\r\n\t\t\t});\r\n\t\t\treturn d; //Object\r\n\t\t},\r\n\t\tfunction testReadAPI_fetch_withinMultipleSheetContext(t){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tSimple test of a basic fetch on CssClassStore.\r\n\t\t\t// description:\r\n\t\t\t//\t\tSimple test of a basic fetch on CssClassStore.\r\n\t\t\r\n\t\t\t//dojox.data.tests.stores.CssClassStore.loadStylesheets();\r\n\t\t\tvar cssClassStore = dojox.data.tests.stores.CssClassStore.createStore(['dojox/data/tests/stores/test1.css', 'dojox/data/tests/stores/test2.css']);\r\n\t\t\t\r\n\t\t\tvar d = new doh.Deferred();\r\n\t\t\tfunction completedAll(items){\r\n\t\t\t\tt.assertTrue(items.length === 2);\r\n\t\t\t\td.callback(true);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t//Get everything...\r\n\t\t\tcssClassStore.fetch({\r\n\t\t\t\tquery: {'class': '*TestClass'},\r\n\t\t\t\tonComplete: completedAll,\r\n\t\t\t\tonError: dojo.partial(dojox.data.tests.stores.CssClassStore.error, t, d)\r\n\t\t\t});\r\n\t\t\treturn d; //Object\r\n\t\t},\r\n\t\tfunction testReadAPI_fetch_switchContext(t){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tSimple test of a basic fetch on CssClassStore.\r\n\t\t\t// description:\r\n\t\t\t//\t\tSimple test of a basic fetch on CssClassStore.\r\n\t\t\t\r\n\t\t\t//dojox.data.tests.stores.CssClassStore.loadStylesheets();\r\n\t\t\tvar cssClassStore = dojox.data.tests.stores.CssClassStore.createStore(['dojox/data/tests/stores/test1.css', 'dojox/data/tests/stores/test2.css']);\r\n\t\t\t\r\n\t\t\tvar d = new doh.Deferred();\r\n\t\t\tfunction completedAll(items){\r\n\t\t\t\tt.assertTrue(items.length === 2);\r\n\r\n\t\t\t\tfunction completedAllTwo(items){\r\n\t\t\t\t\tt.assertTrue(items.length === 1);\r\n\t\t\t\t\td.callback(true);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tcssClassStore.setContext(['dojox/data/tests/stores/test1.css']);\r\n\t\t\t\tcssClassStore.fetch({\r\n\t\t\t\t\tquery: {'class': '*TestClass'},\r\n\t\t\t\t\tonComplete: completedAllTwo,\r\n\t\t\t\t\tonError: dojo.partial(dojox.data.tests.stores.CssClassStore.error, t, d)\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t//Get everything...\r\n\t\t\tcssClassStore.fetch({\r\n\t\t\t\tquery: {'class': '*TestClass'},\r\n\t\t\t\tonComplete: completedAll,\r\n\t\t\t\tonError: dojo.partial(dojox.data.tests.stores.CssClassStore.error, t, d)\r\n\t\t\t});\r\n\t\t\treturn d; //Object\r\n\t\t},\r\n\t\tfunction testReadAPI_fetch_one(t){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tSimple test of a basic fetch on CsvStore of a single item.\r\n\t\t\t// description:\r\n\t\t\t//\t\tSimple test of a basic fetch on CsvStore of a single item.\r\n\t\t\tvar cssClassStore = dojox.data.tests.stores.CssClassStore.createStore();\r\n\t\t\t\r\n\t\t\tvar d = new doh.Deferred();\r\n\t\t\tfunction onComplete(items, request){\r\n\t\t\t\tt.is(1, items.length);\r\n\t\t\t\td.callback(true);\r\n\t\t\t}\r\n\t\t\tcssClassStore.fetch({\r\n\t\t\t\tquery: {'class': '.linkTestClass'},\r\n\t\t\t\tonComplete: onComplete,\r\n\t\t\t\tonError: dojo.partial(dojox.data.tests.stores.CssClassStore.error, t, d)\r\n\t\t\t});\r\n\t\t\treturn d; //Object\r\n\t\t},\r\n\t\tfunction testReadAPI_fetch_one_sans(t){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tSimple test of a basic fetch on CsvStore of a single item.\r\n\t\t\t// description:\r\n\t\t\t//\t\tSimple test of a basic fetch on CsvStore of a single item.\r\n\t\t\tvar cssClassStore = dojox.data.tests.stores.CssClassStore.createStore();\r\n\t\t\t\r\n\t\t\tvar d = new doh.Deferred();\r\n\t\t\tfunction onComplete(items, request){\r\n\t\t\t\tt.is(1, items.length);\r\n\t\t\t\td.callback(true);\r\n\t\t\t}\r\n\t\t\tcssClassStore.fetch({\r\n\t\t\t\tquery: {'classSans': 'linkTestClass'},\r\n\t\t\t\tonComplete: onComplete,\r\n\t\t\t\tonError: dojo.partial(dojox.data.tests.stores.CssClassStore.error, t, d)\r\n\t\t\t});\r\n\t\t\treturn d; //Object\r\n\t\t},\r\n\t\tfunction testReadAPI_fetch_Multiple(t){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tSimple test of a basic fetch on CsvStore of a single item.\r\n\t\t\t// description:\r\n\t\t\t//\t\tSimple test of a basic fetch on CsvStore of a single item.\r\n\t\t\tvar cssClassStore = dojox.data.tests.stores.CssClassStore.createStore();\r\n\t\t\t\r\n\t\t\tvar d = new doh.Deferred();\r\n\t\t\tvar done = [false, false];\r\n\r\n\t\t\tfunction onCompleteOne(items, request){\r\n\t\t\t\tdone[0] = true;\r\n\t\t\t\tt.is(1, items.length);\r\n\t\t\t\tif(done[0] && done[1]){\r\n\t\t\t\t\td.callback(true);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tfunction onCompleteTwo(items, request){\r\n\t\t\t\tdone[1] = true;\r\n\t\t\t\tt.is(1, items.length);\r\n\t\t\t\tif(done[0] && done[1]){\r\n\t\t\t\t\td.callback(true);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\ttry{\r\n\t\t\t\tcssClassStore.fetch({\r\n\t\t\t\t\tquery: {'class': '.embeddedTestClass'},\r\n\t\t\t\t\tonComplete: onCompleteOne,\r\n\t\t\t\t\tonError: dojo.partial(dojox.data.tests.stores.CssClassStore.error, t, d)\r\n\t\t\t\t});\r\n\t\t\t\tcssClassStore.fetch({\r\n\t\t\t\t\tquery: {'class': '.linkTestClass'},\r\n\t\t\t\t\tonComplete: onCompleteTwo,\r\n\t\t\t\t\tonError: dojo.partial(dojox.data.tests.stores.CssClassStore.error, t, d)\r\n\t\t\t\t});\r\n\t\t\t}catch(e){\r\n\t\t\t\tfor(var i in e){\r\n\t\t\t\t\tconsole.log(e[i]);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\treturn d; //Object\r\n\t\t},\r\n\t\tfunction testReadAPI_fetch_MultipleMixed(t){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tSimple test of a basic fetch on CsvStore of a single item.\r\n\t\t\t// description:\r\n\t\t\t//\t\tSimple test of a basic fetch on CsvStore of a single item.\r\n\t\t\tvar cssClassStore = dojox.data.tests.stores.CssClassStore.createStore();\r\n\t\t\t\r\n\t\t\tvar d = new doh.Deferred();\r\n\r\n\t\t\tvar done = [false, false];\r\n\t\t\tfunction onComplete(items, request){\r\n\t\t\t\tdone[0] = true;\r\n\t\t\t\tt.is(1, items.length);\r\n\t\t\t\tt.is('.linkTestClass', cssClassStore.getValue(items[0], 'class'));\r\n\t\t\t\tif(done[0] && done[1]){\r\n\t\t\t\t\td.callback(true);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tfunction onItem(item){\r\n\t\t\t\tdone[1] = true;\r\n\t\t\t\tt.assertTrue(item !== null);\r\n\t\t\t\tt.is('.embeddedTestClass', cssClassStore.getValue(item, 'class'));\r\n\t\t\t\tif(done[0] && done[1]){\r\n\t\t\t\t\td.callback(true);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tcssClassStore.fetch({\r\n\t\t\t\tquery: {'class': '.linkTestClass'},\r\n\t\t\t\tonComplete: onComplete,\r\n\t\t\t\tonError: dojo.partial(dojox.data.tests.stores.CssClassStore.error, t, d)\r\n\t\t\t});\r\n\t\t\t\r\n\t\t\tcssClassStore.fetch({\r\n\t\t\t\tquery: {'classSans': 'embeddedTestClass'},\r\n\t\t\t\tonItem: onItem,\r\n\t\t\t\tonError: dojo.partial(dojox.data.tests.stores.CssClassStore.error, t, d)\r\n\t\t\t});\r\n\t\t\treturn d; //Object\r\n\t\t},\r\n\t\tfunction testReadAPI_fetch_all_streaming(t){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tSimple test of a basic fetch on CsvStore.\r\n\t\t\t// description:\r\n\t\t\t//\t\tSimple test of a basic fetch on CsvStore.\r\n\t\t\tvar cssClassStore = dojox.data.tests.stores.CssClassStore.createStore();\r\n\r\n\t\t\tvar d = new doh.Deferred();\r\n\t\t\tvar count = 0;\r\n\r\n\t\t\tfunction onBegin(size, requestObj){\r\n\t\t\t\tt.assertTrue(size === 3);\r\n\t\t\t}\r\n\t\t\tfunction onItem(item, requestObj){\r\n\t\t\t\tt.assertTrue(cssClassStore.isItem(item));\r\n\t\t\t\tcount++;\r\n\t\t\t}\r\n\t\t\tfunction onComplete(items, request){\r\n\t\t\t\tt.is(3, count);\r\n\t\t\t\tt.is(null, items);\r\n\t\t\t    d.callback(true);\r\n\t\t\t}\r\n\r\n\t\t\t//Get everything...\r\n\t\t\tcssClassStore.fetch({\r\n\t\t\t\tquery: {'class': '*TestClass'},\r\n\t\t\t\tonBegin: onBegin,\r\n\t\t\t\tonItem: onItem,\r\n\t\t\t\tonComplete: onComplete,\r\n\t\t\t\tonError: dojo.partial(dojox.data.tests.stores.CssClassStore.error, t, d)\r\n\t\t\t});\r\n\t\t\treturn d; //Object\r\n\t\t},\r\n\t\tfunction testReadAPI_fetch_paging(t){\r\n\t\t\t // summary:\r\n\t\t\t //\t\tTest of multiple fetches on a single result.  Paging, if you will.\r\n\t\t\t // description:\r\n\t\t\t //\t\tTest of multiple fetches on a single result.  Paging, if you will.\r\n\t\t\tvar cssClassStore = dojox.data.tests.stores.CssClassStore.createStore();\r\n\t\t\t\r\n\t\t\tvar d = new doh.Deferred();\r\n\r\n\t\t\tfunction dumpThirdFetch(items, request){\r\n\t\t\t\tt.is(2, items.length);\r\n\t\t\t    d.callback(true);\r\n\t\t\t}\r\n\r\n\t\t\tfunction dumpSecondFetch(items, request){\r\n\t\t\t\tt.is(1, items.length);\r\n\t\t\t\tt.is('.embeddedTestClass', cssClassStore.getValue(items[0], 'class'));\r\n\t\t\t\trequest.start = 0;\r\n\t\t\t\trequest.count = 2;\r\n\t\t\t\trequest.onComplete = dumpThirdFetch;\r\n\t\t\t\tcssClassStore.fetch(request);\r\n\t\t\t}\r\n\r\n\t\t\tfunction dumpFirstFetch(items, request){\r\n\t\t\t\tt.is(3, items.length);\r\n\t\t\t\trequest.start = 2;\r\n\t\t\t\trequest.count = 1;\r\n\t\t\t\trequest.onComplete = dumpSecondFetch;\r\n\t\t\t\tcssClassStore.fetch(request);\r\n\t\t\t}\r\n\r\n\t\t\tcssClassStore.fetch({\r\n\t\t\t\tquery: {'class': '*TestClass'},\r\n\t\t\t\tonComplete: dumpFirstFetch,\r\n\t\t\t\tonError: dojo.partial(dojox.data.tests.stores.CssClassStore.error, t, d)\r\n\t\t\t});\r\n\t\t\treturn d; //Object\r\n\r\n\t\t},\r\n\t\t\r\n\t\tfunction testReadAPI_getLabel(t){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tSimple test of the getLabel function against a store set that has a label defined.\r\n\t\t\t// description:\r\n\t\t\t//\t\tSimple test of the getLabel function against a store set that has a label defined.\r\n\t\t\tvar cssClassStore = dojox.data.tests.stores.CssClassStore.createStore();\r\n\t\t\t\r\n\t\t\tvar d = new doh.Deferred();\r\n\t\t\tfunction onComplete(items, request){\r\n\t\t\t\tt.assertEqual(items.length, 1);\r\n\t\t\t\tvar label = cssClassStore.getLabel(items[0]);\r\n\t\t\t\tt.assertTrue(label !== null);\r\n\t\t\t\tt.assertEqual(\".linkTestClass\", label);\r\n\t\t\t\td.callback(true);\r\n\t\t\t}\r\n\t\t\tcssClassStore.fetch({\r\n\t\t\t\tquery: {'classSans': 'linkTestClass'},\r\n\t\t\t\tonComplete: onComplete,\r\n\t\t\t\tonError: dojo.partial(dojox.data.tests.stores.CssClassStore.error, t, d)\r\n\t\t\t});\r\n\t\t\treturn d;\r\n\t\t},\r\n\t\tfunction testReadAPI_getLabelAttributes(t){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tSimple test of the getLabelAttributes function against a store set that has a label defined.\r\n\t\t\t// description:\r\n\t\t\t//\t\tSimple test of the getLabelAttributes function against a store set that has a label defined.\r\n\t\t\tvar cssClassStore = dojox.data.tests.stores.CssClassStore.createStore();\r\n\t\t\t\r\n\t\t\tvar d = new doh.Deferred();\r\n\t\t\tfunction onComplete(items, request){\r\n\t\t\t\tt.assertEqual(items.length, 1);\r\n\t\t\t\tvar labelList = cssClassStore.getLabelAttributes(items[0]);\r\n\t\t\t\tt.assertTrue(dojo.isArray(labelList));\r\n\t\t\t\tt.assertEqual(\"class\", labelList[0]);\r\n\t\t\t\td.callback(true);\r\n\t\t\t}\r\n\t\t\tcssClassStore.fetch({\r\n\t\t\t\tquery: {'classSans': 'linkTestClass'},\r\n\t\t\t\tonComplete: onComplete,\r\n\t\t\t\tonError: dojo.partial(dojox.data.tests.stores.CssClassStore.error, t, d)\r\n\t\t\t});\r\n\t\t\treturn d;\r\n\t\t},\r\n\t\tfunction testReadAPI_getValue(t){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tSimple test of the getValue function of the store.\r\n\t\t\t// description:\r\n\t\t\t//\t\tSimple test of the getValue function of the store.\r\n\t\t\tvar cssClassStore = dojox.data.tests.stores.CssClassStore.createStore();\r\n\r\n\t\t\tvar d = new doh.Deferred();\r\n\t\t\tfunction onItem(item){\r\n\t\t\t\tt.assertTrue(item !== null);\r\n\t\t\t\tt.is('.linkTestClass', cssClassStore.getValue(item,'class'));\r\n\t\t\t\tt.is('linkTestClass', cssClassStore.getValue(item,'classSans'));\r\n\t\t\t\td.callback(true);\r\n\t\t\t}\r\n\t\t\tcssClassStore.fetch({\r\n\t\t\t\tquery: {'classSans': 'linkTestClass'},\r\n\t\t\t\tonItem: onItem,\r\n\t\t\t\tonError: dojo.partial(dojox.data.tests.stores.CssClassStore.error, t, d)\r\n\t\t\t});\r\n\t\t\treturn d;\r\n\t\t},\r\n\t\tfunction testReadAPI_getValue_2(t){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tSimple test of the getValue function of the store.\r\n\t\t\t// description:\r\n\t\t\t//\t\tSimple test of the getValue function of the store.\r\n\t\t\tvar cssClassStore = dojox.data.tests.stores.CssClassStore.createStore();\r\n\r\n\t\t\tvar d = new doh.Deferred();\r\n\t\t\tfunction onItem(item){\r\n\t\t\t\tt.assertTrue(item !== null);\r\n\t\t\t\tt.is('.importTestClass', cssClassStore.getValue(item,'class'));\r\n\t\t\t\tt.is('importTestClass', cssClassStore.getValue(item,'classSans'));\r\n\t\t\t\td.callback(true);\r\n\t\t\t}\r\n\t\t\tcssClassStore.fetch({\r\n\t\t\t\tquery: {'classSans': 'importTestClass'},\r\n\t\t\t\tonItem: onItem,\r\n\t\t\t\tonError: dojo.partial(dojox.data.tests.stores.CssClassStore.error, t, d)\r\n\t\t\t});\r\n\t\t\treturn d;\r\n\t\t},\r\n\t\tfunction testReadAPI_getValues(t){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tSimple test of the getValues function of the store.\r\n\t\t\t// description:\r\n\t\t\t//\t\tSimple test of the getValues function of the store.\r\n\t\t\tvar cssClassStore = dojox.data.tests.stores.CssClassStore.createStore();\r\n\r\n\t\t\tvar d = new doh.Deferred();\r\n\t\t\tfunction onItem(item){\r\n\t\t\t\tt.assertTrue(item !== null);\r\n\t\t\t\tvar values = cssClassStore.getValues(item,'class');\r\n\t\t\t\tt.assertTrue(dojo.isArray(values));\r\n\t\t\t\tt.is(1, values.length);\r\n\t\t\t\tt.is('.embeddedTestClass', values[0]);\r\n\t\t\t\td.callback(true);\r\n\t\t\t}\r\n\t\t\tcssClassStore.fetch({\r\n\t\t\t\tquery: {'classSans': 'embeddedTestClass'},\r\n\t\t\t\tonItem: onItem,\r\n\t\t\t\tonError: dojo.partial(dojox.data.tests.stores.CssClassStore.error, t, d)\r\n\t\t\t});\r\n\t\t\treturn d;\r\n\t\t},\r\n\t\tfunction testReadAPI_isItem(t){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tSimple test of the isItem function of the store\r\n\t\t\t// description:\r\n\t\t\t//\t\tSimple test of the isItem function of the store\r\n\t\t\tvar cssClassStore = dojox.data.tests.stores.CssClassStore.createStore();\r\n\r\n\t\t\tvar d = new doh.Deferred();\r\n\t\t\tfunction onItem(item){\r\n\t\t\t\tt.assertTrue(cssClassStore.isItem(item));\r\n\t\t\t\tt.assertTrue(!cssClassStore.isItem({}));\r\n\t\t\t\tt.assertTrue(!cssClassStore.isItem({ item: \"not an item\" }));\r\n\t\t\t\tt.assertTrue(!cssClassStore.isItem(\"not an item\"));\r\n\t\t\t\tt.assertTrue(!cssClassStore.isItem([\"not an item\"]));\r\n\t\t\t\td.callback(true);\r\n\t\t\t}\r\n\t\t\tcssClassStore.fetch({\r\n\t\t\t\tquery: {'classSans': 'embeddedTestClass'},\r\n\t\t\t\tonItem: onItem,\r\n\t\t\t\tonError: dojo.partial(dojox.data.tests.stores.CssClassStore.error, t, d)\r\n\t\t\t});\r\n\t\t\treturn d;\r\n\t\t},\r\n\t\tfunction testReadAPI_hasAttribute(t){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tSimple test of the hasAttribute function of the store\r\n\t\t\t// description:\r\n\t\t\t//\t\tSimple test of the hasAttribute function of the store\r\n\t\t\tvar cssClassStore = dojox.data.tests.stores.CssClassStore.createStore();\r\n\r\n\t\t\tvar d = new doh.Deferred();\r\n\t\t\tfunction onItem(item){\r\n\t\t\t\tt.assertTrue(item !== null);\r\n\t\t\t\tt.assertTrue(cssClassStore.hasAttribute(item, 'class'));\r\n\t\t\t\tt.assertTrue(cssClassStore.hasAttribute(item, 'classSans'));\r\n\t\t\t\tt.assertTrue(!cssClassStore.hasAttribute(item, \"Year\"));\r\n\t\t\t\tt.assertTrue(!cssClassStore.hasAttribute(item, \"Nothing\"));\r\n\t\t\t\tt.assertTrue(!cssClassStore.hasAttribute(item, \"title\"));\r\n\r\n\t\t\t\t//Test that null attributes throw an exception\r\n\t\t\t\tvar passed = false;\r\n\t\t\t\ttry{\r\n\t\t\t\t\tcssClassStore.hasAttribute(item, null);\r\n\t\t\t\t}catch (e){\r\n\t\t\t\t\tpassed = true;\r\n\t\t\t\t}\r\n\t\t\t\tt.assertTrue(passed);\r\n\t\t\t\td.callback(true);\r\n\t\t\t}\r\n\t\t\tcssClassStore.fetch({\r\n\t\t\t\tquery: {'classSans': 'embeddedTestClass'},\r\n\t\t\t\tonItem: onItem,\r\n\t\t\t\tonError: dojo.partial(dojox.data.tests.stores.CssClassStore.error, t, d)\r\n\t\t\t});\r\n\t\t\treturn d;\r\n\t\t},\r\n\t\tfunction testReadAPI_containsValue(t){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tSimple test of the containsValue function of the store\r\n\t\t\t// description:\r\n\t\t\t//\t\tSimple test of the containsValue function of the store\r\n\t\t\tvar cssClassStore = dojox.data.tests.stores.CssClassStore.createStore();\r\n \t\t\t\r\n\t\t\tvar d = new doh.Deferred();\r\n\t\t\tfunction onItem(item){\r\n\t\t\t\tt.assertTrue(item !== null);\r\n\t\t\t\tt.assertTrue(cssClassStore.containsValue(item, 'class', '.embeddedTestClass'));\r\n\t\t\t\tt.assertTrue(cssClassStore.containsValue(item, 'classSans', 'embeddedTestClass'));\r\n\t\t\t\tt.assertTrue(!cssClassStore.containsValue(item, 'class', '.embeddedTestClass2'));\r\n\t\t\t\tt.assertTrue(!cssClassStore.containsValue(item, 'classSans', 'embeddedTestClass\t'));\r\n\t\t\t\tt.assertTrue(!cssClassStore.containsValue(item, 'class', null));\r\n\r\n\t\t\t\t//Test that null attributes throw an exception\r\n\t\t\t\tvar passed = false;\r\n\t\t\t\ttry{\r\n\t\t\t\t\tcssClassStore.containsValue(item, null, \"foo\");\r\n\t\t\t\t}catch (e){\r\n\t\t\t\t\tpassed = true;\r\n\t\t\t\t}\r\n\t\t\t\tt.assertTrue(passed);\r\n\t\t\t\td.callback(true);\r\n\t\t\t}\r\n\t\t\tcssClassStore.fetch({\r\n\t\t\t\tquery: {'classSans': 'embeddedTestClass'},\r\n\t\t\t\tonItem: onItem,\r\n\t\t\t\tonError: dojo.partial(dojox.data.tests.stores.CssClassStore.error, t, d)\r\n\t\t\t});\r\n\t\t\treturn d;\r\n\t\t},\r\n\t\tfunction testReadAPI_getAttributes(t){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tSimple test of the getAttributes function of the store\r\n\t\t\t// description:\r\n\t\t\t//\t\tSimple test of the getAttributes function of the store\r\n\t\t\tvar cssClassStore = dojox.data.tests.stores.CssClassStore.createStore();\r\n\r\n\t\t\tvar d = new doh.Deferred();\r\n\t\t\tfunction onItem(item){\r\n\t\t\t\tt.assertTrue(item !== null);\r\n\t\t\t\tt.assertTrue(cssClassStore.isItem(item));\r\n\r\n\t\t\t\tvar attributes = cssClassStore.getAttributes(item);\r\n\t\t\t\tt.is(2, attributes.length);\r\n\t\t\t\tfor(var i = 0; i < attributes.length; i++){\r\n\t\t\t\t\tt.assertTrue((attributes[i] === 'class' || attributes[i] === 'classSans'));\r\n\t\t\t\t}\r\n\t\t\t\td.callback(true);\r\n\t\t\t}\r\n\t\t\tcssClassStore.fetch({\r\n\t\t\t\tquery: {'classSans': 'embeddedTestClass'},\r\n\t\t\t\tonItem: onItem,\r\n\t\t\t\tonError: dojo.partial(dojox.data.tests.stores.CssClassStore.error, t, d)\r\n\t\t\t});\r\n\t\t\treturn d;\r\n\t\t},\r\n\t\tfunction testReadAPI_getFeatures(t){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tSimple test of the getFeatures function of the store\r\n\t\t\t// description:\r\n\t\t\t//\t\tSimple test of the getFeatures function of the store\r\n\t\t\tvar cssClassStore = dojox.data.tests.stores.CssClassStore.createStore();\r\n\r\n\t\t\tvar features = cssClassStore.getFeatures();\r\n\t\t\tvar count = 0;\r\n\t\t\tfor(var i in features){\r\n\t\t\t\tt.assertTrue(i === \"dojo.data.api.Read\" || i === \"dojo.data.api.Identity\");\r\n\t\t\t\tcount++;\r\n\t\t\t}\r\n\t\t\tt.assertTrue(count === 2);\r\n\t\t},\r\n\t\tfunction testReadAPI_fetch_patternMatch0(t){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tFunction to test pattern matching of everything swith Cla in it\r\n\t\t\t// description:\r\n\t\t\t//\t\tFunction to test pattern matching of everything with Cla in it\r\n\t\t\tvar cssClassStore = dojox.data.tests.stores.CssClassStore.createStore();\r\n\t\t\tvar d = new doh.Deferred();\r\n\t\t\tfunction completed(items, request){\r\n\t\t\t\tt.is(3, items.length);\r\n\t\t\t\tvar valueArray = ['linkTestClass', 'importTestClass', 'embeddedTestClass'];\r\n\t\t\t\tt.assertTrue(dojox.data.tests.stores.CssClassStore.verifyItems(cssClassStore, items, 'classSans', valueArray));\r\n\t\t\t\td.callback(true);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tcssClassStore.fetch({\r\n\t\t\t\tquery: {'class': '*TestCla**'},\r\n\t\t\t\tonComplete: completed,\r\n\t\t\t\tonError: dojo.partial(dojox.data.tests.stores.CssClassStore.error, t, d)\r\n\t\t\t});\r\n\t\t\treturn d; //Object\r\n\t\t},\r\n\t\tfunction testReadAPI_fetch_patternMatch_caseInsensitive(t){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tFunction to test exact pattern match with case insensitivity set.\r\n\t\t\t// description:\r\n\t\t\t//\t\tFunction to test exact pattern match with case insensitivity set.\r\n\t\t\tvar cssClassStore = dojox.data.tests.stores.CssClassStore.createStore();\r\n\t\t\tvar d = new doh.Deferred();\r\n\t\t\tfunction completed(items, request){\r\n\t\t\t\tt.is(1, items.length);\r\n\t\t\t\tt.assertTrue(cssClassStore.getValue(items[0], 'class') === '.linkTestClass');\r\n\t\t\t\td.callback(true);\r\n\t\t\t}\r\n\r\n\t\t\tcssClassStore.fetch({\r\n\t\t\t\tquery: {'class': '.LINKtEsTclass'},\r\n\t\t\t\tqueryOptions: {ignoreCase: true},\r\n\t\t\t\tonComplete: completed,\r\n\t\t\t\tonError: dojo.partial(dojox.data.tests.stores.CssClassStore.error, t, d)\r\n\t\t\t});\r\n\t\t\treturn d; //Object\r\n\t\t},\r\n\t\tfunction testReadAPI_fetch_patternMatch_caseSensitive(t){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tFunction to test exact pattern match with case insensitivity set.\r\n\t\t\t// description:\r\n\t\t\t//\t\tFunction to test exact pattern match with case insensitivity set.\r\n\t\t\tvar cssClassStore = dojox.data.tests.stores.CssClassStore.createStore();\r\n\t\t\tvar d = new doh.Deferred();\r\n\t\t\tfunction completed(items, request){\r\n\t\t\t\tt.is(0, items.length);\r\n\t\t\t\td.callback(true);\r\n\t\t\t}\r\n\r\n\t\t\tcssClassStore.fetch({\r\n\t\t\t\tquery: {'class': '.LINKtEsTclass'},\r\n\t\t\t\tqueryOptions: {ignoreCase: false},\r\n\t\t\t\tonComplete: completed,\r\n\t\t\t\tonError: dojo.partial(dojox.data.tests.stores.CssClassStore.error, t, d)\r\n\t\t\t});\r\n\t\t\treturn d; //Object\r\n\t\t},\r\n\t\tfunction testReadAPI_fetch_sortAlphabetic(t){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tFunction to test sorting alphabetic ordering.\r\n\t\t\t// description:\r\n\t\t\t//\t\tFunction to test sorting alphabetic ordering.\r\n\t\t\tvar cssClassStore = dojox.data.tests.stores.CssClassStore.createStore();\r\n\t\t\tvar d = new doh.Deferred();\r\n\t\t\tfunction completed(items, request){\r\n\t\t\t\t//Output should be in this order...\r\n\t\t\t\tvar orderedArray = [ \t'.embeddedTestClass',\r\n\t\t\t\t\t\t\t\t\t\t'.importTestClass',\r\n\t\t\t\t\t\t\t\t\t\t'.linkTestClass'\r\n\t\t\t\t];\r\n\t\t\t\tt.is(3, items.length);\r\n\t\t\t\tt.assertTrue(dojox.data.tests.stores.CssClassStore.verifyItems(cssClassStore, items, 'class', orderedArray));\r\n\t\t\t\td.callback(true);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tvar sortAttributes = [{attribute: 'class'}];\r\n\t\t\tcssClassStore.fetch({\r\n\t\t\t\tquery: {'class': '*TestClass'},\r\n\t\t\t\tsort: sortAttributes,\r\n\t\t\t\tonComplete: completed,\r\n\t\t\t\tonError: dojo.partial(dojox.data.tests.stores.CssClassStore.error, t, d)\r\n\t\t\t});\r\n\t\t\treturn d; //Object\r\n\t\t},\r\n\t\tfunction testReadAPI_fetch_sortAlphabeticDescending(t){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tFunction to test sorting alphabetic ordering in descending mode.\r\n\t\t\t// description:\r\n\t\t\t//\t\tFunction to test sorting alphabetic ordering in descending mode.\r\n\t\t\tvar cssClassStore = dojox.data.tests.stores.CssClassStore.createStore();\r\n\t\t\tvar d = new doh.Deferred();\r\n\r\n\r\n\t\t\tfunction completed(items, request){\r\n\t\t\t\t//Output should be in this order...\r\n\t\t\t\tvar orderedArray = [ \t'linkTestClass',\r\n\t\t\t\t\t\t\t\t\t\t'importTestClass',\r\n\t\t\t\t\t\t\t\t\t\t'embeddedTestClass'\r\n\t\t\t\t\t];\r\n\r\n\t\t\t\tconsole.debug(items);\r\n\r\n\t\t\t\tt.is(3, items.length);\r\n\t\t\t\tt.assertTrue(dojox.data.tests.stores.CssClassStore.verifyItems(cssClassStore, items, 'classSans', orderedArray));\r\n\t\t\t\td.callback(true);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tvar sortAttributes = [{attribute: \"classSans\", descending: true}];\r\n\t\t\tcssClassStore.fetch({\r\n\t\t\t\tquery: {'class': '*TestClass'},\r\n\t\t\t\tsort: sortAttributes,\r\n\t\t\t\tonComplete: completed,\r\n\t\t\t\tonError: dojo.partial(dojox.data.tests.stores.CssClassStore.error, t, d)\r\n\t\t\t});\r\n\t\t\treturn d; //Object\r\n\t\t},\r\n\t\tfunction testReadAPI_functionConformance(t){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tSimple test read API conformance.  Checks to see all declared functions are actual functions on the instances.\r\n\t\t\t// description:\r\n\t\t\t//\t\tSimple test read API conformance.  Checks to see all declared functions are actual functions on the instances.\r\n\t\t\tvar testStore = dojox.data.tests.stores.CssClassStore.createStore();\r\n\t\t\tvar readApi = new dojo.data.api.Read();\r\n\t\t\tvar passed = true;\r\n\r\n\t\t\tfor(var i in readApi){\r\n\t\t\t\tif(i.toString().charAt(0) !== '_')\r\n\t\t\t\t{\r\n\t\t\t\t\tvar member = readApi[i];\r\n\t\t\t\t\t//Check that all the 'Read' defined functions exist on the test store.\r\n\t\t\t\t\tif(typeof member === \"function\"){\r\n\t\t\t\t\t\tconsole.log(\"Looking at function: [\" + i + \"]\");\r\n\t\t\t\t\t\tvar testStoreMember = testStore[i];\r\n\t\t\t\t\t\tif(!(typeof testStoreMember === \"function\")){\r\n\t\t\t\t\t\t\tconsole.log(\"Problem with function: [\" + i + \"].   Got value: \" + testStoreMember);\r\n\t\t\t\t\t\t\tpassed = false;\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tt.assertTrue(passed);\r\n\t\t},\r\n\t\tfunction testIdentityAPI_fetchItemByIdentity(t){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tSimple test of the fetchItemByIdentity function of the store.\r\n\t\t\t// description:\r\n\t\t\t//\t\tSimple test of the fetchItemByIdentity function of the store.\r\n\t\t\tvar cssClassStore = dojox.data.tests.stores.CssClassStore.createStore();\r\n\t\t\t\r\n\t\t\tvar d = new doh.Deferred();\r\n\t\t\tfunction onItem(item){\r\n\t\t\t\tt.assertTrue(item !== null);\r\n\t\t\t\td.callback(true);\r\n\t\t\t}\r\n\t\t\tcssClassStore.fetchItemByIdentity({\r\n\t\t\t\tidentity: \".linkTestClass\",\r\n\t\t\t\tonItem: onItem,\r\n\t\t\t\tonError: dojo.partial(dojox.data.tests.stores.CssClassStore.error, t, d)\r\n\t\t\t});\r\n\t\t\treturn d;\r\n\t\t},\r\n\t\tfunction testIdentityAPI_fetchItemByIdentity_bad1(t){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tSimple test of the fetchItemByIdentity function of the store.\r\n\t\t\t// description:\r\n\t\t\t//\t\tSimple test of the fetchItemByIdentity function of the store.\r\n\t\t\tvar cssClassStore = dojox.data.tests.stores.CssClassStore.createStore();\r\n\t\t\t\r\n\t\t\tvar d = new doh.Deferred();\r\n\t\t\tfunction onItem(item){\r\n\t\t\t\tt.assertTrue(item === null);\r\n\t\t\t\td.callback(true);\r\n\t\t\t}\r\n\t\t\tcssClassStore.fetchItemByIdentity({\r\n\t\t\t\tidentity: \".bsClass\",\r\n\t\t\t\tonItem: onItem,\r\n\t\t\t\tonError: dojo.partial(dojox.data.tests.stores.CssClassStore.error, t, d)\r\n\t\t\t});\r\n\t\t\treturn d;\r\n\t\t},\r\n\t\tfunction testIdentityAPI_fetchItemByIdentity_bad2(t){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tSimple test of the fetchItemByIdentity function of the store.\r\n\t\t\t// description:\r\n\t\t\t//\t\tSimple test of the fetchItemByIdentity function of the store.\r\n\t\t\tvar cssClassStore = dojox.data.tests.stores.CssClassStore.createStore();\r\n\t\t\tvar d = new doh.Deferred();\r\n\t\t\tfunction onItem(item){\r\n\t\t\t\tt.assertTrue(item === null);\r\n\t\t\t\td.callback(true);\r\n\t\t\t}\r\n\t\t\tcssClassStore.fetchItemByIdentity({\r\n\t\t\t\tidentity: 'linkTestClass', // missing the '.'!\r\n\t\t\t\tonItem: onItem,\r\n\t\t\t\tonError: dojo.partial(dojox.data.tests.stores.CssClassStore.error, t, d)\r\n\t\t\t});\r\n\t\t\treturn d;\r\n\t\t},\r\n\t\tfunction testIdentityAPI_fetchItemByIdentity_bad3(t){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tSimple test of the fetchItemByIdentity function of the store.\r\n\t\t\t// description:\r\n\t\t\t//\t\tSimple test of the fetchItemByIdentity function of the store.\r\n\t\t\tvar cssClassStore = dojox.data.tests.stores.CssClassStore.createStore();\r\n\t\t\tvar d = new doh.Deferred();\r\n\t\t\tfunction onItem(item){\r\n\t\t\t\tt.assertTrue(item === null);\r\n\t\t\t\td.callback(true);\r\n\t\t\t}\r\n\t\t\tcssClassStore.fetchItemByIdentity({\r\n\t\t\t\tidentity: '9999999',\r\n\t\t\t\tonItem: onItem,\r\n\t\t\t\tonError: dojo.partial(dojox.data.tests.stores.CssClassStore.error, t, d)\r\n\t\t\t});\r\n\t\t\treturn d;\r\n\t\t},\r\n\t\tfunction testIdentityAPI_getIdentity(t){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tSimple test of the fetchItemByIdentity function of the store.\r\n\t\t\t// description:\r\n\t\t\t//\t\tSimple test of the fetchItemByIdentity function of the store.\r\n\t\t\tvar cssClassStore = dojox.data.tests.stores.CssClassStore.createStore();\r\n\t\t\tvar d = new doh.Deferred();\r\n\t\t\tfunction completed(items, request){\r\n\t\t\t\tt.is(3, items.length);\r\n\t\t\t\tt.assertTrue(cssClassStore.getIdentity(items[0]) === '.embeddedTestClass');\r\n\t\t\t\tt.assertTrue(cssClassStore.getIdentity(items[1]) === '.importTestClass');\r\n\t\t\t\tt.assertTrue(cssClassStore.getIdentity(items[2]) === '.linkTestClass');\r\n\t\t\t\td.callback(true);\r\n\t\t\t}\r\n\t\t\t//Get everything...\r\n\t\t\tcssClassStore.fetch({\r\n\t\t\t\tquery: {'class': '*TestClass'},\r\n\t\t\t\tsort: [{attribute: 'class'}],\r\n\t\t\t\tonComplete: completed,\r\n\t\t\t\tonError: dojo.partial(dojox.data.tests.stores.CssClassStore.error, t, d)\r\n\t\t\t});\r\n\t\t\treturn d; //Object\r\n\t\t},\r\n\t\tfunction testIdentityAPI_getIdentityAttributes(t){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tSimple test of the getIdentityAttributes\r\n\t\t\t// description:\r\n\t\t\t//\t\tSimple test of the fetchItemByIdentity function of the store.\r\n\t\t\tvar cssClassStore = dojox.data.tests.stores.CssClassStore.createStore();\r\n\t\t\tvar d = new doh.Deferred();\r\n\t\t\tfunction onItem(item){\r\n\t\t\t\tt.assertTrue(cssClassStore.isItem(item));\r\n\t\t\t\tvar attrs = cssClassStore.getIdentityAttributes(item);\r\n\t\t\t\tt.assertTrue(dojo.isArray(attrs));\r\n\t\t\t\tt.is(1, attrs.length);\r\n\t\t\t\tt.assertEqual(attrs[0], 'class');\r\n\t\t\t\td.callback(true);\r\n\t\t\t}\r\n\t\t\tcssClassStore.fetchItemByIdentity({\r\n\t\t\t\tidentity: \".linkTestClass\",\r\n\t\t\t\tonItem: onItem,\r\n\t\t\t\tonError: dojo.partial(dojox.data.tests.stores.CssClassStore.error, t, d)\r\n\t\t\t});\r\n\t\t   \treturn d;\r\n\t\t}\r\n\t]\r\n);\r\n\r\n"]}