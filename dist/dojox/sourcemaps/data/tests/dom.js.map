{"version":3,"sources":["data/tests/dom.js"],"names":["dojo","provide","require","tests","register","t","document","dojox","data","dom","createDocument","assertTrue","parent","firstChild","tagName","childNodes","length","secondChild","nextSibling","grandChild","text","topNode","textContent","destroy","text2","doc1","doc2","topNode1","topNode2","removeChildren","newChildren","i","push","replaceChildren","lastChild","simpleXml1","innerXml","innerXML"],"mappings":"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","file":"../../../data/tests/dom.js","sourcesContent":["dojo.provide(\"dojox.data.tests.dom\");\r\ndojo.require(\"dojox.data.dom\");\r\n\r\ntests.register(\"dojox.data.tests.dom\",\r\n\t[\r\n\t\tfunction testCreateDocument(t){\r\n\t\t\tvar document = dojox.data.dom.createDocument();\r\n\t\t\tt.assertTrue(document !== null);\r\n\t\t},\r\n\t\tfunction testCreateDocumentFromText(t){\r\n\t\t\tvar simpleXml = \"<parentNode><childNode><grandchildNode/></childNode><childNode/></parentNode>\";\r\n\t\t\tvar document = dojox.data.dom.createDocument(simpleXml, \"text/xml\");\r\n\t\t\t\r\n\t\t\tvar parent = document.firstChild;\r\n\t\t\tt.assertTrue(parent !== null);\r\n\t\t\tt.assertTrue(parent.tagName === \"parentNode\");\r\n\t\t\tt.assertTrue(parent.childNodes.length == 2);\r\n\t\t\t\r\n\t\t\tvar firstChild = parent.firstChild;\r\n\t\t\tt.assertTrue(firstChild !== null);\r\n\t\t\tt.assertTrue(firstChild.tagName === \"childNode\");\r\n\t\t\tt.assertTrue(firstChild.childNodes.length == 1);\r\n\t\t\t\r\n\t\t\tvar secondChild = firstChild.nextSibling;\r\n\t\t\tt.assertTrue(secondChild !== null);\r\n\t\t\tt.assertTrue(secondChild.tagName === \"childNode\");\r\n\r\n\t\t\tvar grandChild = firstChild.firstChild;\r\n\t\t\tt.assertTrue(grandChild !== null);\r\n\t\t\tt.assertTrue(grandChild.tagName === \"grandchildNode\");\r\n\r\n\t\t},\r\n\t\tfunction testCreateDocumentEmptyString(t){\r\n\t\t\tvar simpleXml = \"\";\r\n\t\t\tvar document = dojox.data.dom.createDocument(simpleXml, \"text/xml\");\r\n\t\t\t\r\n\t\t\tt.assertTrue(typeof document != \"undefined\");\r\n\r\n\t\t\tvar parent = document.firstChild;\r\n\t\t\tt.assertTrue(parent === null);\r\n\t\t},\r\n\t\tfunction testCreateDocumentEmpty(t){\r\n\t\t\tvar simpleXml;\r\n\t\t\tvar document = dojox.data.dom.createDocument();\r\n\t\t\t\r\n\t\t\tt.assertTrue(typeof document != \"undefined\");\r\n\r\n\t\t\tvar parent = document.firstChild;\r\n\t\t\tt.assertTrue(parent === null);\r\n\t\t},\r\n\t\tfunction testReadTextContent(t){\r\n\t\t\tvar text = \"This is a bunch of child text on the node\";\r\n\t\t\tvar simpleXml = \"<parentNode>\" + text + \"</parentNode>\";\r\n\t\t\tvar document = dojox.data.dom.createDocument(simpleXml, \"text/xml\");\r\n            \r\n\t\t\tvar topNode = document.firstChild;\r\n\t\t\tt.assertTrue(topNode !== null);\r\n\t\t\tt.assertTrue(topNode.tagName === \"parentNode\");\r\n\t\t\tt.assertTrue(text === dojox.data.dom.textContent(topNode));\r\n\t\t\tdojo.destroy(topNode);\r\n\t\t\tt.assertTrue(document.firstChild === null);\r\n\t\t},\r\n\t\tfunction testSetTextContent(t){\r\n\t\t\tvar text = \"This is a bunch of child text on the node\";\r\n\t\t\tvar text2 = \"This is the new text\";\r\n\t\t\tvar simpleXml = \"<parentNode>\" + text + \"</parentNode>\";\r\n\t\t\tvar document = dojox.data.dom.createDocument(simpleXml, \"text/xml\");\r\n            \r\n\t\t\tvar topNode = document.firstChild;\r\n\t\t\tt.assertTrue(topNode !== null);\r\n\t\t\tt.assertTrue(topNode.tagName === \"parentNode\");\r\n\t\t\tt.assertTrue(text === dojox.data.dom.textContent(topNode));\r\n\t\t\tdojox.data.dom.textContent(topNode, text2);\r\n\t\t\tt.assertTrue(text2 === dojox.data.dom.textContent(topNode));\r\n\t\t\tdojo.destroy(topNode);\r\n\t\t\tt.assertTrue(document.firstChild === null);\r\n\r\n\t\t},\r\n\t\tfunction testReplaceChildrenArray(t){\r\n\t\t\tvar simpleXml1 = \"<parentNode><child1/><child2/><child3/></parentNode>\";\r\n\t\t\tvar simpleXml2 = \"<parentNode><child4/><child5/><child6/><child7/></parentNode>\";\r\n\t\t\tvar doc1 = dojox.data.dom.createDocument(simpleXml1, \"text/xml\");\r\n\t\t\tvar doc2 = dojox.data.dom.createDocument(simpleXml2, \"text/xml\");\r\n            \r\n\t\t\tvar topNode1 = doc1.firstChild;\r\n\t\t\tvar topNode2 = doc2.firstChild;\r\n\t\t\tt.assertTrue(topNode1 !== null);\r\n\t\t\tt.assertTrue(topNode1.tagName === \"parentNode\");\r\n\t\t\tt.assertTrue(topNode2 !== null);\r\n\t\t\tt.assertTrue(topNode2.tagName === \"parentNode\");\r\n\t\t\tdojox.data.dom.removeChildren(topNode1);\r\n\t\t\tvar newChildren=[];\r\n\t\t\tfor(var i=0;i<topNode2.childNodes.length;i++){\r\n\t\t\t\tnewChildren.push(topNode2.childNodes[i]);\r\n\t\t\t}\r\n\t\t\tdojox.data.dom.removeChildren(topNode2);\r\n\t\t\tdojox.data.dom.replaceChildren(topNode1,newChildren);\r\n\t\t\tt.assertTrue(topNode1.childNodes.length === 4);\r\n\t\t\tt.assertTrue(topNode1.firstChild.tagName === \"child4\");\r\n\t\t\tt.assertTrue(topNode1.lastChild.tagName === \"child7\");\r\n\r\n\t\t},\r\n\t\tfunction testReplaceChildrenSingle(t){\r\n\t\t\tvar simpleXml1 = \"<parentNode><child1/><child2/><child3/></parentNode>\";\r\n\t\t\tvar simpleXml2 = \"<parentNode><child4/></parentNode>\";\r\n\t\t\tvar doc1 = dojox.data.dom.createDocument(simpleXml1, \"text/xml\");\r\n\t\t\tvar doc2 = dojox.data.dom.createDocument(simpleXml2, \"text/xml\");\r\n            \r\n\t\t\tvar topNode1 = doc1.firstChild;\r\n\t\t\tvar topNode2 = doc2.firstChild;\r\n\t\t\tt.assertTrue(topNode1 !== null);\r\n\t\t\tt.assertTrue(topNode1.tagName === \"parentNode\");\r\n\t\t\tt.assertTrue(topNode2 !== null);\r\n\t\t\tt.assertTrue(topNode2.tagName === \"parentNode\");\r\n\t\t\tdojox.data.dom.removeChildren(topNode1);\r\n\t\t\t\r\n\t\t\tvar newChildren = topNode2.firstChild;\r\n\t\t\tdojox.data.dom.removeChildren(topNode2);\r\n\t\t\tdojox.data.dom.replaceChildren(topNode1,newChildren);\r\n\t\t\tt.assertTrue(topNode1.childNodes.length === 1);\r\n\t\t\tt.assertTrue(topNode1.firstChild.tagName === \"child4\");\r\n\t\t\tt.assertTrue(topNode1.lastChild.tagName === \"child4\");\r\n\t\t},\r\n\t\tfunction testRemoveChildren(t){\r\n\t\t\tvar simpleXml1 = \"<parentNode><child1/><child2/><child3/></parentNode>\";\r\n\t\t\tvar doc1 = dojox.data.dom.createDocument(simpleXml1, \"text/xml\");\r\n            \r\n\t\t\tvar topNode1 = doc1.firstChild;\r\n\t\t\tt.assertTrue(topNode1 !== null);\r\n\t\t\tt.assertTrue(topNode1.tagName === \"parentNode\");\r\n\t\t\tdojox.data.dom.removeChildren(topNode1);\r\n\t\t\tt.assertTrue(topNode1.childNodes.length === 0);\r\n\t\t\tt.assertTrue(topNode1.firstChild === null);\r\n\t\t},\r\n\t\tfunction testInnerXML(t){\r\n\t\t\tvar simpleXml1 = \"<parentNode><child1/><child2/><child3/></parentNode>\";\r\n\t\t\tvar doc1 = dojox.data.dom.createDocument(simpleXml1, \"text/xml\");\r\n            \r\n\t\t\tvar topNode1 = doc1.firstChild;\r\n\t\t\tt.assertTrue(topNode1 !== null);\r\n\t\t\tt.assertTrue(topNode1.tagName === \"parentNode\");\r\n\r\n\t\t\tvar innerXml = dojox.data.dom.innerXML(topNode1);\r\n\t\t\tt.assertTrue(simpleXml1 === innerXml);\r\n\t\t}\r\n\t]\r\n);\r\n"]}