{"version":3,"sources":["dtl/render/dom.js"],"names":["define","lang","dom","ddc","dddom","dd","ddrd","getObject","Render","attachPoint","tpl","this","_tpl","domNode","byId","extend","setAttachPoint","node","render","context","buffer","Error","getBuffer","frag","getParent","parentNode","replaceChild"],"mappings":";;;;;;;AAAAA,QACC,kBACA,WACA,aACA,SACA,YACE,SAASC,EAAKC,EAAIC,EAAIC,EAAMC,GAE9B,IAAIC,EAAOL,EAAKM,UAAU,cAAc,EAAMF,GAsC9C,OA/BAC,EAAKE,OAAS,SAAsBC,EAAwCC,GAC3EC,KAAKC,KAAOF,EACZC,KAAKE,QAAUX,EAAIY,KAAKL,IAEzBR,EAAKc,OAAOT,EAAKE,QAChBQ,eAAgB,SAAkBC,GACjCN,KAAKE,QAAUI,GAEhBC,OAAQ,SAAoBC,EAAoCT,EAA8BU,GAC7F,IAAIT,KAAKE,QACR,MAAM,IAAIQ,MAAM,mFAGjBV,KAAKC,KAAOF,EAAMA,GAAOC,KAAKC,KAC9BQ,EAASA,GAAUV,EAAIY,YACvBH,EAAUA,GAAW,IAAIhB,EAEzB,IAAIoB,EAAOb,EAAIQ,OAAOC,EAASC,GAAQI,YACvC,IAAID,EACH,MAAM,IAAIF,MAAM,+CAGdV,KAAKE,UAAYU,IAChBZ,KAAKE,QAAQY,YACfd,KAAKE,QAAQY,WAAWC,aAAaH,EAAMZ,KAAKE,SAEjDF,KAAKE,QAAUU,MAKXjB","file":"../../../dtl/render/dom.js","sourcesContent":["define([\r\n\t\"dojo/_base/lang\",\r\n\t\"dojo/dom\",\r\n\t\"../Context\",\r\n\t\"../dom\",\r\n\t\"../_base\"\r\n], function(lang,dom,ddc,dddom,dd){\r\n\r\n\tvar ddrd = lang.getObject(\"render.dom\", true, dd);\r\n\t/*=====\r\n\t ddrd = {\r\n\t \t// TODO: summary\r\n\t };\r\n\t =====*/\r\n\r\n\tddrd.Render = function(/*DOMNode?*/ attachPoint, /*dojox/dtl/DomTemplate?*/ tpl){\r\n\t\tthis._tpl = tpl;\r\n\t\tthis.domNode = dom.byId(attachPoint);\r\n\t};\r\n\tlang.extend(ddrd.Render, {\r\n\t\tsetAttachPoint: function(/*Node*/ node){\r\n\t\t\tthis.domNode = node;\r\n\t\t},\r\n\t\trender: function(/*Object*/ context, /*dojox/dtl/DomTemplate?*/ tpl, /*dojox/dtl/DomBuffer?*/ buffer){\r\n\t\t\tif(!this.domNode){\r\n\t\t\t\tthrow new Error(\"You cannot use the Render object without specifying where you want to render it\");\r\n\t\t\t}\r\n\r\n\t\t\tthis._tpl = tpl = tpl || this._tpl;\r\n\t\t\tbuffer = buffer || tpl.getBuffer();\r\n\t\t\tcontext = context || new ddc();\r\n\r\n\t\t\tvar frag = tpl.render(context, buffer).getParent();\r\n\t\t\tif(!frag){\r\n\t\t\t\tthrow new Error(\"Rendered template does not have a root node\");\r\n\t\t\t}\r\n\r\n\t\t\tif(this.domNode !== frag){\r\n\t\t\t\tif(this.domNode.parentNode){\r\n\t\t\t\t\tthis.domNode.parentNode.replaceChild(frag, this.domNode);\r\n\t\t\t\t}\r\n\t\t\t\tthis.domNode = frag;\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\r\n\treturn ddrd;\r\n});\r\n"]}