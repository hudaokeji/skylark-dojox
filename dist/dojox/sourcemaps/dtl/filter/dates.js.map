{"version":3,"sources":["dtl/filter/dates.js"],"names":["define","lang","dd","ddud","ddfd","getObject","mixin","_toDate","value","Date","getTime","date","arg","format","time","timesince","timeuntil"],"mappings":";;;;;;;AAAAA,QACC,kBACA,WACA,iBACE,SAASC,EAAKC,EAAGC,GAEnB,IAAIC,EAAOH,EAAKI,UAAU,gBAAgB,EAAMH,GAkEhD,OA3DAD,EAAKK,MAAMF,GACVG,QAAS,SAASC,GACjB,OAAGA,aAAiBC,KACZD,GAERA,EAAQ,IAAIC,KAAKD,IACRE,WAAa,IAAID,KAAK,GAAGC,UAC1B,GAEDF,GAERG,KAAM,SAASH,EAAOI,GAIrB,OADAJ,EAAQJ,EAAKG,QAAQC,KAIrBI,EAAMA,GAAO,SACNT,EAAKU,OAAOL,EAAOI,IAHlB,IAKTE,KAAM,SAASN,EAAOI,GAIrB,OADAJ,EAAQJ,EAAKG,QAAQC,KAIrBI,EAAMA,GAAO,IACNT,EAAKU,OAAOL,EAAOI,IAHlB,IAKTG,UAAW,SAASP,EAAOI,GAI1B,KADAJ,EAAQJ,EAAKG,QAAQC,IAEpB,MAAO,GAER,IAAIO,EAAYZ,EAAKY,UACrB,OAAGH,EACKG,EAAUH,EAAKJ,GAEhBO,EAAUP,IAElBQ,UAAW,SAASR,EAAOI,GAI1B,KADAJ,EAAQJ,EAAKG,QAAQC,IAEpB,MAAO,GAER,IAAIO,EAAYZ,EAAKY,UACrB,OACQA,EADLH,GAGc,IAAIH,KAFED,MAMlBJ","file":"../../../dtl/filter/dates.js","sourcesContent":["define([\r\n\t\"dojo/_base/lang\",\r\n\t\"../_base\",\t\r\n\t\"../utils/date\"\r\n], function(lang,dd,ddud){\r\n\r\n\tvar ddfd = lang.getObject(\"filter.dates\", true, dd);\r\n/*=====\r\n\tddfd = {\r\n\t\t// TODO: summary\r\n\t};\r\n=====*/\r\n\r\n\tlang.mixin(ddfd, {\r\n\t\t_toDate: function(value){\r\n\t\t\tif(value instanceof Date){\r\n\t\t\t\treturn value;\r\n\t\t\t}\r\n\t\t\tvalue = new Date(value);\r\n\t\t\tif(value.getTime() == new Date(0).getTime()){\r\n\t\t\t\treturn \"\";\r\n\t\t\t}\r\n\t\t\treturn value;\r\n\t\t},\r\n\t\tdate: function(value, arg){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tFormats a date according to the given format\r\n\t\t\tvalue = ddfd._toDate(value);\r\n\t\t\tif(!value){\r\n\t\t\t\treturn \"\";\r\n\t\t\t}\r\n\t\t\targ = arg || \"N j, Y\";\r\n\t\t\treturn ddud.format(value, arg);\r\n\t\t},\r\n\t\ttime: function(value, arg){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tFormats a time according to the given format\r\n\t\t\tvalue = ddfd._toDate(value);\r\n\t\t\tif(!value){\r\n\t\t\t\treturn \"\";\r\n\t\t\t}\r\n\t\t\targ = arg || \"P\";\r\n\t\t\treturn ddud.format(value, arg);\r\n\t\t},\r\n\t\ttimesince: function(value, arg){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tFormats a date as the time since that date (i.e. \"4 days, 6 hours\")\r\n\t\t\tvalue = ddfd._toDate(value);\r\n\t\t\tif(!value){\r\n\t\t\t\treturn \"\";\r\n\t\t\t}\r\n\t\t\tvar timesince = ddud.timesince;\r\n\t\t\tif(arg){\r\n\t\t\t\treturn timesince(arg, value);\r\n\t\t\t}\r\n\t\t\treturn timesince(value);\r\n\t\t},\r\n\t\ttimeuntil: function(value, arg){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tFormats a date as the time until that date (i.e. \"4 days, 6 hours\")\r\n\t\t\tvalue = ddfd._toDate(value);\r\n\t\t\tif(!value){\r\n\t\t\t\treturn \"\";\r\n\t\t\t}\r\n\t\t\tvar timesince = ddud.timesince;\r\n\t\t\tif(arg){\r\n\t\t\t\treturn timesince(arg, value);\r\n\t\t\t}\r\n\t\t\treturn timesince(new Date(), value);\r\n\t\t}\r\n\t});\r\n\r\n\treturn ddfd;\r\n});"]}