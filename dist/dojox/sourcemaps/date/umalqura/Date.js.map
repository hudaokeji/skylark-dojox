{"version":3,"sources":["date/umalqura/Date.js"],"names":["define","lang","declare","dd","IDate","_MONTH_LENGTH","_hijriBegin","_hijriEnd","_date","_month","_year","_hours","_minutes","_seconds","_milliseconds","_day","constructor","len","arguments","length","arg0","Date","this","fromGregorian","getDate","getMonth","getFullYear","getDay","toGregorian","getHours","getMinutes","getSeconds","getMilliseconds","setDate","date","mdays","parseInt","getDaysInIslamicMonth","setFullYear","year","setMonth","month","Math","floor","setHours","hours_arg_no","hours","_addMinutes","minutes","setMinutes","_addSeconds","seconds","setSeconds","_addMilliseconds","milliseconds","setMilliseconds","toString","x","toTimeString","hYear","hMonth","hDate","gdate","gregorianRef","Array","i","a","b","days","m","temp","l","h","charAt","k","gregRef","add","islamicDate","dojox","islamic","gregorianLastRef","compare","diff","count","pos","isRef","j","flag","monthL","difference","valueOf","_yearStart","_monthStart","ceil","_civilLeapYear"],"mappings":"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","file":"../../../date/umalqura/Date.js","sourcesContent":["define([\"dojo/_base/lang\", \"dojo/_base/declare\", \"dojo/date\", \"../islamic/Date\"],\r\n function(lang, declare, dd){\r\n\r\n\tvar IDate = declare(\"dojox.date.umalqura.Date\", null, {\t\r\n\t\r\n\t// summary:\r\n\t//\t\tThe component defines the UmAlqura (Hijri) Calendar Object according to Umalqura calculations\r\n    //\t\tThis module is similar to the Date() object provided by JavaScript\r\n    // example:\r\n    // |\tvar date = new dojox.date.umalqura.Date();\r\n    // |\tdocument.writeln(date.getFullYear()+'\\'+date.getMonth()+'\\'+date.getDate());\r\n\r\n\r\n    _MONTH_LENGTH: [\r\n    //1400 -1404 \r\n    \"010100101011\", \"011010010011\", \"010110110101\", \"001010110110\", \"101110110010\",\r\n    //1405 -1409\r\n    \"011010110101\", \"010101010110\", \"101010010110\", \"110101001010\", \"111010100101\",\r\n    //1410 -1414\r\n     \"011101010010\", \"101101101001\", \"010101110100\", \"101001101101\", \"100100110110\",\r\n    //1415 -1419\r\n     \"110010010110\", \"110101001010\", \"111001101001\", \"011010110100\", \"101010111010\",\r\n    //1420 -1424\r\n    \"010010111101\", \"001000111101\", \"100100011101\", \"101010010101\", \"101101001010\",\r\n    //1425 -1429\r\n    \"101101011010\", \"010101101101\", \"001010110110\", \"100100111011\", \"010010011011\",\r\n    //1430 -1434\r\n     \"011001010101\", \"011010101001\", \"011101010100\", \"101101101010\", \"010101101100\",\r\n    //1435 -1439\r\n    \"101010101101\", \"010101010101\", \"101100101001\", \"101110010010\", \"101110101001\",\r\n    //1440 -1444\r\n     \"010111010100\", \"101011011010\", \"010101011010\", \"101010101011\", \"010110010101\",\r\n    //1445 -1449\r\n     \"011101001001\", \"011101100100\", \"101110101010\", \"010110110101\", \"001010110110\",\r\n    //1450 -1454 \r\n     \"101001010110\", \"110100101010\", \"111010010101\", \"011100101010\", \"011101010101\",\r\n    //1455 -1459\r\n     \"001101011010\", \"100101011101\", \"010010011011\", \"101001001101\", \"110100100110\",\r\n    //1460 -1464\r\n     \"110101010011\", \"010110101010\", \"101010101101\", \"010010110110\", \"101001010111\",\r\n    //1465 -1469\r\n     \"010100100111\", \"101010010101\", \"101101001010\", \"101101010101\", \"001101101100\",\r\n    //1470 -1474\r\n     \"100110101110\", \"010010110110\", \"101010010110\", \"101101001010\", \"110110100101\",\r\n    //1475 -1479\r\n     \"010111010010\", \"010111011001\", \"001011011100\", \"100101101101\", \"010010101101\",\r\n    //1480\r\n     \"011001010101\"],\r\n\r\n    _hijriBegin: 1400,\r\n    _hijriEnd: 1480,\r\n    _date: 0,\r\n    _month: 0,\r\n    _year: 0,\r\n    _hours: 0,\r\n    _minutes: 0,\r\n    _seconds: 0,\r\n    _milliseconds: 0,\r\n    _day: 0,\r\n\r\n    constructor: function(){\r\n        // summary:\r\n        //\t\tThis function initialize the date object values\r\n\r\n        var len = arguments.length;\r\n        if(!len){// use the current date value, added \"\" to the similarity to date\r\n            this.fromGregorian(new Date());\r\n        }else if(len == 1){\r\n            var arg0 = arguments[0];\r\n            if(typeof arg0 == \"number\"){ // this is time \"valueof\"\r\n                arg0 = new Date(arg0);\r\n            }\r\n\r\n            if(arg0 instanceof Date){\r\n                this.fromGregorian(arg0);\r\n            }else if(arg0 == \"\"){\r\n                // date should be invalid.  Dijit relies on this behavior.\r\n                this._date = new Date(\"\"); //TODO: should this be NaN?  _date is not a Date object\r\n            }else{  // this is umalqura.Date object\r\n                this._year = arg0._year;\r\n                this._month = arg0._month;\r\n                this._date = arg0._date;\r\n                this._hours = arg0._hours;\r\n                this._minutes = arg0._minutes;\r\n                this._seconds = arg0._seconds;\r\n                this._milliseconds = arg0._milliseconds;\r\n            }\r\n        }else if(len >= 3){\r\n            // YYYY MM DD arguments passed, month is from 0-12\r\n            this._year += arguments[0];\r\n            this._month += arguments[1];\r\n            this._date += arguments[2];\r\n            this._hours += arguments[3] || 0;\r\n            this._minutes += arguments[4] || 0;\r\n            this._seconds += arguments[5] || 0;\r\n            this._milliseconds += arguments[6] || 0;\r\n        }\r\n    },\r\n\r\n    getDate: function(){\r\n        // summary:\r\n        //\t\tThis function returns the date value (1 - 30)\r\n        // example:\r\n        // |\tvar date1 = new dojox.date.umalqura.Date();\r\n        // |\r\n        // |\tdocument.writeln(date1.getDate);\r\n        return this._date;\r\n    },\r\n\r\n    getMonth: function(){\r\n        // summary:\r\n        //\t\tThis function return the month value ( 0 - 11 )\r\n        // example:\r\n        // |\tvar date1 = new dojox.date.umalqura.Date();\r\n        // |\r\n        // |\tdocument.writeln(date1.getMonth()+1);\r\n\r\n        return this._month;\r\n    },\r\n\r\n    getFullYear: function(){\r\n        // summary:\r\n        //\t\tThis function return the year value\r\n        // example:\r\n        // |\tvar date1 = new dojox.date.umalqura.Date();\r\n        // |\r\n        // |\tdocument.writeln(date1.getFullYear());\r\n\r\n        return this._year;\r\n    },\r\n\r\n    getDay: function(){\r\n        // summary:\r\n        //\t\tThis function returns the week day value ( 0 - 6 )\r\n        //\t\tsunday is 0, monday is 1,...etc\r\n        // example:\r\n        // |\tvar date1 = new dojox.date.umalqura.Date();\r\n        // |\r\n        // |\tdocument.writeln(date1.getDay());\r\n        var d = this.toGregorian();\r\n        var dd = d.getDay();\r\n        return dd;\r\n    },\r\n\r\n    getHours: function(){\r\n        // summary:\r\n        //\t\treturns the hour value\r\n        return this._hours;\r\n    },\r\n\r\n    getMinutes: function(){\r\n        // summary:\r\n        //\t\treturns the minutes value\r\n        return this._minutes;\r\n    },\r\n\r\n    getSeconds: function(){\r\n        // summary:\r\n        //\t\treturns the seconds value\r\n        return this._seconds;\r\n    },\r\n\r\n    getMilliseconds: function(){\r\n        // summary:\r\n        //\t\treturns the milliseconds value\r\n        return this._milliseconds;\r\n    },\r\n\r\n    setDate: function(/*number*/ date){\r\n        // summary:\r\n        //\t\tThis function sets the date\r\n        // example:\r\n        // |\tvar date1 = new dojox.date.umalqura.Date();\r\n        // |\tdate1.setDate(2);\r\n\r\n        date = parseInt(date);\r\n\r\n        if(date > 0 && date <= this.getDaysInIslamicMonth(this._month, this._year)){\r\n            this._date = date;\r\n        }else{\r\n            var mdays;\r\n            if(date > 0){\r\n                for(mdays = this.getDaysInIslamicMonth(this._month, this._year);\r\n\t\t\t\t\tdate > mdays;\r\n\t\t\t\t\t\tdate -= mdays, mdays = this.getDaysInIslamicMonth(this._month, this._year)){\r\n                    this._month++;\r\n                    if(this._month >= 12){ this._year++; this._month -= 12; }\r\n                }\r\n\r\n                this._date = date;\r\n            }else{\r\n                for(mdays = this.getDaysInIslamicMonth((this._month - 1) >= 0 ? (this._month - 1) : 11, ((this._month - 1) >= 0) ? this._year : this._year - 1);\r\n\t\t\t\t\t\tdate <= 0;\r\n\t\t\t\t\t\t\tmdays = this.getDaysInIslamicMonth((this._month - 1) >= 0 ? (this._month - 1) : 11, ((this._month - 1) >= 0) ? this._year : this._year - 1)){\r\n                    this._month--;\r\n                    if(this._month < 0){ this._year--; this._month += 12; }\r\n\r\n                    date += mdays;\r\n                }\r\n                this._date = date;\r\n            }\r\n        }\r\n        return this;\r\n    },\r\n\r\n    setFullYear: function(/*number*/ year){\r\n        // summary:\r\n        //\t\tThis function set Year\r\n        // example:\r\n        // |\tvar date1 = new dojox.date.umalqura.Date();\r\n        // |\tdate1.setYear(1429);\r\n\r\n        this._year = +year;\r\n    },\r\n\r\n    setMonth: function(/*number*/ month){\r\n        // summary:\r\n        //\t\tThis function sets the month\r\n        // example:\r\n        // |\tvar date1 = new dojox.date.umalqura.Date();\r\n        // |\tdate1.setMonth(2);\r\n\r\n        this._year += Math.floor(month / 12);\r\n        if(month > 0){\r\n            this._month = Math.floor(month % 12);\r\n        }else{\r\n            this._month = Math.floor(((month % 12) + 12) % 12);\r\n        }\r\n    },\r\n\r\n    setHours: function(){\r\n        // summary:\r\n        //\t\tset the hours\r\n        var hours_arg_no = arguments.length;\r\n        var hours = 0;\r\n        if(hours_arg_no >= 1){\r\n            hours = parseInt(arguments[0]);\r\n        }\r\n\r\n        if(hours_arg_no >= 2){\r\n            this._minutes = parseInt(arguments[1]);\r\n        }\r\n\r\n        if(hours_arg_no >= 3){\r\n            this._seconds = parseInt(arguments[2]);\r\n        }\r\n\r\n        if(hours_arg_no == 4){\r\n            this._milliseconds = parseInt(arguments[3]);\r\n        }\r\n\r\n        while (hours >= 24){\r\n            this._date++;\r\n            var mdays = this.getDaysInIslamicMonth(this._month, this._year);\r\n            if(this._date > mdays){\r\n                this._month++;\r\n                if(this._month >= 12){ this._year++; this._month -= 12; }\r\n                this._date -= mdays;\r\n            }\r\n            hours -= 24;\r\n        }\r\n        this._hours = hours;\r\n    },\r\n\r\n\t_addMinutes: function(/*Number*/ minutes){\r\n\t\tminutes += this._minutes;\r\n\t\tthis.setMinutes(minutes);\r\n\t\tthis.setHours(this._hours + parseInt(minutes / 60));\r\n\t\treturn this;\r\n\t},\r\n\r\n\t_addSeconds: function(/*Number*/ seconds){\r\n\t\tseconds += this._seconds;\r\n\t\tthis.setSeconds(seconds);\r\n\t\tthis._addMinutes(parseInt(seconds / 60));\r\n\t\treturn this;\r\n\t},\r\n\r\n\t_addMilliseconds: function(/*Number*/ milliseconds){\r\n\t\tmilliseconds += this._milliseconds;\r\n\t\tthis.setMilliseconds(milliseconds);\r\n\t\tthis._addSeconds(parseInt(milliseconds / 1000));\r\n\t\treturn this;\r\n\t},\r\n\r\n    setMinutes: function(/*number*/ minutes){\r\n        // summary:\r\n        //\t\tset the minutes\r\n\r\n        while (minutes >= 60){\r\n            this._hours++;\r\n            if(this._hours >= 24){\r\n                this._date++;\r\n                this._hours -= 24;\r\n                var mdays = this.getDaysInIslamicMonth(this._month, this._year);\r\n                if(this._date > mdays){\r\n                    this._month++;\r\n                    if(this._month >= 12){ this._year++; this._month -= 12; }\r\n                    this._date -= mdays;\r\n                }\r\n            }\r\n            minutes -= 60;\r\n        }\r\n        this._minutes = minutes;\r\n    },\r\n\r\n\r\n    setSeconds: function(/*number*/ seconds){\r\n        // summary:\r\n        //\t\tset seconds\r\n        while (seconds >= 60){\r\n            this._minutes++;\r\n            if(this._minutes >= 60){\r\n                this._hours++;\r\n                this._minutes -= 60;\r\n                if(this._hours >= 24){\r\n                    this._date++;\r\n                    this._hours -= 24;\r\n                    var mdays = this.getDaysInIslamicMonth(this._month, this._year);\r\n                    if(this._date > mdays){\r\n                        this._month++;\r\n                        if(this._month >= 12){ this._year++; this._month -= 12; }\r\n                        this._date -= mdays;\r\n                    }\r\n                }\r\n            }\r\n            seconds -= 60;\r\n        }\r\n        this._seconds = seconds;\r\n    },\r\n\r\n    setMilliseconds: function(/*number*/ milliseconds){\r\n        // summary:\r\n        //\t\tset the milliseconds\r\n        while (milliseconds >= 1000){\r\n            this.setSeconds++;\r\n            if(this.setSeconds >= 60){\r\n                this._minutes++;\r\n                this.setSeconds -= 60;\r\n                if(this._minutes >= 60){\r\n                    this._hours++;\r\n                    this._minutes -= 60;\r\n                    if(this._hours >= 24){\r\n                        this._date++;\r\n                        this._hours -= 24;\r\n                        var mdays = this.getDaysInIslamicMonth(this._month, this._year);\r\n                        if(this._date > mdays){\r\n                            this._month++;\r\n                            if(this._month >= 12){ this._year++; this._month -= 12; }\r\n                            this._date -= mdays;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            milliseconds -= 1000;\r\n        }\r\n        this._milliseconds = milliseconds;\r\n    },\r\n\r\n\r\n    toString: function(){\r\n        // summary:\r\n        //\t\tThis returns a string representation of the date in \"DDDD MMMM DD YYYY HH:MM:SS\" format\r\n        // example:\r\n        // |\t\tvar date1 = new dojox.date.umalqura.Date();\r\n        // |\t\tdocument.writeln(date1.toString());\r\n\r\n        //FIXME: TZ/DST issues?\r\n        var x = new Date();\r\n        x.setHours(this._hours);\r\n        x.setMinutes(this._minutes);\r\n        x.setSeconds(this._seconds);\r\n        x.setMilliseconds(this._milliseconds);\r\n        return this._month + \" \" + this._date + \" \" + this._year + \" \" + x.toTimeString();\r\n    },\r\n\r\n\r\n    toGregorian: function(){\r\n        // summary:\r\n        //\t\tThis returns the equivalent gregorian date value in Date object\r\n        // example:\r\n        // |\tvar dateIslamic = new dojox.date.umalqura.Date(1429,11,20);\r\n        // |\tvar dateGregorian = dateIslamic.toGregorian();\r\n\r\n\r\n\r\n        var hYear = this._year;\r\n        var hMonth = this._month;\r\n        var hDate = this._date;\r\n        var gdate = new Date();\r\n        if(hYear >= this._hijriBegin && hYear <= this._hijriEnd){\r\n            var gregorianRef = new Array(17);\r\n            gregorianRef[0] = new Date(1979, 10, 20, 0, 0, 0, 0);\r\n            gregorianRef[1] = new Date(1984, 8, 26, 0, 0, 0, 0);\r\n            gregorianRef[2] = new Date(1989, 7, 3, 0, 0, 0, 0);\r\n            gregorianRef[3] = new Date(1994, 5, 10, 0, 0, 0, 0);\r\n            gregorianRef[4] = new Date(1999, 3, 17, 0, 0, 0, 0);\r\n            gregorianRef[5] = new Date(2004, 1, 21, 0, 0, 0, 0);\r\n            gregorianRef[6] = new Date(2008, 11, 29, 0, 0, 0, 0);\r\n            gregorianRef[7] = new Date(2013, 10, 4, 0, 0, 0, 0);\r\n            gregorianRef[8] = new Date(2018, 8, 11, 0, 0, 0, 0);\r\n            gregorianRef[9] = new Date(2023, 6, 19, 0, 0, 0, 0);\r\n            gregorianRef[10] = new Date(2028, 4, 25, 0, 0, 0, 0);\r\n            gregorianRef[11] = new Date(2033, 3, 1, 0, 0, 0, 0);\r\n            gregorianRef[12] = new Date(2038, 1, 5, 0, 0, 0, 0);\r\n            gregorianRef[13] = new Date(2042, 11, 14, 0, 0, 0, 0);\r\n            gregorianRef[14] = new Date(2047, 9, 20, 0, 0, 0, 0);\r\n            gregorianRef[15] = new Date(2052, 7, 26, 0, 0, 0, 0);\r\n\t\t\tgregorianRef[16] = new Date(2057, 6, 3, 0, 0, 0, 0);\r\n            var i = (hYear - this._hijriBegin);\r\n            var a = Math.floor(i / 5);\r\n            var b = i % 5;\r\n            var days = 0;\r\n            var m = b;\r\n            var temp = a * 5;\r\n            var l = 0;\r\n            var h = 0;\r\n\r\n            if(b == 0){\r\n                for(h = 0; h <= hMonth - 1; h++){\r\n                    if(this._MONTH_LENGTH[i].charAt(h) == '1') days = days + 30;\r\n                    else if(this._MONTH_LENGTH[i].charAt(h) == '0') days = days + 29;\r\n                }\r\n                days = days + (hDate - 1);\r\n            }else{\r\n                for(k = temp; k <= (temp + b); k++){\r\n                    for(l = 0; m > 0 && l < 12; l++){\r\n                        if(this._MONTH_LENGTH[k].charAt(l) == '1') days = days + 30;\r\n                        else if(this._MONTH_LENGTH[k].charAt(l) == '0') days = days + 29;\r\n                    }\r\n                    m--;\r\n                    if(m == 0){\r\n                        for(h = 0; h <= hMonth - 1; h++){\r\n                            if(this._MONTH_LENGTH[i].charAt(h) == '1') days = days + 30;\r\n                            else if(this._MONTH_LENGTH[i].charAt(h) == '0') days = days + 29;\r\n                        }\r\n                    }\r\n                }\r\n                days = days + (hDate - 1);\r\n            }\r\n            var gregRef = new Date(gregorianRef[a]);\r\n            gregRef.setHours(this._hours, this._minutes, this._seconds, this._milliseconds);\r\n            //gdate = dojo.date.add(gregRef, \"day\", days);\r\n            gdate = dd.add(gregRef, \"day\", days);\r\n        }\r\n\r\n        else{\r\n            var islamicDate = new dojox.date.islamic.Date(this._year, this._month, this._date, this._hours, this._minutes, this._seconds, this._milliseconds);\r\n            gdate = new Date(islamicDate.toGregorian());\r\n        }\r\n        return gdate;\r\n    },\r\n\r\n    //TODO: would it make more sense to make this a constructor option? or a static?\r\n    fromGregorian: function(/*Date*/ gdate){\r\n        // summary:\r\n        //\t\tThis function returns the equivalent UmAlqura Date value for the Gregorian Date\r\n        // example:\r\n        // |\t\tvar dateIslamic = new dojox.date.umalqura.Date();\r\n        // |\t\tvar dateGregorian = new Date(2008,10,12);\r\n        // |\t\tdateIslamic.fromGregorian(dateGregorian);\r\n\r\n\r\n        var date = new Date(gdate);\r\n            date.setHours(0, 0, 0, 0);\r\n        var gYear = date.getFullYear(),\r\n\t\t\tgMonth = date.getMonth(),\r\n\t\t\tgDay = date.getDate();\r\n\r\n        var gregorianRef = new Array(17);\r\n        gregorianRef[0] = new Date(1979, 10, 20, 0, 0, 0, 0);\r\n        gregorianRef[1] = new Date(1984, 8, 26, 0, 0, 0, 0);\r\n        gregorianRef[2] = new Date(1989, 7, 3, 0, 0, 0, 0);\r\n        gregorianRef[3] = new Date(1994, 5, 10, 0, 0, 0, 0);\r\n        gregorianRef[4] = new Date(1999, 3, 17, 0, 0, 0, 0);\r\n        gregorianRef[5] = new Date(2004, 1, 21, 0, 0, 0, 0);\r\n        gregorianRef[6] = new Date(2008, 11, 29, 0, 0, 0, 0);\r\n        gregorianRef[7] = new Date(2013, 10, 4, 0, 0, 0, 0);\r\n        gregorianRef[8] = new Date(2018, 8, 11, 0, 0, 0, 0);\r\n        gregorianRef[9] = new Date(2023, 6, 19, 0, 0, 0, 0);\r\n        gregorianRef[10] = new Date(2028, 4, 25, 0, 0, 0, 0);\r\n        gregorianRef[11] = new Date(2033, 3, 1, 0, 0, 0, 0);\r\n        gregorianRef[12] = new Date(2038, 1, 5, 0, 0, 0, 0);\r\n        gregorianRef[13] = new Date(2042, 11, 14, 0, 0, 0, 0);\r\n        gregorianRef[14] = new Date(2047, 9, 20, 0, 0, 0, 0);\r\n        gregorianRef[15] = new Date(2052, 7, 26, 0, 0, 0, 0);\r\n\t\tgregorianRef[16] = new Date(2057, 6, 3, 0, 0, 0, 0);\r\n\t\t\r\n\t\tvar gregorianLastRef=new Date(2058, 5, 21, 0, 0, 0, 0);\r\n\r\n        //if(dojo.date.compare(date, gregorianRef[0]) >= 0 && dojo.date.compare(date, gregorianRef[15]) <= 0){\r\n        //if(dd.compare(date, gregorianRef[0]) >= 0 && dd.compare(date, gregorianRef[16]) <= 0){\r\n\t\tif(dd.compare(date, gregorianRef[0]) >= 0 && dd.compare(date, gregorianLastRef) <= 0){\r\n\t\tvar diff;\r\n\t\t\tif(dd.compare(date, gregorianRef[16]) <= 0){\r\n\t\t\t\tvar count = 0;\r\n\t\t\t\tvar pos = 0;\r\n\t\t\t\tvar isRef=0;\r\n\t\t\t\tfor(count = 0; count < gregorianRef.length; count++){\r\n\t\t\t\t\t//if(dojo.date.compare(date, gregorianRef[count], \"date\") == 0){\r\n\t\t\t\t\tif(dd.compare(date, gregorianRef[count], \"date\") == 0){                \t\r\n\t\t\t\t\t\tpos = count;\r\n\t\t\t\t\t\tisRef=1;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse{\r\n\r\n\t\t\t\t\t\t//if(dojo.date.compare(date, gregorianRef[count], \"date\") < 0){\r\n\t\t\t\t\t\tif(dd.compare(date, gregorianRef[count], \"date\") < 0){\r\n\t\t\t\t\t\t\tpos = count - 1; break;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tvar j = 0; var flag = 0; var monthL = 0;\r\n\t\t\t\tif(isRef==1){\r\n\t\t\t\t\tthis._date = 1;\r\n\t\t\t\t\tthis._month = 0;\r\n\t\t\t\t\tthis._year = this._hijriBegin + pos*5;\r\n\t\t\t\t\tthis._hours = gdate.getHours();\r\n\t\t\t\t\tthis._minutes = gdate.getMinutes();\r\n\t\t\t\t\tthis._seconds = gdate.getSeconds();\r\n\t\t\t\t\tthis._milliseconds = gdate.getMilliseconds();\r\n\t\t\t\t\tthis._day = gregorianRef[pos].getDay();\r\n\t\t\t\t}\r\n\t\t\t\telse{\r\n\t\t\t\t\r\n\t\t\t\t\t//var diff = dojo.date.difference(gregorianRef[pos], date, \"day\");\r\n\t\t\t\t\tdiff = dd.difference(gregorianRef[pos], date, \"day\");\r\n\t\t\t\t\tpos = pos * 5;\r\n\t\t\t\t\tfor(i = pos; i < pos + 5; i++){\r\n\t\t\t\t\t\tfor(j = 0; j <= 11; j++){\r\n\t\t\t\t\t\t\tif(this._MONTH_LENGTH[i].charAt(j) == '1') monthL = 30;\r\n\t\t\t\t\t\t\telse if(this._MONTH_LENGTH[i].charAt(j) == '0') monthL = 29;\r\n\r\n\t\t\t\t\t\t\tif(diff > monthL) diff = diff - monthL;\r\n\t\t\t\t\t\t\telse{\r\n\t\t\t\t\t\t\t\tflag = 1;\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tif(flag == 1){\r\n\t\t\t\t\t\t\tif(diff == 0){\r\n\t\t\t\t\t\t\t\tdiff = 1; \r\n\r\n\t\t\t\t\t\t\t\tif(j == 11){\r\n\t\t\t\t\t\t\t\t\tj = 1; ++i;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\telse ++j;\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\telse{\r\n\t\t\t\t\t\t\t\tif(diff==monthL){\r\n\t\t\t\t\t\t\t\t\tdiff=0;\r\n\t\t\t\t\t\t\t\t\tif(j == 11){\r\n\t\t\t\t\t\t\t\t\t\tj = 0;\r\n\t\t\t\t\t\t\t\t\t\t++i;\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\telse ++j;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tdiff++;\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis._date = diff;\r\n\t\t\t\t\tthis._month = j;\r\n\t\t\t\t\tthis._year = this._hijriBegin + i;\r\n\t\t\t\t\tthis._hours = gdate.getHours();\r\n\t\t\t\t\tthis._minutes = gdate.getMinutes();\r\n\t\t\t\t\tthis._seconds = gdate.getSeconds();\r\n\t\t\t\t\tthis._milliseconds = gdate.getMilliseconds();\r\n\t\t\t\t\tthis._day = gdate.getDay();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse{\r\n\t//\t\t\tif((dd.compare(date, gregorianRef[16]) > 0)&& (dd.compare(date,gregorianLastRef)<=0)){\r\n\t\t\t\t//Date is in year 1480\r\n\t\t\t\tdiff=dd.difference(gregorianRef[16],date,\"day\");\r\n\t\t\t\tvar x=dd.difference(new Date(2057, 6, 3, 0, 0, 0, 0),new Date(2057, 6, 1, 0, 0, 0, 0),\"date\");\r\n\t\t\t\t//alert (x);\r\n\t\t\t\tfor( j=0;j<=11;j++){\r\n\t\t\t\t\tif(this._MONTH_LENGTH[80].charAt(j) == '1') monthL = 30;\r\n\t\t\t\t\telse if(this._MONTH_LENGTH[80].charAt(j) == '0') monthL = 29;\r\n\r\n\t\t\t\t\tif(diff > monthL) diff = diff - monthL;\r\n\t\t\t\t\telse{\r\n\t\t\t\t\t\tflag = 1;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\tif(flag == 1){\r\n\t\t\t\t\tif(diff == 0){\r\n\t\t\t\t\t\tdiff = 1;\r\n\r\n\t\t\t\t\t\t\tif(j == 11){\r\n\t\t\t\t\t\t\t\tj = 1; ++i;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\telse ++j;\r\n\t\t\t\t\t\t\t//break;\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse{\r\n\t\t\t\t\t\tif(diff==monthL){\r\n\t\t\t\t\t\t\tdiff=0;\r\n\t\t\t\t\t\t\tif(j == 11){\r\n\t\t\t\t\t\t\t\tj = 0;\r\n\t\t\t\t\t\t\t\t++i;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\telse ++j;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tdiff++;\r\n\t\t\t\t\t\t\t//break;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tthis._date = diff;\r\n\t\t\t\tthis._month = j;\r\n\t\t\t\tthis._year = 1480;\r\n\t\t\t\tthis._hours = gdate.getHours();\r\n\t\t\t\tthis._minutes = gdate.getMinutes();\r\n\t\t\t\tthis._seconds = gdate.getSeconds();\r\n\t\t\t\tthis._milliseconds = gdate.getMilliseconds();\r\n\t\t\t\tthis._day = gdate.getDay();\r\n\t\t\t\t\t\r\n\t//        \t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t\r\n\r\n\t\t}\r\n\r\n        else{\r\n        \t\r\n\t\t\t\r\n            var islamicDate = new dojox.date.islamic.Date(date);\r\n            this._date = islamicDate.getDate();\r\n            this._month = islamicDate.getMonth();\r\n            this._year = islamicDate.getFullYear();\r\n            this._hours = gdate.getHours();\r\n            this._minutes = gdate.getMinutes();\r\n            this._seconds = gdate.getSeconds();\r\n            this._milliseconds = gdate.getMilliseconds();\r\n            this._day = gdate.getDay();\r\n\t\t\t\r\n        }\r\n\r\n        return this;\r\n    },\r\n\r\n    valueOf: function(){\r\n        // summary:\r\n        //\t\tThis function returns the stored time value in milliseconds\r\n        //\t\tsince midnight, January 1, 1970 UTC\r\n\r\n        return (this.toGregorian()).valueOf();\r\n    },\r\n\r\n    // ported from the Java class com.ibm.icu.util.IslamicCalendar from ICU4J v3.6.1 at http://www.icu-project.org/\r\n    _yearStart: function(/*Number*/year){\r\n        // summary:\r\n        //\t\treturn start of Islamic year\r\n        return (year - 1) * 354 + Math.floor((3 + 11 * year) / 30.0); //1078\r\n    },\r\n\r\n    // ported from the Java class com.ibm.icu.util.IslamicCalendar from ICU4J v3.6.1 at http://www.icu-project.org/\r\n    _monthStart: function(/*Number*/year, /*Number*/month){\r\n        // summary:\r\n        //\t\treturn the start of Islamic Month\r\n        return Math.ceil(29.5 * month) +\r\n\t\t\t(year - 1) * 354 + Math.floor((3 + 11 * year) / 30.0);\r\n    },\r\n\r\n    // ported from the Java class com.ibm.icu.util.IslamicCalendar from ICU4J v3.6.1 at http://www.icu-project.org/\r\n    _civilLeapYear: function(/*Number*/year){\r\n        // summary:\r\n        //\t\treturn Boolean value if Islamic leap year\r\n        return (14 + 11 * year) % 30 < 11;\r\n    },\r\n\r\n\r\n    getDaysInIslamicMonth: function(/*Number*/ month, /*Number*/ year){\r\n        // summary:\r\n        //\t\treturns the number of days in the given Islamic month\r\n        if(year >= this._hijriBegin && year <= this._hijriEnd){\r\n            var pos = year - this._hijriBegin;\r\n            var length = 0;\r\n            if(this._MONTH_LENGTH[pos].charAt(month) == 1)\r\n                length = 30;\r\n            else length = 29;\r\n        }else{\r\n            var islamicDate = new dojox.date.islamic.Date();\r\n            length = islamicDate.getDaysInIslamicMonth(month, year);\r\n        }\r\n        return length;\r\n    }\r\n});\r\n\r\n//TODOC\r\nIDate.getDaysInIslamicMonth = function(/*dojox.date.umalqura.Date*/month){\r\n\treturn new IDate().getDaysInIslamicMonth(month.getMonth(),month.getFullYear()); // dojox.date.islamic.Date\r\n};\r\n\r\nreturn IDate;\r\n});\r\n\r\n"]}