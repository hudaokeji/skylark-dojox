{"version":3,"sources":["date/tests/posix.js"],"names":["dojo","provide","require","tests","register","name","setUp","forEach","locale","requireLocalization","runTest","t","tearDown","date","Date","is","dojox","posix","strftime","dt","fmt","res","substring","length","weekStart","getStartOfWeek","result","setIsoWeekOfYear","week","getIsoWeekOfYear","i","weeks","longYears","shift","getIsoWeeksInYear"],"mappings":"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","file":"../../../date/tests/posix.js","sourcesContent":["dojo.provide(\"dojox.date.tests.posix\");\r\ndojo.require(\"dojox.date.posix\");\r\n\r\ntests.register(\"dojox.date.tests.posix\",\r\n\t[\r\n\t\t{\r\n\t\t\t// see tests for dojo.date.locale for setup info\r\n\r\n\t\t\tname: \"dojox.date.tests.posix\",\r\n\t\t\tsetUp: function(){\r\n\t\t\t\tvar partLocaleList = [\"en\"];\r\n\r\n\t\t\t\tdojo.forEach(partLocaleList, function(locale){\r\n\t\t\t\t\tdojo.requireLocalization(\"dojo.cldr\", \"gregorian\", locale);\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\trunTest: function(t){\r\n\t\t\t},\r\n\t\t\ttearDown: function(){\r\n\t\t\t\t//Clean up bundles that should not exist if\r\n\t\t\t\t//the test is re-run.\r\n//\t\t\t\tdelete dojo.cldr.nls.gregorian;\r\n\t\t\t}\r\n\t\t},\r\n\t\t{\r\n\t\t\tname: \"strftime\",\r\n\t\t\trunTest: function(t){\r\n\t\t\t\tvar date = new Date(2006, 7, 11, 0, 55, 12, 3456);\r\n\t\t\t\tt.is(\"06/08/11\", dojox.date.posix.strftime(date, \"%y/%m/%d\"));\r\n\t\t\t\r\n\t\t\t\tvar dt = null; // Date to test\r\n\t\t\t\tvar fmt = ''; // Format to test\r\n\t\t\t\tvar res = ''; // Expected result\r\n\t\t\t\t\r\n\t\t\t\tdt = new Date(2006, 0, 1, 18, 23);\r\n\t\t\t\tfmt = '%a';\r\n\t\t\t\tres = 'Sun';\r\n\t\t\t\tt.is(res, dojox.date.posix.strftime(dt, fmt, 'en'));\r\n\t\t\t\t\r\n\t\t\t\tfmt = '%A';\r\n\t\t\t\tres = 'Sunday';\r\n\t\t\t\tt.is(res, dojox.date.posix.strftime(dt, fmt, 'en'));\r\n\t\t\t\t\r\n\t\t\t\tfmt = '%b';\r\n\t\t\t\tres = 'Jan';\r\n\t\t\t\tt.is(res, dojox.date.posix.strftime(dt, fmt, 'en'));\r\n\t\t\t\t\r\n\t\t\t\tfmt = '%B';\r\n\t\t\t\tres = 'January';\r\n\t\t\t\tt.is(res, dojox.date.posix.strftime(dt, fmt, 'en'));\r\n\t\t\t\r\n\t\t\t\tfmt = '%c';\r\n\t\t\t\tres = 'Sunday, January 1, 2006 6:23:00 PM';\r\n\t\t\t\tt.is(res, dojox.date.posix.strftime(dt, fmt).substring(0, res.length));\r\n\t\t\t\t\r\n\t\t\t\tfmt = '%C';\r\n\t\t\t\tres = '20';\r\n\t\t\t\tt.is(res, dojox.date.posix.strftime(dt, fmt));\r\n\t\t\t\t\r\n\t\t\t\tfmt = '%d';\r\n\t\t\t\tres = '01';\r\n\t\t\t\tt.is(res, dojox.date.posix.strftime(dt, fmt));\r\n\t\t\t\t\r\n\t\t\t\tfmt = '%D';\r\n\t\t\t\tres = '01/01/06';\r\n\t\t\t\tt.is(res, dojox.date.posix.strftime(dt, fmt));\r\n\t\t\t\t\r\n\t\t\t\tfmt = '%e';\r\n\t\t\t\tres = ' 1';\r\n\t\t\t\tt.is(res, dojox.date.posix.strftime(dt, fmt));\r\n\t\t\t\t\r\n\t\t\t\tfmt = '%h';\r\n\t\t\t\tres = 'Jan';\r\n\t\t\t\tt.is(res, dojox.date.posix.strftime(dt, fmt, 'en'));\r\n\t\t\t\t\r\n\t\t\t\tfmt = '%H';\r\n\t\t\t\tres = '18';\r\n\t\t\t\tt.is(res, dojox.date.posix.strftime(dt, fmt));\r\n\t\t\t\t\r\n\t\t\t\tfmt = '%I';\r\n\t\t\t\tres = '06';\r\n\t\t\t\tt.is(res, dojox.date.posix.strftime(dt, fmt));\r\n\t\t\t\t\r\n\t\t\t\tfmt = '%j';\r\n\t\t\t\tres = '001';\r\n\t\t\t\tt.is(res, dojox.date.posix.strftime(dt, fmt));\r\n\t\t\t\t\r\n\t\t\t\tfmt = '%k';\r\n\t\t\t\tres = '18';\r\n\t\t\t\tt.is(res, dojox.date.posix.strftime(dt, fmt));\r\n\t\t\t\t\r\n\t\t\t\tfmt = '%l';\r\n\t\t\t\tres = ' 6';\r\n\t\t\t\tt.is(res, dojox.date.posix.strftime(dt, fmt));\r\n\t\t\t\t\r\n\t\t\t\tfmt = '%m';\r\n\t\t\t\tres = '01';\r\n\t\t\t\tt.is(res, dojox.date.posix.strftime(dt, fmt));\r\n\t\t\t\t\r\n\t\t\t\tfmt = '%M';\r\n\t\t\t\tres = '23';\r\n\t\t\t\tt.is(res, dojox.date.posix.strftime(dt, fmt));\r\n\t\t\t\t\r\n\t\t\t\tfmt = '%p';\r\n\t\t\t\tres = 'PM';\r\n\t\t\t\tt.is(res, dojox.date.posix.strftime(dt, fmt, 'en'));\r\n\t\t\t\t\r\n\t\t\t\tfmt = '%r';\r\n\t\t\t\tres = '06:23:00 PM';\r\n\t\t\t\tt.is(res, dojox.date.posix.strftime(dt, fmt, 'en'));\r\n\t\t\t\t\r\n\t\t\t\tfmt = '%R';\r\n\t\t\t\tres = '18:23';\r\n\t\t\t\tt.is(res, dojox.date.posix.strftime(dt, fmt));\r\n\t\t\t\t\r\n\t\t\t\tfmt = '%S';\r\n\t\t\t\tres = '00';\r\n\t\t\t\tt.is(res, dojox.date.posix.strftime(dt, fmt));\r\n\t\t\t\t\r\n\t\t\t\tfmt = '%T';\r\n\t\t\t\tres = '18:23:00';\r\n\t\t\t\tt.is(res, dojox.date.posix.strftime(dt, fmt));\r\n\t\t\t\t\r\n\t\t\t\tfmt = '%u';\r\n\t\t\t\tres = '7';\r\n\t\t\t\tt.is(res, dojox.date.posix.strftime(dt, fmt));\r\n\t\t\t\t\r\n\t\t\t\tfmt = '%w';\r\n\t\t\t\tres = '0';\r\n\t\t\t\tt.is(res, dojox.date.posix.strftime(dt, fmt));\r\n\t\t\t\r\n\t\t\t\tfmt = '%x';\r\n\t\t\t\tres = 'Sunday, January 1, 2006';\r\n\t\t\t\tt.is(res, dojox.date.posix.strftime(dt, fmt, 'en'));\r\n\t\t\t\r\n\t\t\t\tfmt = '%X';\r\n\t\t\t\tres = '6:23:00 PM';\r\n\t\t\t\tt.is(res, dojox.date.posix.strftime(dt, fmt, 'en').substring(0,res.length));\r\n\t\t\t\t\r\n\t\t\t\tfmt = '%y';\r\n\t\t\t\tres = '06';\r\n\t\t\t\tt.is(res, dojox.date.posix.strftime(dt, fmt));\r\n\t\t\t\t\r\n\t\t\t\tfmt = '%Y';\r\n\t\t\t\tres = '2006';\r\n\t\t\t\tt.is(res, dojox.date.posix.strftime(dt, fmt));\r\n\t\t\t\t\r\n\t\t\t\tfmt = '%%';\r\n\t\t\t\tres = '%';\r\n\t\t\t\tt.is(res, dojox.date.posix.strftime(dt, fmt));\r\n\t\t\t}\r\n\t\t},\r\n\t\t{\r\n\t\t\tname: \"getStartOfWeek\",\r\n\t\t\trunTest: function(t){\r\n\t\t\t\tvar weekStart;\r\n\t\t\t\t\r\n\t\t\t\t// Monday\r\n\t\t\t\tvar date = new Date(2007, 0, 1);\r\n\t\t\t\tweekStart = dojox.date.posix.getStartOfWeek(new Date(2007, 0, 1), 1);\r\n\t\t\t\tt.is(date, weekStart);\r\n\t\t\t\tweekStart = dojox.date.posix.getStartOfWeek(new Date(2007, 0, 2), 1);\r\n\t\t\t\tt.is(date, weekStart);\r\n\t\t\t\tweekStart = dojox.date.posix.getStartOfWeek(new Date(2007, 0, 3), 1);\r\n\t\t\t\tt.is(date, weekStart);\r\n\t\t\t\tweekStart = dojox.date.posix.getStartOfWeek(new Date(2007, 0, 4), 1);\r\n\t\t\t\tt.is(date, weekStart);\r\n\t\t\t\tweekStart = dojox.date.posix.getStartOfWeek(new Date(2007, 0, 5), 1);\r\n\t\t\t\tt.is(date, weekStart);\r\n\t\t\t\tweekStart = dojox.date.posix.getStartOfWeek(new Date(2007, 0, 6), 1);\r\n\t\t\t\tt.is(date, weekStart);\r\n\t\t\t\tweekStart = dojox.date.posix.getStartOfWeek(new Date(2007, 0, 7), 1);\r\n\t\t\t\tt.is(date, weekStart);\r\n\t\t\t\r\n\t\t\t\t// Sunday\r\n\t\t\t\tdate = new Date(2007, 0, 7);\r\n\t\t\t\tweekStart = dojox.date.posix.getStartOfWeek(new Date(2007, 0, 7), 0);\r\n\t\t\t\tt.is(date, weekStart);\r\n\t\t\t\tweekStart = dojox.date.posix.getStartOfWeek(new Date(2007, 0, 8), 0);\r\n\t\t\t\tt.is(date, weekStart);\r\n\t\t\t\tweekStart = dojox.date.posix.getStartOfWeek(new Date(2007, 0, 9), 0);\r\n\t\t\t\tt.is(date, weekStart);\r\n\t\t\t\tweekStart = dojox.date.posix.getStartOfWeek(new Date(2007, 0, 10), 0);\r\n\t\t\t\tt.is(date, weekStart);\r\n\t\t\t\tweekStart = dojox.date.posix.getStartOfWeek(new Date(2007, 0, 11), 0);\r\n\t\t\t\tt.is(date, weekStart);\r\n\t\t\t\tweekStart = dojox.date.posix.getStartOfWeek(new Date(2007, 0, 12), 0);\r\n\t\t\t\tt.is(date, weekStart);\r\n\t\t\t\tweekStart = dojox.date.posix.getStartOfWeek(new Date(2007, 0, 13), 0);\r\n\t\t\t\tt.is(date, weekStart);\r\n\t\t\t}\r\n\t\t},\r\n\t\t{\r\n\t\t\tname: \"setIsoWeekOfYear\",\r\n\t\t\trunTest: function(t){\r\n\t\t\t\tvar date = new Date(2006,10,10);\r\n\t\t\t\tvar result = dojox.date.posix.setIsoWeekOfYear(date, 1);\r\n\t\t\t\tt.is(new Date(2006,0,6), result);\r\n\t\t\t\tresult = dojox.date.posix.setIsoWeekOfYear(date, 10);\r\n\t\t\t\tresult = dojox.date.posix.setIsoWeekOfYear(date, 2);\r\n\t\t\t\tt.is(new Date(2006,0,13), result);\r\n\t\t\t\tresult = dojox.date.posix.setIsoWeekOfYear(date, 10);\r\n\t\t\t\tt.is(new Date(2006,2,10), result);\r\n\t\t\t\tresult = dojox.date.posix.setIsoWeekOfYear(date, 52);\r\n\t\t\t\tt.is(new Date(2006,11,29), result);\r\n\t\t\t\tvar result = dojox.date.posix.setIsoWeekOfYear(date, -1);\r\n\t\t\t\tt.is(new Date(2006,11,29), result);\r\n\t\t\t\tvar result = dojox.date.posix.setIsoWeekOfYear(date, -2);\r\n\t\t\t\tt.is(new Date(2006,11,22), result);\r\n\t\t\t\tvar result = dojox.date.posix.setIsoWeekOfYear(date, -10);\r\n\t\t\t\tt.is(new Date(2006,9,27), result);\r\n\t\t\t\t\r\n\t\t\t\tdate = new Date(2004,10,10);\r\n\t\t\t\tresult = dojox.date.posix.setIsoWeekOfYear(date, 1);\r\n\t\t\t\tt.is(new Date(2003,11,31), result);\r\n\t\t\t\tresult = dojox.date.posix.setIsoWeekOfYear(date, 2);\r\n\t\t\t\tt.is(new Date(2004,0,7), result);\r\n\t\t\t\tresult = dojox.date.posix.setIsoWeekOfYear(date, -1);\r\n\t\t\t\tt.is(new Date(2004,11,29), result);\r\n\t\t\t}\r\n\t\t},\r\n\t\t{\r\n\t\t\tname: \"getIsoWeekOfYear\",\r\n\t\t\trunTest: function(t){\r\n\t\t\t\tvar week = dojox.date.posix.getIsoWeekOfYear(new Date(2006,0,1));\r\n\t\t\t\tt.is(52, week);\r\n\t\t\t\tweek = dojox.date.posix.getIsoWeekOfYear(new Date(2006,0,4));\r\n\t\t\t\tt.is(1, week);\r\n\t\t\t\tweek = dojox.date.posix.getIsoWeekOfYear(new Date(2006,11,31));\r\n\t\t\t\tt.is(52, week);\r\n\t\t\t\tweek = dojox.date.posix.getIsoWeekOfYear(new Date(2007,0,1));\r\n\t\t\t\tt.is(1, week);\r\n\t\t\t\tweek = dojox.date.posix.getIsoWeekOfYear(new Date(2007,11,31));\r\n\t\t\t\tt.is(53, week);\r\n\t\t\t\tweek = dojox.date.posix.getIsoWeekOfYear(new Date(2008,0,1));\r\n\t\t\t\tt.is(1, week);\r\n\t\t\t\tweek = dojox.date.posix.getIsoWeekOfYear(new Date(2007,11,31));\r\n\t\t\t\tt.is(53, week);\r\n\t\t\t}\r\n\t\t},\r\n\t\t{\r\n\t\t\tname: \"getIsoWeeksInYear\",\r\n\t\t\trunTest: function(t){\r\n\t\t\t\t// 44 long years in a 400 year cycle.\r\n\t\t\t\tvar longYears = [4, 9, 15, 20, 26, 32, 37, 43, 48, 54, 60, 65, 71, 76, 82,\r\n\t\t\t\t\t88,\t93, 99, 105, 111, 116, 122, 128, 133, 139, 144, 150, 156, 161, 167,\r\n\t\t\t\t\t172, 178, 184, 189, 195, 201, 207, 212, 218, 224, 229, 235, 240, 246,\r\n\t\t\t\t\t252, 257, 263, 268, 274, 280, 285, 291, 296, 303, 308, 314, 320, 325,\r\n\t\t\t\t\t331, 336, 342, 348, 353, 359, 364, 370, 376, 381, 387, 392, 398];\r\n\t\t\t\r\n\t\t\t\tvar i, j, weeks, result;\r\n\t\t\t\tfor(i=0; i < 400; i++) {\r\n\t\t\t\t\tweeks = 52;\r\n\t\t\t\t\tif(i == longYears[0]) { weeks = 53; longYears.shift(); }\r\n\t\t\t\t\tresult = dojox.date.posix.getIsoWeeksInYear(new Date(2000 + i, 0, 1));\r\n\t\t\t\t\tt.is(/*weeks +\" weeks in \"+ (2000+i), */weeks, result);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t]\r\n);\r\n"]}