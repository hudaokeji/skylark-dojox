{"version":3,"sources":["date/tests/relative.js"],"names":["dojo","provide","require","requireLocalization","tests","register","name","setUp","forEach","locale","runTest","t","tearDown","d","Date","is","date","format","selector","dojox","relative","opts","relativeDate","delegate","weekCheck"],"mappings":";;;;;;;AAAAA,KAAKC,QAAQ,6BACbD,KAAKE,QAAQ,uBACbF,KAAKE,QAAQ,aAEbF,KAAKG,oBAAoB,YAAa,aAEtCC,MAAMC,SAAS,8BAOZC,KAAM,cACNC,MAAO,WAGNP,KAAKQ,SAFiB,QAAS,SAEF,SAASC,GACrCT,KAAKG,oBAAoB,YAAa,YAAaM,MAGrDC,QAAS,SAASC,KAElBC,SAAU,eAIVN,KAAM,eACNI,QAAS,SAASC,GAEjB,IAAIE,EAAI,IAAIC,KACZH,EAAEI,GAAGf,KAAKgB,KAAKP,OAAOQ,OAAOJ,GAAIK,SAAU,SAAUC,MAAMH,KAAKI,SAASH,OAAOJ,IAGhF,IAAIQ,GAAQZ,OAAQ,QAASa,aAAc,IAAIR,KAAK,KAAM,EAAG,EAAG,EAAG,GAAI,KACvEH,EAAEI,GAAG,UAAWI,MAAMH,KAAKI,SAASH,OAAO,IAAIH,KAAK,KAAM,EAAG,EAAG,EAAG,GAAI,IAAKO,IAC5EV,EAAEI,GAAG,cAAeI,MAAMH,KAAKI,SAASH,OAAO,IAAIH,KAAK,KAAM,EAAG,GAAI,GAAI,GAAI,IAAKO,IAClFV,EAAEI,GAAG,QAASI,MAAMH,KAAKI,SAASH,OAAO,IAAIH,KAAK,KAAM,EAAG,EAAG,GAAI,GAAI,IAAKO,IAC3EV,EAAEI,GAAG,cAAeI,MAAMH,KAAKI,SAASH,OAAO,IAAIH,KAAK,KAAM,EAAG,EAAG,GAAIO,IAGxEV,EAAEI,GAAG,UAAWI,MAAMH,KAAKI,SAASH,OAAO,IAAIH,KAAK,KAAM,EAAG,EAAG,GAAI,GAAI,IAAKO,IAC7EV,EAAEI,GAAG,WAAYI,MAAMH,KAAKI,SAASH,OAAO,IAAIH,KAAK,KAAM,EAAG,EAAG,GAAIO,IACrEV,EAAEI,GAAG,SAAUI,MAAMH,KAAKI,SAASH,OAAO,IAAIH,KAAK,KAAM,EAAG,GAAI,GAAI,GAAI,IAAKd,KAAKuB,SAASF,GAAOG,WAAW,MAC7Gb,EAAEI,GAAG,QAASI,MAAMH,KAAKI,SAASH,OAAO,IAAIH,KAAK,KAAM,EAAG,EAAG,GAAI,GAAI,IAAKO,IAC3EV,EAAEI,GAAG,QAASI,MAAMH,KAAKI,SAASH,OAAO,IAAIH,KAAK,KAAM,EAAG,EAAG,GAAI,GAAI,IAAKO,IAC3EV,EAAEI,GAAG,cAAeI,MAAMH,KAAKI,SAASH,OAAO,IAAIH,KAAK,KAAM,EAAG,EAAG,GAAIO,IAGxEA,EAAKZ,OAAS,QACdE,EAAEI,GAAG,SAAoBI,MAAMH,KAAKI,SAASH,OAAO,IAAIH,KAAK,KAAM,EAAG,EAAG,EAAG,GAAI,IAAKO,IACrFV,EAAEI,GAAG,YAAiCI,MAAMH,KAAKI,SAASH,OAAO,IAAIH,KAAK,KAAM,EAAG,GAAI,GAAI,GAAI,IAAKO,IACpGV,EAAEI,GAAG,OAAkBI,MAAMH,KAAKI,SAASH,OAAO,IAAIH,KAAK,KAAM,EAAG,EAAG,GAAI,GAAI,IAAKO,IACpFV,EAAEI,GAAG,YAA4BI,MAAMH,KAAKI,SAASH,OAAO,IAAIH,KAAK,KAAM,EAAG,EAAG,GAAIO","file":"../../../date/tests/relative.js","sourcesContent":["dojo.provide(\"dojox.date.tests.relative\");\r\ndojo.require(\"dojox.date.relative\");\r\ndojo.require(\"dojo.date\");\r\n\r\ndojo.requireLocalization(\"dojo.cldr\", \"gregorian\");\r\n\r\ntests.register(\"dojox.date.tests.relative\",\r\n\t[\r\n\t\t{\r\n\t\t\t// Test formatting and parsing of dates in various locales pre-built in dojo.cldr\r\n\t\t\t// NOTE: we can't set djConfig.extraLocale before bootstrapping unit tests, so directly\r\n\t\t\t// load resources here for specific locales:\r\n\r\n\t\t\tname: \"date.locale\",\r\n\t\t\tsetUp: function(){\r\n\t\t\t\tvar partLocaleList = [\"en-us\", \"zh-cn\"];\r\n\r\n\t\t\t\tdojo.forEach(partLocaleList, function(locale){\r\n\t\t\t\t\tdojo.requireLocalization(\"dojo.cldr\", \"gregorian\", locale);\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\trunTest: function(t){\r\n\t\t\t},\r\n\t\t\ttearDown: function(){\r\n\t\t\t}\r\n\t\t},\r\n\t\t{\r\n\t\t\tname: \"format_dates\",\r\n\t\t\trunTest: function(t){\r\n\t\t\t\t//relative to \"today\", default locale\r\n\t\t\t\tvar d = new Date();\r\n\t\t\t\tt.is(dojo.date.locale.format(d, {selector: \"time\"}), dojox.date.relative.format(d));\r\n\t\t\t\t\r\n\t\t\t\t//en-us: test the various relativities\r\n\t\t\t\tvar opts = {locale: \"en-us\", relativeDate: new Date(2009, 1, 1, 5, 27, 34)};\r\n\t\t\t\tt.is(\"3:32 AM\", dojox.date.relative.format(new Date(2009, 1, 1, 3, 32, 26), opts));\r\n\t\t\t\tt.is(\"Sat 8:32 PM\", dojox.date.relative.format(new Date(2009, 0, 31, 20, 32, 26), opts));\r\n\t\t\t\tt.is(\"Jan 1\", dojox.date.relative.format(new Date(2009, 0, 1, 20, 32, 26), opts));\r\n\t\t\t\tt.is(\"Jan 1, 2008\", dojox.date.relative.format(new Date(2008, 0, 1, 0), opts));\r\n\t\t\t\t\r\n\t\t\t\t//en-us: test various options as well as future dates and edge cases\r\n\t\t\t\tt.is(\"8:32 PM\", dojox.date.relative.format(new Date(2009, 1, 1, 20, 32, 26), opts));\r\n\t\t\t\tt.is(\"12:00 AM\", dojox.date.relative.format(new Date(2009, 1, 1, 0), opts));\r\n\t\t\t\tt.is(\"Jan 31\", dojox.date.relative.format(new Date(2009, 0, 31, 20, 32, 26), dojo.delegate(opts, {weekCheck: false})));\r\n\t\t\t\tt.is(\"Jan 1\", dojox.date.relative.format(new Date(2009, 0, 1, 20, 32, 26), opts));\r\n\t\t\t\tt.is(\"Feb 2\", dojox.date.relative.format(new Date(2009, 1, 2, 20, 32, 26), opts));\r\n\t\t\t\tt.is(\"Jan 1, 2010\", dojox.date.relative.format(new Date(2010, 0, 1, 0), opts));\r\n\r\n\t\t\t\t//zh-tw: test the various relativities\r\n\t\t\t\topts.locale = \"zh-cn\";\r\n\t\t\t\tt.is(\"\\u4e0a\\u53483:32\", dojox.date.relative.format(new Date(2009, 1, 1, 3, 32, 26), opts));\r\n\t\t\t\tt.is(\"\\u5468\\u516d \\u4e0b\\u53488:32\", dojox.date.relative.format(new Date(2009, 0, 31, 20, 32, 26), opts));\r\n\t\t\t\tt.is(\"1\\u67081\\u65e5\", dojox.date.relative.format(new Date(2009, 0, 1, 20, 32, 26), opts));\r\n\t\t\t\tt.is(\"2008\\u5e741\\u67081\\u65e5\", dojox.date.relative.format(new Date(2008, 0, 1, 0), opts));\r\n\t\t\t}\r\n\t\t}\r\n\t]\r\n);\r\n"]}