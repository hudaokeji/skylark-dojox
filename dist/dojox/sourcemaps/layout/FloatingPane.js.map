{"version":3,"sources":["layout/FloatingPane.js"],"names":["define","kernel","lang","winUtil","declare","baseFx","connectUtil","arrayUtil","has","windowLib","dom","domClass","domGeom","domConstruct","TemplatedMixin","Widget","BackgroundIframe","Moveable","ContentPane","ResizeHandle","template","Dock","experimental","closable","dockable","resizable","maxable","resizeAxis","title","dockTo","duration","contentClass","_showAnim","_hideAnim","_dockNode","_restoreState","_allFPs","_startZ","templateString","attributeMap","delegate","prototype","type","node","postCreate","this","inherited","arguments","domNode","handle","focusNode","dockNode","style","display","closeNode","maxNode","restoreNode","width","getMarginBox","w","resizeHandle","push","position","bgIframe","_naturalState","startup","_started","canvas","overflow","containerNode","_resizeHandle","targetId","id","tmpId","tmpNode","tmpName","dijit","byId","create","body","add","autoPosition","visibility","minimize","connect","resize","setTitle","deprecated","set","close","unsubscribe","_listener","hide","hitch","destroyRecursive","callback","fadeOut","onEnd","_positionDock","play","show","fadeIn","beforeBegin","_isDocked","destroy","contentBox","getContentBox","mixin","h","_onShow","maximize","_maximized","setTimeout","getBox","_restore","remove","_dock","addNode","dim","dns","top","t","y","left","l","x","height","mbCanvas","offsetHeight","setMarginBox","_checkIfSingleChild","_singleChild","bringToTop","windows","filter","i","sort","a","b","zIndex","forEach","splice","indexOf"],"mappings":"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","file":"../../layout/FloatingPane.js","sourcesContent":["define([\"dojo/_base/kernel\",\"dojo/_base/lang\",\"dojo/_base/window\",\"dojo/_base/declare\",\r\n\t\t\"dojo/_base/fx\",\"dojo/_base/connect\",\"dojo/_base/array\",\"dojo/_base/sniff\",\r\n\t\t\"dojo/window\",\"dojo/dom\",\"dojo/dom-class\",\"dojo/dom-geometry\",\"dojo/dom-construct\",\r\n\t\t\"dijit/_TemplatedMixin\",\"dijit/_Widget\",\"dijit/BackgroundIframe\",\"dojo/dnd/Moveable\",\r\n\t\t\"./ContentPane\",\"./ResizeHandle\",\"dojo/text!./resources/FloatingPane.html\",\"./Dock\"], function(\r\n\tkernel, lang, winUtil, declare, baseFx, connectUtil, arrayUtil, \r\n\thas, windowLib, dom, domClass, domGeom, domConstruct, TemplatedMixin, Widget, BackgroundIframe, \r\n\tMoveable, ContentPane, ResizeHandle, template,Dock){\r\n\t\r\nkernel.experimental(\"dojox.layout.FloatingPane\");\r\nvar FloatingPane = declare(\"dojox.layout.FloatingPane\", [ ContentPane, TemplatedMixin ],{\r\n\t// summary:\r\n\t//\t\tA non-modal Floating window.\r\n\t// description:\r\n\t//\t\tMakes a `dojox.layout.ContentPane` float and draggable by it's title [similar to TitlePane]\r\n\t//\t\tand over-rides onClick to onDblClick for wipeIn/Out of containerNode\r\n\t//\t\tprovides minimize(dock) / show() and hide() methods, and resize [almost]\r\n\r\n\t// closable: Boolean\r\n\t//\t\tAllow closure of this Node\r\n\tclosable: true,\r\n\r\n\t// dockable: Boolean\r\n\t//\t\tAllow minimizing of pane if true\r\n\tdockable: true,\r\n\r\n\t// resizable: Boolean\r\n\t//\t\tAllow resizing of pane true if true\r\n\tresizable: false,\r\n\r\n\t// maxable: Boolean\r\n\t//\t\tHorrible param name for \"Can you maximize this floating pane?\"\r\n\tmaxable: false,\r\n\r\n\t// resizeAxis: String\r\n\t//\t\tOne of: x | xy | y to limit pane's sizing direction\r\n\tresizeAxis: \"xy\",\r\n\r\n\t// title: String\r\n\t//\t\tTitle to use in the header\r\n\ttitle: \"\",\r\n\r\n\t// dockTo: DomNode?\r\n\t//\t\tif empty, will create private layout.Dock that scrolls with viewport\r\n\t//\t\ton bottom span of viewport.\r\n\tdockTo: \"\",\r\n\r\n\t// duration: Integer\r\n\t//\t\tTime is MS to spend toggling in/out node\r\n\tduration: 400,\r\n\r\n\t/*=====\r\n\t// iconSrc: String\r\n\t//\t\t[not implemented yet] will be either icon in titlepane to left\r\n\t//\t\tof Title, and/or icon show when docked in a fisheye-like dock\r\n\t//\t\tor maybe dockIcon would be better?\r\n\ticonSrc: null,\r\n\t=====*/\r\n\r\n\t// contentClass: String\r\n\t//\t\tThe className to give to the inner node which has the content\r\n\tcontentClass: \"dojoxFloatingPaneContent\",\r\n\r\n\t// animation holders for toggle\r\n\t_showAnim: null,\r\n\t_hideAnim: null,\r\n\t// node in the dock (if docked)\r\n\t_dockNode: null,\r\n\r\n\t// privates:\r\n\t_restoreState: {},\r\n\t_allFPs: [],\r\n\t_startZ: 100,\r\n\r\n\ttemplateString: template,\r\n\t\r\n\tattributeMap: lang.delegate(Widget.prototype.attributeMap, {\r\n\t\ttitle: { type:\"innerHTML\", node:\"titleNode\" }\r\n\t}),\r\n\t\r\n\tpostCreate: function(){\r\n\t\tthis.inherited(arguments);\r\n\t\tnew Moveable(this.domNode,{ handle: this.focusNode });\r\n\t\t//this._listener = dojo.subscribe(\"/dnd/move/start\",this,\"bringToTop\");\r\n\r\n\t\tif(!this.dockable){ this.dockNode.style.display = \"none\"; }\r\n\t\tif(!this.closable){ this.closeNode.style.display = \"none\"; }\r\n\t\tif(!this.maxable){\r\n\t\t\tthis.maxNode.style.display = \"none\";\r\n\t\t\tthis.restoreNode.style.display = \"none\";\r\n\t\t}\r\n\t\tif(!this.resizable){\r\n\t\t\tthis.resizeHandle.style.display = \"none\";\r\n\t\t}else{\r\n\t\t\tthis.domNode.style.width = domGeom.getMarginBox(this.domNode).w + \"px\";\r\n\t\t}\r\n\t\tthis._allFPs.push(this);\r\n\t\tthis.domNode.style.position = \"absolute\";\r\n\t\t\r\n\t\tthis.bgIframe = new BackgroundIframe(this.domNode);\r\n\t\tthis._naturalState = domGeom.position(this.domNode);\r\n\t},\r\n\t\r\n\tstartup: function(){\r\n\t\tif(this._started){ return; }\r\n\t\t\r\n\t\tthis.inherited(arguments);\r\n\r\n\t\tif(this.resizable){\r\n\t\t\tif(has(\"ie\")){\r\n\t\t\t\tthis.canvas.style.overflow = \"auto\";\r\n\t\t\t}else{\r\n\t\t\t\tthis.containerNode.style.overflow = \"auto\";\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tthis._resizeHandle = new ResizeHandle({\r\n\t\t\t\ttargetId: this.id,\r\n\t\t\t\tresizeAxis: this.resizeAxis\r\n\t\t\t},this.resizeHandle);\r\n\r\n\t\t}\r\n\r\n\t\tif(this.dockable){\r\n\t\t\t// FIXME: argh.\r\n\t\t\tvar tmpName = this.dockTo;\r\n\r\n\t\t\tif(this.dockTo){\r\n\t\t\t\tthis.dockTo = dijit.byId(this.dockTo);\r\n\t\t\t}else{\r\n\t\t\t\tthis.dockTo = dijit.byId('dojoxGlobalFloatingDock');\r\n\t\t\t}\r\n\r\n\t\t\tif(!this.dockTo){\r\n\t\t\t\tvar tmpId, tmpNode;\r\n\t\t\t\t// we need to make our dock node, and position it against\r\n\t\t\t\t// .dojoxDockDefault .. this is a lot. either dockto=\"node\"\r\n\t\t\t\t// and fail if node doesn't exist or make the global one\r\n\t\t\t\t// once, and use it on empty OR invalid dockTo=\"\" node?\r\n\t\t\t\tif(tmpName){\r\n\t\t\t\t\ttmpId = tmpName;\r\n\t\t\t\t\ttmpNode = dom.byId(tmpName);\r\n\t\t\t\t}else{\r\n\t\t\t\t\ttmpNode = domConstruct.create('div', null, winUtil.body());\r\n\t\t\t\t\tdomClass.add(tmpNode,\"dojoxFloatingDockDefault\");\r\n\t\t\t\t\ttmpId = 'dojoxGlobalFloatingDock';\r\n\t\t\t\t}\r\n\t\t\t\tthis.dockTo = new Dock({ id: tmpId, autoPosition: \"south\" }, tmpNode);\r\n\t\t\t\tthis.dockTo.startup();\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif((this.domNode.style.display == \"none\")||(this.domNode.style.visibility == \"hidden\")){\r\n\t\t\t\t// If the FP is created dockable and non-visible, start up docked.\r\n\t\t\t\tthis.minimize();\r\n\t\t\t}\r\n\t\t}\r\n\t\tthis.connect(this.focusNode,\"onmousedown\",\"bringToTop\");\r\n\t\tthis.connect(this.domNode,\t\"onmousedown\",\"bringToTop\");\r\n\r\n\t\t// Initial resize to give child the opportunity to lay itself out\r\n\t\tthis.resize(domGeom.position(this.domNode));\r\n\t\t\r\n\t\tthis._started = true;\r\n\t},\r\n\r\n\tsetTitle: function(/* String */ title){\r\n\t\t// summary:\r\n\t\t//\t\tUpdate the Title bar with a new string\r\n\t\tkernel.deprecated(\"pane.setTitle\", \"Use pane.set('title', someTitle)\", \"2.0\");\r\n\t\tthis.set(\"title\", title);\r\n\t},\r\n\t\t\r\n\tclose: function(){\r\n\t\t// summary:\r\n\t\t//\t\tClose and destroy this widget\r\n\t\tif(!this.closable){ return; }\r\n\t\tconnectUtil.unsubscribe(this._listener);\r\n\t\tthis.hide(lang.hitch(this,function(){\r\n\t\t\tthis.destroyRecursive();\r\n\t\t}));\r\n\t},\r\n\r\n\thide: function(/* Function? */ callback){\r\n\t\t// summary:\r\n\t\t//\t\tClose, but do not destroy this FloatingPane\r\n\t\tbaseFx.fadeOut({\r\n\t\t\tnode:this.domNode,\r\n\t\t\tduration:this.duration,\r\n\t\t\tonEnd: lang.hitch(this,function() {\r\n\t\t\t\tthis.domNode.style.display = \"none\";\r\n\t\t\t\tthis.domNode.style.visibility = \"hidden\";\r\n\t\t\t\tif(this.dockTo && this.dockable){\r\n\t\t\t\t\tthis.dockTo._positionDock(null);\r\n\t\t\t\t}\r\n\t\t\t\tif(callback){\r\n\t\t\t\t\tcallback();\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t}).play();\r\n\t},\r\n\r\n\tshow: function(/* Function? */callback){\r\n\t\t// summary:\r\n\t\t//\t\tShow the FloatingPane\r\n\t\tvar anim = baseFx.fadeIn({node:this.domNode, duration:this.duration,\r\n\t\t\tbeforeBegin: lang.hitch(this,function(){\r\n\t\t\t\tthis.domNode.style.display = \"\";\r\n\t\t\t\tthis.domNode.style.visibility = \"visible\";\r\n\t\t\t\tif (this.dockTo && this.dockable) { this.dockTo._positionDock(null); }\r\n\t\t\t\tif (typeof callback == \"function\") { callback(); }\r\n\t\t\t\tthis._isDocked = false;\r\n\t\t\t\tif (this._dockNode) {\r\n\t\t\t\t\tthis._dockNode.destroy();\r\n\t\t\t\t\tthis._dockNode = null;\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t}).play();\r\n\t\t// use w / h from content box dimensions and x / y from position\r\n\t\tvar contentBox = domGeom.getContentBox(this.domNode)\r\n\t\tthis.resize(lang.mixin(domGeom.position(this.domNode), {w: contentBox.w, h: contentBox.h}));\r\n\t\tthis._onShow(); // lazy load trigger\r\n\t},\r\n\r\n\tminimize: function(){\r\n\t\t// summary:\r\n\t\t//\t\tHide and dock the FloatingPane\r\n\t\tif(!this._isDocked){ this.hide(lang.hitch(this,\"_dock\")); }\r\n\t},\r\n\r\n\tmaximize: function(){\r\n\t\t// summary:\r\n\t\t//\t\tMake this FloatingPane full-screen (viewport)\r\n\t\tif(this._maximized){ return; }\r\n\t\tthis._naturalState = domGeom.position(this.domNode);\r\n\t\tif(this._isDocked){\r\n\t\t\tthis.show();\r\n\t\t\tsetTimeout(lang.hitch(this,\"maximize\"),this.duration);\r\n\t\t}\r\n\t\tdomClass.add(this.focusNode,\"floatingPaneMaximized\");\r\n\t\tthis.resize(windowLib.getBox());\r\n\t\tthis._maximized = true;\r\n\t},\r\n\r\n\t_restore: function(){\r\n\t\tif(this._maximized){\r\n\t\t\tthis.resize(this._naturalState);\r\n\t\t\tdomClass.remove(this.focusNode,\"floatingPaneMaximized\");\r\n\t\t\tthis._maximized = false;\r\n\t\t}\r\n\t},\r\n\r\n\t_dock: function(){\r\n\t\tif(!this._isDocked && this.dockable){\r\n\t\t\tthis._dockNode = this.dockTo.addNode(this);\r\n\t\t\tthis._isDocked = true;\r\n\t\t}\r\n\t},\r\n\t\r\n\tresize: function(/* Object */dim){\r\n\t\t// summary:\r\n\t\t//\t\tSize the FloatingPane and place accordingly\r\n\t\tdim = dim || this._naturalState;\r\n\t\tthis._naturalState = dim;\r\n\r\n\t\t// From the ResizeHandle we only get width and height information\r\n\t\tvar dns = this.domNode.style;\r\n\t\tif(\"t\" in dim){ dns.top = dim.t + \"px\"; }\r\n\t\telse if(\"y\" in dim){ dns.top = dim.y + \"px\"; }\r\n\t\tif(\"l\" in dim){ dns.left = dim.l + \"px\"; }\r\n\t\telse if(\"x\" in dim){ dns.left = dim.x + \"px\"; }\r\n\t\tdns.width = dim.w + \"px\";\r\n\t\tdns.height = dim.h + \"px\";\r\n\r\n\t\t// Now resize canvas\r\n\t\tvar mbCanvas = { l: 0, t: 0, w: dim.w, h: (dim.h - this.focusNode.offsetHeight) };\r\n\t\tdomGeom.setMarginBox(this.canvas, mbCanvas);\r\n\r\n\t\t// If the single child can resize, forward resize event to it so it can\r\n\t\t// fit itself properly into the content area\r\n\t\tthis._checkIfSingleChild();\r\n\t\tif(this._singleChild && this._singleChild.resize){\r\n\t\t\tthis._singleChild.resize(mbCanvas);\r\n\t\t}\r\n\t},\r\n\t\r\n\tbringToTop: function(){\r\n\t\t// summary:\r\n\t\t//\t\tbring this FloatingPane above all other panes\r\n\t\tvar windows = arrayUtil.filter(\r\n\t\t\tthis._allFPs,\r\n\t\t\tfunction(i){\r\n\t\t\t\treturn i !== this;\r\n\t\t\t},\r\n\t\tthis);\r\n\t\twindows.sort(function(a, b){\r\n\t\t\treturn a.domNode.style.zIndex - b.domNode.style.zIndex;\r\n\t\t});\r\n\t\twindows.push(this);\r\n\t\t\r\n\t\tarrayUtil.forEach(windows, function(w, x){\r\n\t\t\tw.domNode.style.zIndex = this._startZ + (x * 2);\r\n\t\t\tdomClass.remove(w.domNode, \"dojoxFloatingPaneFg\");\r\n\t\t}, this);\r\n\t\tdomClass.add(this.domNode, \"dojoxFloatingPaneFg\");\r\n\t},\r\n\t\r\n\tdestroy: function(){\r\n\t\t// summary:\r\n\t\t//\t\tDestroy this FloatingPane completely\r\n\t\tthis._allFPs.splice(arrayUtil.indexOf(this._allFPs, this), 1);\r\n\t\tif(this._resizeHandle){\r\n\t\t\tthis._resizeHandle.destroy();\r\n\t\t}\r\n\t\tthis.inherited(arguments);\r\n\t}\r\n});\r\n\r\nreturn FloatingPane;\r\n});"]}