{"version":3,"sources":["layout/ExpandoPane.js"],"names":["define","kernel","lang","declare","arrayUtil","connectUtil","eventUtil","baseFx","domStyle","domClass","domGeom","template","ContentPane","TemplatedMixin","Contained","Container","experimental","attributeMap","delegate","prototype","title","node","type","templateString","easeOut","easeIn","duration","startExpanded","previewOpacity","previewOnDblClick","tabIndex","_setTabIndexAttr","baseClass","postCreate","this","inherited","arguments","_animConnects","_isHorizontal","isString","getObject","thisClass","rtl","isLeftToRight","region","_needsPosition","add","domNode","iconNode","test","set","overflow","padding","connect","setAttribute","id","getParent","hitch","_isonlypreview","_startupSizes","_container","_closedSize","_titleHeight","getMarginBox","titleWrapper","h","splitter","myid","forEach","dijit","registry","toArray","w","child","_currentSize","getContentBox","_showSize","_setupAnims","_showing","_hideWrapper","_hideAnim","gotoPercent","_hasSizes","_afterResize","e","tmp","n","_showEnd","disconnect","_common","isHorizontal","showProps","showSize","hideSize","hideProps","dimension","also","end","parseInt","style","_showAnim","animateProperty","mixin","easing","properties","preview","toggle","stop","play","cwrapper","visibility","opacity","anim","remove","_previewShowing","resize","setTimeout","_hideEnd","newSize","currentSize","_contentBox","containerNode","setMarginBox","_layoutChildren","_trap"],"mappings":"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","file":"../../layout/ExpandoPane.js","sourcesContent":["define([\r\n\t\"dojo/_base/kernel\",\r\n\t\"dojo/_base/lang\",\r\n\t\"dojo/_base/declare\",\r\n\t\"dojo/_base/array\", \r\n\t\"dojo/_base/connect\",\r\n\t\"dojo/_base/event\",\r\n\t\"dojo/_base/fx\",\r\n\t\"dojo/dom-style\",\r\n\t\"dojo/dom-class\",\r\n\t\"dojo/dom-geometry\",\r\n\t\"dojo/text!./resources/ExpandoPane.html\",\r\n\t\"dijit/layout/ContentPane\",\r\n\t\"dijit/_TemplatedMixin\",\r\n\t\"dijit/_Contained\",\r\n\t\"dijit/_Container\"\r\n], function(kernel,lang,declare,arrayUtil,connectUtil,eventUtil,baseFx,domStyle,domClass,domGeom,\r\n\t\ttemplate,ContentPane,TemplatedMixin,Contained,Container) {\r\nkernel.experimental(\"dojox.layout.ExpandoPane\"); // just to show it can be done?\r\n\r\nreturn declare(\"dojox.layout.ExpandoPane\", [ContentPane, TemplatedMixin, Contained, Container],{\r\n\t// summary:\r\n\t//\t\tAn experimental collapsing-pane for dijit.layout.BorderContainer\r\n\t// description:\r\n\t//\t\tWorks just like a ContentPane inside of a borderContainer. Will expand/collapse on\r\n\t//\t\tcommand, and supports having Layout Children as direct descendants\r\n\r\n\t//maxHeight: \"\",\r\n\t//maxWidth: \"\",\r\n\t//splitter: false,\r\n\tattributeMap: lang.delegate(ContentPane.prototype.attributeMap, {\r\n\t\ttitle: { node: \"titleNode\", type: \"innerHTML\" }\r\n\t}),\r\n\t\r\n\ttemplateString: template,\r\n\r\n\t// easeOut: String|Function\r\n\t//\t\teasing function used to hide pane\r\n\teaseOut: \"dojo._DefaultEasing\", // FIXME: This won't work with globalless AMD\r\n\t\r\n\t// easeIn: String|Function\r\n\t//\t\teasing function use to show pane\r\n\teaseIn: \"dojo._DefaultEasing\", // FIXME: This won't work with globalless AMD\r\n\t\r\n\t// duration: Integer\r\n\t//\t\tduration to run show/hide animations\r\n\tduration: 420,\r\n\r\n\t// startExpanded: Boolean\r\n\t//\t\tDoes this widget start in an open (true) or closed (false) state\r\n\tstartExpanded: true,\r\n\r\n\t// previewOpacity: Float\r\n\t//\t\tA value from 0 .. 1 indicating the opacity to use on the container\r\n\t//\t\twhen only showing a preview\r\n\tpreviewOpacity: 0.75,\r\n\t\r\n\t// previewOnDblClick: Boolean\r\n\t//\t\tIf true, will override the default behavior of a double-click calling a full toggle.\r\n\t//\t\tIf false, a double-click will cause the preview to popup\r\n\tpreviewOnDblClick: false,\r\n\r\n\t// tabIndex: String\r\n\t//\t\tOrder fields are traversed when user hits the tab key\r\n\ttabIndex: \"0\",\r\n\t_setTabIndexAttr: \"iconNode\",\r\n\r\n\tbaseClass: \"dijitExpandoPane\",\r\n\r\n\tpostCreate: function(){\r\n\t\tthis.inherited(arguments);\r\n\t\tthis._animConnects = [];\r\n\r\n\t\tthis._isHorizontal = true;\r\n\t\t\r\n\t\tif(lang.isString(this.easeOut)){\r\n\t\t\tthis.easeOut = lang.getObject(this.easeOut);\r\n\t\t}\r\n\t\tif(lang.isString(this.easeIn)){\r\n\t\t\tthis.easeIn = lang.getObject(this.easeIn);\r\n\t\t}\r\n\t\r\n\t\tvar thisClass = \"\", rtl = !this.isLeftToRight();\r\n\t\tif(this.region){\r\n\t\t\tswitch(this.region){\r\n\t\t\t\tcase \"trailing\" :\r\n\t\t\t\tcase \"right\" :\r\n\t\t\t\t\tthisClass = rtl ? \"Left\" : \"Right\";\r\n\t\t\t\t\tthis._needsPosition = \"left\";\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"leading\" :\r\n\t\t\t\tcase \"left\" :\r\n\t\t\t\t\tthisClass = rtl ? \"Right\" : \"Left\";\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"top\" :\r\n\t\t\t\t\tthisClass = \"Top\";\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"bottom\" :\r\n\t\t\t\t\tthis._needsPosition = \"top\";\r\n\t\t\t\t\tthisClass = \"Bottom\";\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tdomClass.add(this.domNode, \"dojoxExpando\" + thisClass);\r\n\t\t\tdomClass.add(this.iconNode, \"dojoxExpandoIcon\" + thisClass);\r\n\t\t\tthis._isHorizontal = /top|bottom/.test(this.region);\r\n\t\t}\r\n\t\tdomStyle.set(this.domNode, {\r\n\t\t\toverflow: \"hidden\",\r\n\t\t\tpadding:0\r\n\t\t});\r\n\t\t\r\n\t\tthis.connect(this.domNode, \"ondblclick\", this.previewOnDblClick ? \"preview\" : \"toggle\");\r\n\t\t\r\n\t\tthis.iconNode.setAttribute(\"aria-controls\", this.id);\r\n\t\t\r\n\t\tif(this.previewOnDblClick){\r\n\t\t\tthis.connect(this.getParent(), \"_layoutChildren\", lang.hitch(this, function(){\r\n\t\t\t\tthis._isonlypreview = false;\r\n\t\t\t}));\r\n\t\t}\r\n\t\t\r\n\t},\r\n\t\r\n\t_startupSizes: function(){\r\n\t\t\r\n\t\tthis._container = this.getParent();\r\n\t\tthis._closedSize = this._titleHeight = domGeom.getMarginBox(this.titleWrapper).h;\r\n\t\t\r\n\t\tif(this.splitter){\r\n\t\t\t// find our splitter and tie into it's drag logic\r\n\t\t\tvar myid = this.id;\r\n\t\t\tarrayUtil.forEach(dijit.registry.toArray(), function(w){\r\n\t\t\t\tif(w && w.child && w.child.id == myid){\r\n\t\t\t\t\tthis.connect(w,\"_stopDrag\",\"_afterResize\");\r\n\t\t\t\t}\r\n\t\t\t}, this);\r\n\t\t}\r\n\t\t\r\n\t\tthis._currentSize = domGeom.getContentBox(this.domNode);\t// TODO: can compute this from passed in value to resize(), see _LayoutWidget for example\r\n\t\tthis._showSize = this._currentSize[(this._isHorizontal ? \"h\" : \"w\")];\r\n\t\tthis._setupAnims();\r\n\r\n\t\tif(this.startExpanded){\r\n\t\t\tthis._showing = true;\r\n\t\t}else{\r\n\t\t\tthis._showing = false;\r\n\t\t\tthis._hideWrapper();\r\n\t\t\tthis._hideAnim.gotoPercent(99,true);\r\n\t\t}\r\n\t\t\r\n\t\tthis.domNode.setAttribute(\"aria-expanded\", this._showing);\r\n\t\tthis._hasSizes = true;\r\n\t},\r\n\t\r\n\t_afterResize: function(e){\r\n\t\tvar tmp = this._currentSize;\t\t\t\t\t\t// the old size\r\n\t\tthis._currentSize = domGeom.getMarginBox(this.domNode);\t// the new size\r\n\t\tvar n = this._currentSize[(this._isHorizontal ? \"h\" : \"w\")];\r\n\t\tif(n > this._titleHeight){\r\n\t\t\tif(!this._showing){\r\n\t\t\t\tthis._showing = !this._showing;\r\n\t\t\t\tthis._showEnd();\r\n\t\t\t}\r\n\t\t\tthis._showSize = n;\r\n\t\t\tthis._setupAnims();\r\n\t\t}else{\r\n\t\t\tthis._showSize = tmp[(this._isHorizontal ? \"h\" : \"w\")];\r\n\t\t\tthis._showing = false;\r\n\t\t\tthis._hideWrapper();\r\n\t\t\tthis._hideAnim.gotoPercent(89,true);\r\n\t\t}\r\n\t\t\r\n\t},\r\n\t\r\n\t_setupAnims: function(){\r\n\t\t// summary:\r\n\t\t//\t\tCreate the show and hide animations\r\n\t\tarrayUtil.forEach(this._animConnects, connectUtil.disconnect);\r\n\t\t\r\n\t\tvar _common = {\r\n\t\t\t\tnode:this.domNode,\r\n\t\t\t\tduration:this.duration\r\n\t\t\t},\r\n\t\t\tisHorizontal = this._isHorizontal,\r\n\t\t\tshowProps = {},\r\n\t\t\tshowSize = this._showSize,\r\n\t\t\thideSize = this._closedSize,\r\n\t\t\thideProps = {},\r\n\t\t\tdimension = isHorizontal ? \"height\" : \"width\",\r\n\t\t\talso = this._needsPosition\r\n\t\t;\r\n\r\n\t\tshowProps[dimension] = {\r\n\t\t\tend: showSize\r\n\t\t};\r\n\t\thideProps[dimension] = {\r\n\t\t\tend: hideSize\r\n\t\t};\r\n\t\t\r\n\t\tif(also){\r\n\t\t\tshowProps[also] = {\r\n\t\t\t\tend: function(n){\r\n\t\t\t\t\tvar c = parseInt(n.style[also], 10);\r\n\t\t\t\t\treturn c - showSize + hideSize; \r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\thideProps[also] = {\r\n\t\t\t\tend: function(n){\r\n\t\t\t\t\tvar c = parseInt(n.style[also], 10);\r\n\t\t\t\t\treturn c + showSize - hideSize;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tthis._showAnim = baseFx.animateProperty(lang.mixin(_common,{\r\n\t\t\teasing:this.easeIn,\r\n\t\t\tproperties: showProps\r\n\t\t}));\r\n\t\tthis._hideAnim = baseFx.animateProperty(lang.mixin(_common,{\r\n\t\t\teasing:this.easeOut,\r\n\t\t\tproperties: hideProps\r\n\t\t}));\r\n\r\n\t\tthis._animConnects = [\r\n\t\t\tconnectUtil.connect(this._showAnim, \"onEnd\", this, \"_showEnd\"),\r\n\t\t\tconnectUtil.connect(this._hideAnim, \"onEnd\", this, \"_hideEnd\")\r\n\t\t];\r\n\t},\r\n\t\r\n\tpreview: function(){\r\n\t\t// summary:\r\n\t\t//\t\tExpand this pane in preview mode (does not affect surrounding layout)\r\n\r\n\t\tif(!this._showing){\r\n\t\t\tthis._isonlypreview = !this._isonlypreview;\r\n\t\t}\r\n\t\tthis.toggle();\r\n\t},\r\n\r\n\ttoggle: function(){\r\n\t\t// summary:\r\n\t\t//\t\tToggle this pane's visibility\r\n\t\tif(this._showing){\r\n\t\t\tthis._hideWrapper();\r\n\t\t\tthis._showAnim && this._showAnim.stop();\r\n\t\t\tthis._hideAnim.play();\r\n\t\t}else{\r\n\t\t\tthis._hideAnim && this._hideAnim.stop();\r\n\t\t\tthis._showAnim.play();\r\n\t\t}\r\n\t\tthis._showing = !this._showing;\r\n\t\tthis.domNode.setAttribute(\"aria-expanded\", this._showing);\r\n\t},\r\n\t\r\n\t_hideWrapper: function(){\r\n\t\t// summary:\r\n\t\t//\t\tSet the Expando state to \"closed\"\r\n\t\tdomClass.add(this.domNode, \"dojoxExpandoClosed\");\r\n\t\t\r\n\t\tdomStyle.set(this.cwrapper,{\r\n\t\t\tvisibility: \"hidden\",\r\n\t\t\topacity: \"0\",\r\n\t\t\toverflow: \"hidden\"\r\n\t\t});\r\n\t},\r\n\t\r\n\t_showEnd: function(){\r\n\t\t// summary:\r\n\t\t//\t\tCommon animation onEnd code - \"unclose\"\r\n\t\tdomStyle.set(this.cwrapper, {\r\n\t\t\topacity: 0,\r\n\t\t\tvisibility:\"visible\"\r\n\t\t});\r\n\t\tbaseFx.anim(this.cwrapper, {\r\n\t\t\topacity: this._isonlypreview ? this.previewOpacity : 1\r\n\t\t}, 227);\r\n\t\tdomClass.remove(this.domNode, \"dojoxExpandoClosed\");\r\n\t\tif(!this._isonlypreview){\r\n\t\t\tsetTimeout(lang.hitch(this._container, \"layout\"), 15);\r\n\t\t}else{\r\n\t\t\tthis._previewShowing = true;\r\n\t\t\tthis.resize();\r\n\t\t}\r\n\t},\r\n\t\r\n\t_hideEnd: function(){\r\n\t\t// summary:\r\n\t\t//\t\tCallback for the hide animation - \"close\"\r\n\r\n\t\t// every time we hide, reset the \"only preview\" state\r\n\t\tif(!this._isonlypreview){\r\n\t\t\tsetTimeout(lang.hitch(this._container, \"layout\"), 25);\r\n\t\t}else{\r\n\t\t\tthis._previewShowing = false;\r\n\t\t}\r\n\t\tthis._isonlypreview = false;\r\n\t\t\r\n\t},\r\n\t\r\n\tresize: function(/*Object?*/newSize){\r\n\t\t// summary:\r\n\t\t//\t\twe aren't a layout widget, but need to act like one.\r\n\t\t// newSize: Object\r\n\t\t//\t\tThe size object to resize to\r\n\r\n\t\tif(!this._hasSizes){ this._startupSizes(newSize); }\r\n\t\t\r\n\t\t// compute size of container (ie, size left over after title bar)\r\n\t\tvar currentSize = domGeom.getMarginBox(this.domNode);\r\n\t\tthis._contentBox = {\r\n\t\t\tw: newSize && \"w\" in newSize ? newSize.w : currentSize.w,\r\n\t\t\th: (newSize && \"h\" in newSize ? newSize.h : currentSize.h) - this._titleHeight\r\n\t\t};\r\n\t\tdomStyle.set(this.containerNode, \"height\", this._contentBox.h + \"px\");\r\n\r\n\t\tif(newSize){\r\n\t\t\tdomGeom.setMarginBox(this.domNode, newSize);\r\n\t\t}\r\n\r\n\t\tthis._layoutChildren();\r\n\t\tthis._setupAnims();\r\n\t},\r\n\t\r\n\t_trap: function(/*Event*/ e){\r\n\t\t// summary:\r\n\t\t//\t\tTrap stray events\r\n\t\teventUtil.stop(e);\r\n\t}\r\n});\r\n});\r\n"]}