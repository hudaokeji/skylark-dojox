{"version":3,"sources":["mobile/bidi/Switch.js"],"names":["define","declare","common","domClass","postCreate","this","inherited","arguments","textDir","getParent","get","set","buildRendering","isLeftToRight","add","left","firstChild","right","_newState","newState","inner","offsetLeft","_width","_setLeftLabelAttr","label","innerHTML","enforceTextDirWithUcc","_setRightLabelAttr","_setTextDirAttr","_created","removeUCCFromText"],"mappings":";;;;;;;AAAAA,QACC,qBACA,WACA,kBACE,SAASC,EAASC,EAAQC,GAK5B,OAAOF,EAAQ,MAOdG,WAAY,WACXC,KAAKC,UAAUC,YACXF,KAAKG,SAAWH,KAAKI,aAAeJ,KAAKI,YAAYC,IAAI,YAC5DL,KAAKM,IAAI,UAAWN,KAAKI,YAAYC,IAAI,aAG3CE,eAAgB,WACfP,KAAKC,UAAUC,WAEXF,KAAKQ,kBACRV,EAASW,IAAIT,KAAKU,KAAM,sBACxBZ,EAASW,IAAIT,KAAKU,KAAKC,WAAY,wBACnCb,EAASW,IAAIT,KAAKY,MAAO,uBACzBd,EAASW,IAAIT,KAAKY,MAAMD,WAAY,2BAGtCE,UAAW,SAASC,GACnB,OAAGd,KAAKQ,gBACAR,KAAKC,UAAUC,WAEfF,KAAKe,MAAMC,YAAehB,KAAKiB,OAAO,EAAM,KAAO,OAE5DC,kBAAmB,SAASC,GAC3BnB,KAAKC,UAAUC,WACfF,KAAKU,KAAKC,WAAWS,UAAYvB,EAAOwB,sBAAsBrB,KAAKU,KAAKC,WAAWS,UAAWpB,KAAKG,UAGpGmB,mBAAoB,SAASH,GAC5BnB,KAAKC,UAAUC,WACfF,KAAKY,MAAMD,WAAWS,UAAYvB,EAAOwB,sBAAsBrB,KAAKY,MAAMD,WAAWS,UAAWpB,KAAKG,UAGtGoB,gBAAiB,SAASpB,IACtBA,GAAaH,KAAKwB,UAAYxB,KAAKG,UAAYA,IACjDH,KAAKG,QAAUA,EACfH,KAAKU,KAAKC,WAAWS,UAAYvB,EAAO4B,kBAAkBzB,KAAKU,KAAKC,WAAWS,WAC/EpB,KAAKU,KAAKC,WAAWS,UAAYvB,EAAOwB,sBAAsBrB,KAAKU,KAAKC,WAAWS,UAAWpB,KAAKG,SACnGH,KAAKY,MAAMD,WAAWS,UAAYvB,EAAO4B,kBAAkBzB,KAAKY,MAAMD,WAAWS,WACjFpB,KAAKY,MAAMD,WAAWS,UAAYvB,EAAOwB,sBAAsBrB,KAAKY,MAAMD,WAAWS,UAAWpB,KAAKG","file":"../../../mobile/bidi/Switch.js","sourcesContent":["define([\r\n\t\"dojo/_base/declare\",\r\n\t\"./common\",\r\n\t\"dojo/dom-class\"\t\r\n], function(declare, common, domClass){\r\n\r\n\t// module:\r\n\t//\t\tdojox/mobile/bidi/Switch\r\n\r\n\treturn declare(null, {\r\n\t\t// summary:\r\n\t\t//\t\tBidi support for mobile Switch widget, using Unicode Control Characters to control text direction.\r\n\t\t// description:\r\n\t\t//\t\tImplementation for text direction support for LeftLabel and RightLabel.\r\n\t\t//\t\tThis class should not be used directly.\r\n\t\t//\t\tMobile Switch widget loads this module when user sets \"has: {'dojo-bidi': true }\" in data-dojo-config.\r\n\t\tpostCreate: function(){\r\n\t\t\tthis.inherited(arguments);\r\n\t\t\tif(!this.textDir && this.getParent() && this.getParent().get(\"textDir\")){\r\n\t\t\t\tthis.set(\"textDir\", this.getParent().get(\"textDir\"));\r\n\t\t\t}\r\n\t\t},\r\n\t\tbuildRendering: function(){\r\n\t\t\tthis.inherited(arguments);\r\n\t\t\t// dojox.mobile mirroring support\r\n\t\t\tif(!this.isLeftToRight()){\r\n\t\t\t\tdomClass.add(this.left, \"mblSwitchBgLeftRtl\");\r\n\t\t\t\tdomClass.add(this.left.firstChild, \"mblSwitchTextLeftRtl\");\r\n\t\t\t\tdomClass.add(this.right, \"mblSwitchBgRightRtl\");\r\n\t\t\t\tdomClass.add(this.right.firstChild, \"mblSwitchTextRightRtl\");\r\n\t\t\t}\r\n\t\t},\r\n\t\t_newState: function(newState){\r\n\t\t\tif(this.isLeftToRight()){\r\n\t\t\t\treturn this.inherited(arguments);\r\n\t\t\t}\r\n\t\t\treturn (this.inner.offsetLeft < -(this._width/2)) ? \"on\" : \"off\";\r\n\t\t},\r\n\t\t_setLeftLabelAttr: function(label){\r\n\t\t\tthis.inherited(arguments);\r\n\t\t\tthis.left.firstChild.innerHTML = common.enforceTextDirWithUcc(this.left.firstChild.innerHTML, this.textDir);\r\n\t\t},\r\n\r\n\t\t_setRightLabelAttr: function(label){\r\n\t\t\tthis.inherited(arguments);\r\n\t\t\tthis.right.firstChild.innerHTML = common.enforceTextDirWithUcc(this.right.firstChild.innerHTML, this.textDir);\r\n\t\t},\r\n\r\n\t\t_setTextDirAttr: function(textDir){\r\n\t\t\tif(textDir && (!this._created || this.textDir !== textDir)){\r\n\t\t\t\tthis.textDir = textDir;\r\n\t\t\t\tthis.left.firstChild.innerHTML = common.removeUCCFromText(this.left.firstChild.innerHTML);\r\n\t\t\t\tthis.left.firstChild.innerHTML = common.enforceTextDirWithUcc(this.left.firstChild.innerHTML, this.textDir);\r\n\t\t\t\tthis.right.firstChild.innerHTML = common.removeUCCFromText(this.right.firstChild.innerHTML);\r\n\t\t\t\tthis.right.firstChild.innerHTML = common.enforceTextDirWithUcc(this.right.firstChild.innerHTML, this.textDir);\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n});\r\n"]}