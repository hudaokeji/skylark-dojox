{"version":3,"sources":["mobile/bidi/Tooltip.js"],"names":["define","array","declare","common","postCreate","this","inherited","arguments","textDir","_applyTextDirToTextElements","buildRendering","isLeftToRight","arrow","style","left","_setTextDirAttr","forEach","domNode","childNodes","node","currentNode","nodeType","length","firstChild","nodeValue","search","removeUCCFromText","enforceTextDirWithUcc"],"mappings":";;;;;;;AAAAA,QACC,mBACA,qBACA,YACE,SAASC,EAAOC,EAASC,GAK3B,OAAOD,EAAQ,MAQdE,WAAY,WACXC,KAAKC,UAAUC,WACZF,KAAKG,SACPH,KAAKI,+BAGPC,eAAgB,WACZL,KAAKC,UAAUC,WAEdF,KAAKM,kBACRN,KAAKO,MAAMC,MAAMC,KAAO,QAI1BC,gBAAiB,SAASP,GACtBA,GAAWH,KAAKG,UAAYA,IAC9BH,KAAKG,QAAUA,EACfH,KAAKI,gCAIPA,4BAA6B,WAG5BR,EAAMe,QAAQX,KAAKY,QAAQC,WAAY,SAASC,GAC/C,IAAIC,EAAiC,IAAlBD,EAAKE,UAA6C,IAA3BF,EAAKD,WAAWI,OAAgBH,EAAKI,WAAaJ,EAChE,IAAzBC,EAAYC,UAAkBD,EAAYI,YACC,GAA1CJ,EAAYI,UAAUC,OAAO,WAC/BL,EAAYI,UAAYrB,EAAOuB,kBAAkBN,EAAYI,WAC7DJ,EAAYI,UAAYrB,EAAOwB,sBAAsBP,EAAYI,UAAWnB,KAAKG,WAGjFH","file":"../../../mobile/bidi/Tooltip.js","sourcesContent":["define([\r\n\t\"dojo/_base/array\",\r\n\t\"dojo/_base/declare\",\r\n\t\"./common\"   \r\n], function(array, declare, common){\r\n\r\n\t// module:\r\n\t//\t\tdojox/mobile/bidi/Tooltip\r\n\r\n\treturn declare(null, {\r\n\t\t// summary:\r\n\t\t//\t\tSupport for control over text direction for mobile Tooltip widget, using Unicode Control Characters to control text direction.\r\n\t\t// description:\r\n\t\t//\t\tImplementation for text direction support for Tooltip's text containing embedded nodes.\r\n\t\t//\t\tComplicated embedded nodes (like tables) are not supported.\r\n\t\t//\t\tThis class should not be used directly.\r\n\t\t//\t\tMobile Tooltip widget loads this module when user sets \"has: {'dojo-bidi': true }\" in data-dojo-config.\r\n\t\tpostCreate: function(){\r\n\t\t\tthis.inherited(arguments);\r\n\t\t\tif(this.textDir){\r\n\t\t\t\tthis._applyTextDirToTextElements();\r\n\t\t    }\t\t    \r\n\t\t},\r\n\t\tbuildRendering: function(){\r\n\t\t    this.inherited(arguments);\r\n\t\t\t//dojox.mobile mirroring support\r\n\t\t\tif(!this.isLeftToRight()){\r\n\t\t\t\tthis.arrow.style.left = \"0px\";\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t_setTextDirAttr: function(textDir){\r\n\t\t\tif(textDir && this.textDir !== textDir){\r\n\t\t\t\tthis.textDir = textDir;\r\n\t\t\t\tthis._applyTextDirToTextElements();\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t_applyTextDirToTextElements: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tWrap relevant child text nodes in directional UCC marks\r\n\t\t\tarray.forEach(this.domNode.childNodes, function(node){\r\n\t\t\t\tvar currentNode = (node.nodeType === 1 && node.childNodes.length === 1) ? node.firstChild : node;\r\n\t\t\t\tif(currentNode.nodeType === 3 && currentNode.nodeValue){\r\n\t\t\t\t\tif(currentNode.nodeValue.search(/[.\\S]/) != -1){\r\n\t\t\t\t\t\tcurrentNode.nodeValue = common.removeUCCFromText(currentNode.nodeValue);\r\n\t\t\t\t\t\tcurrentNode.nodeValue = common.enforceTextDirWithUcc(currentNode.nodeValue, this.textDir);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}, this);\r\n\t\t}\r\n\t});\r\n});\r\n\r\n"]}