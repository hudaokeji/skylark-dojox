{"version":3,"sources":["mobile/_ListTouchMixin.js"],"names":["define","declare","touch","has","ListBase","postCreate","this","inherited","arguments","_listConnect","press","target","self","tapGesture","MSGesture","_onPress","e","domNode","addPointer","pointerId","on","_onClick","evt","_setSelectedAttr","onClick"],"mappings":";;;;;;;AAAAA,QACC,qBACA,aACA,UACA,wBACE,SAASC,EAASC,EAAOC,EAAKC,GAEhC,OAAOH,EAAS,+BAAgCG,GAS/CC,WAAY,WAKX,GAJAC,KAAKC,UAAUC,YAIM,KAAdL,EAAI,QAAkBA,EAAI,OAASA,EAAI,WAAa,IAA6B,oBAAhB,UAEnE,CACJG,KAAKG,aAAaP,EAAMQ,MAAO,YAE/B,IAECC,EAFGC,EAAON,KACVO,EAAa,IAAIC,UAGlBR,KAAKS,SAAW,SAASC,GACxBH,EAAWF,OAASC,EAAKK,QACzBJ,EAAWK,WAAWF,EAAEG,WACxBR,EAASK,EAAEL,QAGZL,KAAKc,GAAG,eAAgB,SAASJ,GAChCJ,EAAKS,SAASL,EAAGL,UAflBL,KAAKG,aAAa,QAAS,aAoB7BY,SAAU,SAAmBC,EAAiBX,GAC7CL,KAAKiB,iBAAiBZ,GACtBL,KAAKkB,QAAQb","file":"../../mobile/_ListTouchMixin.js","sourcesContent":["define([\r\n\t\"dojo/_base/declare\",\r\n\t\"dojo/touch\",\r\n\t\"./sniff\",\r\n\t\"dijit/form/_ListBase\"\r\n], function(declare, touch, has, ListBase){\r\n\r\n\treturn declare( \"dojox.mobile._ListTouchMixin\", ListBase, {\r\n\t\t// summary:\r\n\t\t//\t\tFocus-less menu to handle touch events consistently.\r\n\t\t// description:\r\n\t\t//\t\tFocus-less menu to handle touch events consistently. Abstract\r\n\t\t//\t\tmethod that must be defined externally:\r\n\t\t//\r\n\t\t//\t\t- onClick: item was chosen (mousedown somewhere on the menu and mouseup somewhere on the menu).\r\n\r\n\t\tpostCreate: function(){\r\n\t\t\tthis.inherited(arguments);\r\n\r\n\t\t\t// For some reason in IE click event is fired immediately after user scrolled combobox control and released\r\n\t\t\t// his/her finger. As a fix we replace click with tap event that is fired correctly.\r\n\t\t\tif(!( (has(\"ie\") === 10 || (!has(\"ie\") && has(\"trident\") > 6)) && typeof(MSGesture) !== \"undefined\")){\r\n\t\t\t\tthis._listConnect(\"click\", \"_onClick\");\r\n\t\t\t}else{\r\n\t\t\t\tthis._listConnect(touch.press, \"_onPress\");\r\n\r\n\t\t\t\tvar self = this,\r\n\t\t\t\t\ttapGesture = new MSGesture(),\r\n\t\t\t\t\ttarget;\r\n\r\n\t\t\t\tthis._onPress = function(e){\r\n\t\t\t\t\ttapGesture.target = self.domNode;\r\n\t\t\t\t\ttapGesture.addPointer(e.pointerId);\r\n\t\t\t\t\ttarget = e.target;\r\n\t\t\t\t};\r\n\r\n\t\t\t\tthis.on(\"MSGestureTap\", function(e){\r\n\t\t\t\t\tself._onClick(e, target);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t_onClick: function(/*Event*/ evt, /*DomNode*/ target){\r\n\t\t\tthis._setSelectedAttr(target);\r\n\t\t\tthis.onClick(target);\r\n\t\t}\r\n\t});\r\n});\r\n"]}