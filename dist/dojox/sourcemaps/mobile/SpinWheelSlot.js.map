{"version":3,"sources":["mobile/SpinWheelSlot.js"],"names":["define","dojo","array","declare","win","domClass","domConstruct","has","BidiSpinWheelSlot","touch","on","Contained","WidgetBase","Scrollable","SpinWheelSlot","items","labels","labelFrom","labelTo","zeroPad","value","step","pageSteps","baseClass","maxSpeed","minItems","centerPos","scrollBar","constraint","propagatable","androidWorkaroud","buildRendering","i","j","this","inherited","arguments","initLabels","length","push","containerNode","create","className","style","height","global","innerHeight","doc","documentElement","clientHeight","panelNodes","k","setAttribute","len","n","Math","ceil","name","data-mobile-val","innerHTML","_cv","appendChild","domNode","touchNode","setSelectable","_initialValue","self","own","press","e","posY","pageY","slots","getParent","getChildren","ln","container","remove","selected","add","moveHandler","move","abs","releaseHandler","item","getCenterItem","release","previousCenterItem","startup","_started","noResize","init","childNodes","_itemHeight","offsetHeight","adjust","connect","a","zeros","Array","join","slice","onTouchStart","focus","adjustY","offsetTop","round","h","top","setInitialValue","set","_onKeyDown","type","altKey","ctrlKey","shiftKey","keyCode","spin","stopPropagation","_getCenterPanel","pos","getPos","y","setColor","color","forEach","panel","node","toggle","disableValues","centerPanel","_getKeyAttr","getAttribute","_getValueAttr","_setValueAttr","_spinToValue","applyValue","idx0","idx1","curValue","get","_pendingValue","undefined","_set","String","m","d","onFlickAnimationStart","_onFlickAnimationStartCalled","onFlickAnimationEnd","_duringSlideTo","steps","to","slideTo","getSpeed","_time","delta","Date","getTime","startTime","dy","_posY","dt","calcSpeed","x","t","speed","v","ret","adjustDestination","dim","r","resize","parent","duration","easing","bottom","vh","parentNode","_duringStartup","_speed","scrollTo"],"mappings":"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","file":"../../mobile/SpinWheelSlot.js","sourcesContent":["define([\r\n\t\"dojo/_base/kernel\",\r\n\t\"dojo/_base/array\",\r\n\t\"dojo/_base/declare\",\r\n\t\"dojo/_base/window\",\r\n\t\"dojo/dom-class\",\r\n\t\"dojo/dom-construct\",\r\n\t\"dojo/has\", \r\n\t\"dojo/has!dojo-bidi?dojox/mobile/bidi/SpinWheelSlot\",\r\n\t\"dojo/touch\",\r\n\t\"dojo/on\",\r\n\t\"dijit/_Contained\",\r\n\t\"dijit/_WidgetBase\",\r\n\t\"./scrollable\",\r\n\t\"./common\"\r\n], function(dojo, array, declare, win, domClass, domConstruct, has, BidiSpinWheelSlot, \r\n\ttouch, on, Contained, WidgetBase, Scrollable){\r\n\r\n\t// module:\r\n\t//\t\tdojox/mobile/SpinWheelSlot\r\n\r\n\tvar SpinWheelSlot = declare(has(\"dojo-bidi\") ? \"dojox.mobile.NonBidiSpinWheelSlot\" : \"dojox.mobile.SpinWheelSlot\", [WidgetBase, Contained, Scrollable], {\r\n\t\t// summary:\r\n\t\t//\t\tA slot of a SpinWheel.\r\n\t\t// description:\r\n\t\t//\t\tSpinWheelSlot is a slot that is placed in the SpinWheel widget.\r\n\r\n\t\t// items: Array\r\n\t\t//\t\tAn array of array of key-label pairs\r\n\t\t//\t\t(e.g. [[0, \"Jan\"], [1, \"Feb\"], ...]). If key values for each label\r\n\t\t//\t\tare not necessary, labels can be used instead.\r\n\t\titems: [],\r\n\r\n\t\t// labels: Array\r\n\t\t//\t\tAn array of labels to be displayed on the slot\r\n\t\t//\t\t(e.g. [\"Jan\", \"Feb\", ...]). This is a simplified version of the\r\n\t\t//\t\titems property.\r\n\t\tlabels: [],\r\n\r\n\t\t// labelFrom: Number\r\n\t\t//\t\tThe start value of display values of the slot. This parameter is\r\n\t\t//\t\tespecially useful when the slot has serial values.\r\n\t\tlabelFrom: 0,\r\n\r\n\t\t// labelTo: Number\r\n\t\t//\t\tThe end value of display values of the slot.\r\n\t\tlabelTo: 0,\r\n\r\n\t\t// zeroPad: Number\r\n\t\t//\t\tLength of zero padding numbers.\r\n\t\t//\t\tEx. zeroPad=2 -> \"00\", \"01\", ...\r\n\t\t//\t\tEx. zeroPad=3 -> \"000\", \"001\", ...\r\n\t\tzeroPad: 0,\r\n\r\n\t\t// value: String\r\n\t\t//\t\tThe initial value of the slot.\r\n\t\tvalue: \"\",\r\n\r\n\t\t// step: Number\r\n\t\t//\t\tThe steps between labelFrom and labelTo.\r\n\t\tstep: 1,\r\n\r\n\t\t// pageStep: Number\r\n\t\t//\t\tThe number of items in a page when using pageup/pagedown keys to navigate with the keyboard.\r\n\t\tpageSteps: 1,\r\n\r\n\t\t/* internal properties */\t\r\n\t\tbaseClass: \"mblSpinWheelSlot\",\r\n\t\t// maxSpeed: [private] Number\r\n\t\t//\t\tMaximum speed.\r\n\t\tmaxSpeed: 500,\r\n\t\t// minItems: [private] int\r\n\t\t//\t\tMinimum number of items.\r\n\t\tminItems: 15,\r\n\t\t// centerPos: [private] Number\r\n\t\t//\t\tInherited from parent.\r\n\t\tcenterPos: 0,\r\n\t\t// scrollbar: [private] Boolean\r\n\t\t//\t\tFalse: no scrollbars must be shown.\r\n\t\tscrollBar: false,\r\n\t\t// constraint: [private] Boolean\r\n\t\t//\t\tFalse: no scroll constraint.\r\n\t\tconstraint: false,\r\n\t\t// propagatable: [private] Boolean\r\n\t\t//\t\tFalse: stop touchstart event propagation.\r\n\t\tpropagatable: false, // stop touchstart event propagation to make spin wheel work inside scrollable\r\n\t\t// androidWorkaroud: [private] Boolean\r\n\t\t//\t\tFalse.\r\n\t\tandroidWorkaroud: false, // disable workaround in SpinWheel TODO:remove this line later\r\n\r\n\t\tbuildRendering: function(){\r\n\t\t\tthis.inherited(arguments);\r\n\r\n\t\t\tthis.initLabels();\r\n\t\t\tvar i, j;\r\n\t\t\tif(this.labels.length > 0){\r\n\t\t\t\tthis.items = [];\r\n\t\t\t\tfor(i = 0; i < this.labels.length; i++){\r\n\t\t\t\t\tthis.items.push([i, this.labels[i]]);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tthis.containerNode = domConstruct.create(\"div\", {className:\"mblSpinWheelSlotContainer\"});\r\n\t\t\tthis.containerNode.style.height\r\n\t\t\t\t= (win.global.innerHeight||win.doc.documentElement.clientHeight) * 2 + \"px\"; // must bigger than the screen\r\n\t\t\tthis.panelNodes = [];\r\n\t\t\tfor(var k = 0; k < 3; k++){\r\n\t\t\t\tthis.panelNodes[k] = domConstruct.create(\"div\", {className:\"mblSpinWheelSlotPanel\"});\r\n\t\t\t\tthis.panelNodes[k].setAttribute(\"aria-hidden\", \"true\");\r\n\t\t\t\tvar len = this.items.length;\r\n\t\t\t\tif(len > 0){ // if the slot is not empty\r\n\t\t\t\t\tvar n = Math.ceil(this.minItems / len);\r\n\t\t\t\t\tfor(j = 0; j < n; j++){\r\n\t\t\t\t\t\tfor(i = 0; i < len; i++){\r\n\t\t\t\t\t\t\tdomConstruct.create(\"div\", {\r\n\t\t\t\t\t\t\t\tclassName: \"mblSpinWheelSlotLabel\",\r\n\t\t\t\t\t\t\t\tname: this.items[i][0],\r\n\t\t\t\t\t\t\t\t\"data-mobile-val\": this.items[i][1],\r\n\t\t\t\t\t\t\t\tinnerHTML: this._cv ? this._cv(this.items[i][1]) : this.items[i][1]\r\n\t\t\t\t\t\t\t}, this.panelNodes[k]);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tthis.containerNode.appendChild(this.panelNodes[k]);\r\n\t\t\t}\r\n\t\t\tthis.domNode.appendChild(this.containerNode);\r\n\t\t\tthis.touchNode = domConstruct.create(\"div\", {className:\"mblSpinWheelSlotTouch\"}, this.domNode);\r\n\t\t\tthis.setSelectable(this.domNode, false);\r\n\r\n\t\t\tthis.touchNode.setAttribute(\"tabindex\", 0);\r\n\t\t\tthis.touchNode.setAttribute(\"role\", \"slider\");\r\n\r\n\t\t\tif(this.value === \"\" && this.items.length > 0){\r\n\t\t\t\tthis.value = this.items[0][1];\r\n\t\t\t}\r\n\t\t\tthis._initialValue = this.value;\r\n\r\n\t\t\tif(has(\"windows-theme\")){\r\n\t\t\t\tvar self = this,\r\n\t\t\t\t\tcontainerNode = this.containerNode,\r\n\t\t\t\t\tthreshold = 5;\r\n\r\n\t\t\t\tthis.own(on(self.touchNode, touch.press, function(e){\r\n\t\t\t\t\tvar posY = e.pageY,\r\n\t\t\t\t\t\tslots = self.getParent().getChildren();\r\n\r\n\t\t\t\t\tfor(var i = 0, ln = slots.length; i < ln; i++){\r\n\t\t\t\t\t\tvar container = slots[i].containerNode;\r\n\r\n\t\t\t\t\t\tif(containerNode !== container){\r\n\t\t\t\t\t\t\tdomClass.remove(container, \"mblSelectedSlot\");\r\n\t\t\t\t\t\t\tcontainer.selected = false;\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\tdomClass.add(containerNode, \"mblSelectedSlot\");\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tvar moveHandler = on(self.touchNode, touch.move, function(e){\r\n\t\t\t\t\t\tif(Math.abs(e.pageY - posY) < threshold){\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tmoveHandler.remove();\r\n\t\t\t\t\t\treleaseHandler.remove();\r\n\t\t\t\t\t\tcontainerNode.selected = true;\r\n\r\n\t\t\t\t\t\tvar item = self.getCenterItem();\r\n\r\n\t\t\t\t\t\tif(item){\r\n\t\t\t\t\t\t\tdomClass.remove(item, \"mblSelectedSlotItem\");\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\tvar releaseHandler = on(self.touchNode, touch.release, function(){\r\n\t\t\t\t\t\treleaseHandler.remove();\r\n\t\t\t\t\t\tmoveHandler.remove();\r\n\t\t\t\t\t\tcontainerNode.selected ?\r\n\t\t\t\t\t\t\tdomClass.remove(containerNode, \"mblSelectedSlot\") :\r\n\t\t\t\t\t\t\tdomClass.add(containerNode, \"mblSelectedSlot\");\r\n\r\n\t\t\t\t\t\tcontainerNode.selected = !containerNode.selected;\r\n\t\t\t\t\t});\r\n\t\t\t\t}));\r\n\r\n\t\t\t\tthis.on(\"flickAnimationEnd\", function(){\r\n\t\t\t\t\t\tvar item = self.getCenterItem();\r\n\r\n\t\t\t\t\t\tif(self.previousCenterItem) {\r\n\t\t\t\t\t\t\tdomClass.remove(self.previousCenterItem, \"mblSelectedSlotItem\");\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tdomClass.add(item, \"mblSelectedSlotItem\");\r\n\t\t\t\t\t\tself.previousCenterItem = item;\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tstartup: function(){\r\n\t\t\tif(this._started){ return; }\r\n\t\t\tthis.inherited(arguments);\r\n\t\t\tthis.noResize = true;\r\n\t\t\tif(this.items.length > 0){ // if the slot is not empty\r\n\t\t\t\tthis.init();\r\n\t\t\t\tthis.centerPos = this.getParent().centerPos;\r\n\t\t\t\tvar items = this.panelNodes[1].childNodes;\r\n\t\t\t\tthis._itemHeight = items[0].offsetHeight;\r\n\t\t\t\tthis.adjust();\r\n\t\t\t\tthis.connect(this.touchNode, \"onkeydown\", \"_onKeyDown\"); // for desktop browsers\r\n\t\t\t}\r\n\t\t\tif(has(\"windows-theme\")){\r\n\t\t\t\tthis.previousCenterItem = this.getCenterItem();\r\n\t\t\t\tif(this.previousCenterItem){\r\n\t\t\t\t\tdomClass.add(this.previousCenterItem, \"mblSelectedSlotItem\");\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tinitLabels: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tInitializes the slot labels according to the labelFrom/labelTo properties.\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprivate\r\n\t\t\tif(this.labelFrom !== this.labelTo){\r\n\t\t\t\tvar a = this.labels = [],\r\n\t\t\t\t\tzeros = this.zeroPad && Array(this.zeroPad).join(\"0\");\r\n\t\t\t\tfor(var i = this.labelFrom; i <= this.labelTo; i += this.step){\r\n\t\t\t\t\ta.push(this.zeroPad ? (zeros + i).slice(-this.zeroPad) : i + \"\");\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tonTouchStart: function(e) {\r\n\t\t\tthis.touchNode.focus(); // give focus to enable key navigation\r\n\t\t\tthis.inherited(arguments);\r\n\t\t},\r\n\r\n\t\tadjust: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tAdjusts the position of slot panels.\r\n\t\t\tvar items = this.panelNodes[1].childNodes;\r\n\t\t\tvar adjustY;\r\n\t\t\tfor(var i = 0, len = items.length; i < len; i++){\r\n\t\t\t\tvar item = items[i];\r\n\t\t\t\tif(item.offsetTop <= this.centerPos && this.centerPos < item.offsetTop + item.offsetHeight){\r\n\t\t\t\t\tadjustY = this.centerPos - (item.offsetTop + Math.round(item.offsetHeight/2));\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tvar h = this.panelNodes[0].offsetHeight;\r\n\t\t\tthis.panelNodes[0].style.top = -h + adjustY + \"px\";\r\n\t\t\tthis.panelNodes[1].style.top = adjustY + \"px\";\r\n\t\t\tthis.panelNodes[2].style.top = h + adjustY + \"px\";\r\n\t\t},\r\n\r\n\t\tsetInitialValue: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tSets the initial value using this.value or the first item.\r\n\t\t\tthis.set(\"value\", this._initialValue);\r\n\t\t\tthis.touchNode.setAttribute(\"aria-valuetext\", this._initialValue);\r\n\t\t},\r\n\r\n\t\t_onKeyDown: function(e){\r\n\t\t\tif(!e || e.type !== \"keydown\" || e.altKey || e.ctrlKey || e.shiftKey){\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t\tswitch(e.keyCode){\r\n\t\t\t\tcase 38: // up arrow key (fallthrough)\r\n\t\t\t\tcase 39: // right arrow key\r\n\t\t\t\t\tthis.spin(1);\r\n\t\t\t\t\te.stopPropagation();\r\n\t\t\t\t\treturn false;\r\n\t\t\t\tcase 40: // down arrow key (fallthrough)\r\n\t\t\t\tcase 37: // left arrow key\r\n\t\t\t\t\tthis.spin(-1);\r\n\t\t\t\t\te.stopPropagation();\r\n\t\t\t\t\treturn false;\r\n\t\t\t\tcase 33: // pageup\r\n\t\t\t\t\tthis.spin(this.pageSteps);\r\n\t\t\t\t\te.stopPropagation();\r\n\t\t\t\t\treturn false;\r\n\t\t\t\tcase 34: // pagedown\r\n\t\t\t\t\tthis.spin(-1 * this.pageSteps);\r\n\t\t\t\t\te.stopPropagation();\r\n\t\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\treturn true;\r\n\t\t},\r\n\r\n\t\t_getCenterPanel: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tGets a panel that contains the currently selected item.\r\n\t\t\tvar pos = this.getPos();\r\n\t\t\tfor(var i = 0, len = this.panelNodes.length; i < len; i++){\r\n\t\t\t\tvar top = pos.y + this.panelNodes[i].offsetTop;\r\n\t\t\t\tif(top <= this.centerPos && this.centerPos < top + this.panelNodes[i].offsetHeight){\r\n\t\t\t\t\treturn this.panelNodes[i];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn null;\r\n\t\t},\r\n\r\n\t\tsetColor: function(/*String*/value, /*String?*/color){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tSets the color of the specified item as blue.\r\n\t\t\tarray.forEach(this.panelNodes, function(panel){\r\n\t\t\t\tarray.forEach(panel.childNodes, function(node, i){\r\n\t\t\t\t\tdomClass.toggle(node, color || \"mblSpinWheelSlotLabelBlue\", node.innerHTML === value);\r\n\t\t\t\t}, this);\r\n\t\t\t}, this);\r\n\t\t},\r\n\r\n\t\tdisableValues: function(/*Number*/n){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tGrays out the items with an index higher or equal to the specified number.\r\n\t\t\tarray.forEach(this.panelNodes, function(panel){\r\n\t\t\t\tfor(var i = 0; i < panel.childNodes.length; i++){\r\n\t\t\t\t\tdomClass.toggle(panel.childNodes[i], \"mblSpinWheelSlotLabelGray\", i >= n);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\tgetCenterItem: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tGets the currently selected item.\r\n\t\t\tvar pos = this.getPos();\r\n\t\t\tvar centerPanel = this._getCenterPanel();\r\n\t\t\tif(centerPanel){\r\n\t\t\t\tvar top = pos.y + centerPanel.offsetTop;\r\n\t\t\t\tvar items = centerPanel.childNodes;\r\n\t\t\t\tfor(var i = 0, len = items.length; i < len; i++){\r\n\t\t\t\t\tif(top + items[i].offsetTop <= this.centerPos && this.centerPos < top + items[i].offsetTop + items[i].offsetHeight){\r\n\t\t\t\t\t\treturn items[i];\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn null;\r\n\r\n\t\t},\r\n\r\n\t\t_getKeyAttr: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tGets the key for the currently selected value.\r\n\t\t\tif(!this._started){\r\n\t\t\t\tif(this.items){\r\n\t\t\t\t\tvar v = this.value;\r\n\t\t\t\t\tfor(var i = 0; i < this.items.length; i++){\r\n\t\t\t\t\t\tif(this.items[i][1] == this.value){\r\n\t\t\t\t\t\t\treturn this.items[i][0];\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t\tvar item = this.getCenterItem();\r\n\t\t\treturn (item && item.getAttribute(\"name\"));\r\n\t\t},\r\n\r\n\t\t_getValueAttr: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tGets the currently selected value.\r\n\t\t\tif(!this._started){\r\n\t\t\t\treturn this.value;\r\n\t\t\t}\r\n\t\t\tif(this.items.length > 0){ // if the slot is not empty\r\n\t\t\t\tvar item = this.getCenterItem();\r\n\t\t\t\treturn (item && item.getAttribute(\"data-mobile-val\"));\r\n\t\t\t}else{\r\n\t\t\t\treturn this._initialValue;\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t_setValueAttr: function(value){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tSets the value to this slot.\r\n\t\t\tif(this.items.length > 0){ // no-op for empty slots\r\n\t\t\t\tthis._spinToValue(value, true);\r\n\t\t\t}\r\n\t\t},\r\n\t\t\r\n\t\t_spinToValue: function(value, applyValue){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tSpins the slot to the specified value.\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprivate\r\n\t\t\tvar idx0, idx1;\r\n\t\t\tvar curValue = this.get(\"value\");\r\n\t\t\tif(!curValue){\r\n\t\t\t\tthis._pendingValue = value;\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif(curValue == value){\r\n\t\t\t\treturn; // no change; avoid notification\r\n\t\t\t}\r\n\t\t\tthis._pendingValue = undefined;\r\n\t\t\t// to avoid unnecessary notifications, applyValue is false when \r\n\t\t\t// _spinToValue is called by _DatePickerMixin.\r\n\t\t\tif(applyValue){\r\n\t\t\t\tthis._set(\"value\", value);\r\n\t\t\t}\r\n\t\t\tvar n = this.items.length;\r\n\t\t\tfor(var i = 0; i < n; i++){\r\n\t\t\t\tif(this.items[i][1] === String(curValue)){\r\n\t\t\t\t\tidx0 = i;\r\n\t\t\t\t}\r\n\t\t\t\tif(this.items[i][1] === String(value)){\r\n\t\t\t\t\tidx1 = i;\r\n\t\t\t\t}\r\n\t\t\t\tif(idx0 !== undefined && idx1 !== undefined){\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tvar d = idx1 - (idx0 || 0);\r\n\t\t\tvar m;\r\n\t\t\tif(d > 0){\r\n\t\t\t\tm = (d < n - d) ? -d : n - d;\r\n\t\t\t}else{\r\n\t\t\t\tm = (-d < n + d) ? -d : -(n + d);\r\n\t\t\t}\r\n\t\t\tthis.spin(m);\r\n\t\t},\r\n\t\t\r\n\t\tonFlickAnimationStart: function(e){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tOverrides dojox/mobile/scrollable.onFlickAnimationStart().\r\n\t\t\tthis._onFlickAnimationStartCalled = true;\r\n\t\t\tthis.inherited(arguments);\r\n\t\t},\r\n\r\n\t\tonFlickAnimationEnd: function(e){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tOverrides dojox/mobile/scrollable.onFlickAnimationEnd().\r\n\t\t\tthis._duringSlideTo = false;\r\n\t\t\tthis._onFlickAnimationStartCalled = false;\r\n\t\t\tthis.inherited(arguments);\r\n\t\t\tthis.touchNode.setAttribute(\"aria-valuetext\", this.get(\"value\"));\r\n\t\t},\r\n\t\t\r\n\t\tspin: function(/*Number*/steps){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tSpins the slot as specified by steps.\r\n\t\t\t\r\n\t\t\t// do nothing before startup and during slide\r\n\t\t\tif(!this._started || this._duringSlideTo){\r\n\t\t\t\treturn; \r\n\t\t\t}\r\n\t\t\tvar to = this.getPos();\r\n\t\t\tto.y += steps * this._itemHeight;\r\n\t\t\tthis.slideTo(to, 1);\r\n\t\t},\r\n\r\n\t\tgetSpeed: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tOverrides dojox/mobile/scrollable.getSpeed().\r\n\t\t\tvar y = 0, n = this._time.length;\r\n\t\t\tvar delta = (new Date()).getTime() - this.startTime - this._time[n - 1];\r\n\t\t\tif(n >= 2 && delta < 200){\r\n\t\t\t\tvar dy = this._posY[n - 1] - this._posY[(n - 6) >= 0 ? n - 6 : 0];\r\n\t\t\t\tvar dt = this._time[n - 1] - this._time[(n - 6) >= 0 ? n - 6 : 0];\r\n\t\t\t\ty = this.calcSpeed(dy, dt);\r\n\t\t\t}\r\n\t\t\treturn {x:0, y:y};\r\n\t\t},\r\n\r\n\t\tcalcSpeed: function(/*Number*/d, /*Number*/t){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tOverrides dojox/mobile/scrollable.calcSpeed().\r\n\t\t\tvar speed = this.inherited(arguments);\r\n\t\t\tif(!speed){ return 0; }\r\n\t\t\tvar v = Math.abs(speed);\r\n\t\t\tvar ret = speed;\r\n\t\t\tif(v > this.maxSpeed){\r\n\t\t\t\tret = this.maxSpeed*(speed/v);\r\n\t\t\t}\r\n\t\t\treturn ret;\r\n\t\t},\r\n\r\n\t\tadjustDestination: function(to, pos, dim){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tOverrides dojox/mobile/scrollable.adjustDestination().\r\n\t\t\tvar h = this._itemHeight;\r\n\t\t\tvar j = to.y + Math.round(h/2);\r\n\t\t\tvar r = j >= 0 ? j % h : j % h + h;\r\n\t\t\tto.y = j - r;\r\n\t\t\treturn true;\r\n\t\t},\r\n\r\n\t\tresize: function(e){\r\n\t\t\t// Correct internal variables & adjust slot panels\r\n\t\t\tif(this.panelNodes && this.panelNodes.length > 0){\r\n\t\t\t\tvar items = this.panelNodes[1].childNodes;\r\n\t\t\t\t// TODO investigate - the position is calculated incorrectly for\r\n\t\t\t\t// windows theme, disable this logic for now.\r\n\t\t\t\tif(items.length > 0 && !has(\"windows-theme\")){ // empty slot?\r\n\t\t\t\t\tvar parent = this.getParent();\r\n\t\t\t\t\tif(parent){ // #18012: null in same cases on IE8/9 \r\n\t\t\t\t\t\tthis._itemHeight = items[0].offsetHeight;\r\n\t\t\t\t\t\tthis.centerPos = parent.centerPos;\r\n\t\t\t\t\t\tif(!this.panelNodes[0].style.top){\r\n\t\t\t\t\t\t\t// (#17339) to avoid messing up the layout of the panels, call adjust()\r\n\t\t\t\t\t\t\t// only if it didn't manage yet to set the style.top (this happens\r\n\t\t\t\t\t\t\t// typically because the slot was initially\t hidden).\r\n\t\t\t\t\t\t\tthis.adjust();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif(this._pendingValue){\r\n\t\t\t\tthis.set(\"value\", this._pendingValue);\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tslideTo: function(/*Object*/to, /*Number*/duration, /*String*/easing){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tOverrides dojox/mobile/scrollable.slideTo().\r\n\t\t\tthis._duringSlideTo = true; \r\n\t\t\tvar pos = this.getPos();\r\n\t\t\tvar top = pos.y + this.panelNodes[1].offsetTop;\r\n\t\t\tvar bottom = top + this.panelNodes[1].offsetHeight;\r\n\t\t\tvar vh = this.domNode.parentNode.offsetHeight;\r\n\t\t\tvar t;\r\n\t\t\tif(pos.y < to.y){ // going down\r\n\t\t\t\tif(bottom > vh){\r\n\t\t\t\t\t// move up the bottom panel\r\n\t\t\t\t\tt = this.panelNodes[2];\r\n\t\t\t\t\tt.style.top = this.panelNodes[0].offsetTop - this.panelNodes[0].offsetHeight + \"px\";\r\n\t\t\t\t\tthis.panelNodes[2] = this.panelNodes[1];\r\n\t\t\t\t\tthis.panelNodes[1] = this.panelNodes[0];\r\n\t\t\t\t\tthis.panelNodes[0] = t;\r\n\t\t\t\t}\r\n\t\t\t}else if(pos.y > to.y){ // going up\r\n\t\t\t\tif(top < 0){\r\n\t\t\t\t\t// move down the top panel\r\n\t\t\t\t\tt = this.panelNodes[0];\r\n\t\t\t\t\tt.style.top = this.panelNodes[2].offsetTop + this.panelNodes[2].offsetHeight + \"px\";\r\n\t\t\t\t\tthis.panelNodes[0] = this.panelNodes[1];\r\n\t\t\t\t\tthis.panelNodes[1] = this.panelNodes[2];\r\n\t\t\t\t\tthis.panelNodes[2] = t;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif(this.getParent()._duringStartup){\r\n\t\t\t\tduration = 0; // to reduce flickers at start-up especially on android\r\n\t\t\t\t// No scroll animation at startup. This avoids flickering especially on Android,\r\n\t\t\t\t// and avoids the issue in #17775.\r\n\t\t\t}else if(Math.abs(this._speed.y) < 40){\r\n\t\t\t\tduration = 0.2;\r\n\t\t\t}\r\n\t\t\tif(duration && duration > 0){\r\n\t\t\t\tthis.inherited(arguments, [to, duration, easing]); // 2nd arg is to avoid excessive optimization by closure compiler\r\n\t\t\t\tif(!this._onFlickAnimationStartCalled){\r\n\t\t\t\t\t// if slideTo() didn't call itself (synchronously) onFlickAnimationEnd():\r\n\t\t\t\t\tthis._duringSlideTo = false;\r\n\t\t\t\t\t// (otherwise, wait for onFlickAnimationEnd which deletes the flag)\r\n\t\t\t\t}\r\n\t\t\t}else{\r\n\t\t\t\t// #17775: at startup, no scroll animation, because it is not needed ergonomically,\r\n\t\t\t\t// and because the animation would imply an asynchrouns notification of \r\n\t\t\t\t// onFlickAnimationEnd() which would forbid resetting the value right after startup.\r\n\t\t\t\t// this.onFlickAnimationStart(); // not called by scrollTo()\r\n\t\t\t\tthis.onFlickAnimationStart(); // not called by scrollTo()\r\n\t\t\t\tthis.scrollTo(to, true);\r\n\t\t\t\tthis.onFlickAnimationEnd(); // not called by scrollTo()\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\r\n\treturn has(\"dojo-bidi\") ? declare(\"dojox.mobile.SpinWheelSlot\", [SpinWheelSlot, BidiSpinWheelSlot]) : SpinWheelSlot;\t\r\n});\r\n"]}