{"version":3,"sources":["mobile/dh/UrlDataSource.js"],"names":["define","declare","lang","xhr","text","_url","constructor","url","this","getData","obj","get","handleAs","addCallback","hitch","response","ioArgs","addErrback","error","console","log","description"],"mappings":";;;;;;;AAAAA,QACC,qBACA,kBACA,kBACE,SAASC,EAASC,EAAMC,GAK1B,OAAOF,EAAQ,gCAAiC,MAI/CG,KAAM,GAENC,KAAM,GAENC,YAAa,SAAoBC,GAGhCC,KAAKH,KAAOE,GAGbE,QAAS,WAGR,IAAIC,EAAMP,EAAIQ,KACbJ,IAAKC,KAAKH,KACVO,SAAU,SAQX,OANAF,EAAIG,YAAYX,EAAKY,MAAMN,KAAM,SAASO,EAAUC,GACnDR,KAAKJ,KAAOW,KAEbL,EAAIO,WAAW,SAASC,GACvBC,QAAQC,IAAI,kBAAkBZ,KAAKH,KAAK,MAAMa,EAAMG,aAAaH,MAE3DR","file":"../../../mobile/dh/UrlDataSource.js","sourcesContent":["define([\r\n\t\"dojo/_base/declare\",\r\n\t\"dojo/_base/lang\",\r\n\t\"dojo/_base/xhr\"\r\n], function(declare, lang, xhr){\r\n\r\n\t// module:\r\n\t//\t\tdojox/mobile/dh/UrlDataSource\r\n\r\n\treturn declare(\"dojox.mobile.dh.UrlDataSource\", null, {\r\n\t\t// summary:\r\n\t\t//\t\tA component that accesses the given URL and fetches the data as text.\r\n\r\n\t\ttext: \"\",\r\n\r\n\t\t_url: \"\",\r\n\r\n\t\tconstructor: function(/*String*/ url){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tCreates a new instance of the class.\r\n\t\t\tthis._url = url;\r\n\t\t},\r\n\r\n\t\tgetData: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tReturns a Deferred that accesses the given URL and fetches the data as text.\r\n\t\t\tvar obj = xhr.get({\r\n\t\t\t\turl: this._url,\r\n\t\t\t\thandleAs: \"text\"\r\n\t\t\t});\r\n\t\t\tobj.addCallback(lang.hitch(this, function(response, ioArgs){\r\n\t\t\t\tthis.text = response;\r\n\t\t\t}));\r\n\t\t\tobj.addErrback(function(error){\r\n\t\t\t\tconsole.log(\"Failed to load \"+this._url+\"\\n\"+(error.description||error));\r\n\t\t\t});\r\n\t\t\treturn obj; // Deferred\r\n\t\t}\r\n\t});\r\n});\r\n"]}