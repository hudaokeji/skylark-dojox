{"version":3,"sources":["mobile/Slider.js"],"names":["define","array","connect","declare","lang","win","has","domClass","domConstruct","domGeometry","domStyle","keys","touch","WidgetBase","FormValueMixin","value","min","max","step","baseClass","flip","orientation","halo","buildRendering","this","templateString","focusNode","domNode","create","valueNode","srcNodeRef","name","type","relativeParent","style","position","height","width","progressBar","class","touchBox","handle","setAttribute","inherited","arguments","msTouchAction","_setMinAttr","_set","_setMaxAttr","_setValueAttr","priorityChange","Math","_started","toPercent","add","remove","set","_attrs","handleLeft","_reversed","postCreate","beginDrag","e","getEventData","point","isMouse","pageX","touches","clientX","pixelValue","startPixel","maxPixels","discreteValues","Infinity","wholeIncrements","round","target","focus","preventDefault","box","node","bodyZoom","get","body","isNaN","nodeZoom","x","docScroll","w","hitch","forEach","actionHandles","disconnect","root","doc","documentElement","move","release","offsetHeight","offsetWidth","map","split","c","horizontal","ltr","isLeftToRight","l","r","left","press","disabled","readOnly","altKey","ctrlKey","metaKey","newValue","multiplier","keyCode","HOME","END","RIGHT_ARROW","LEFT_ARROW","DOWN_ARROW","UP_ARROW","startup"],"mappings":"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","file":"../../mobile/Slider.js","sourcesContent":["define([\r\n\t\"dojo/_base/array\",\r\n\t\"dojo/_base/connect\",\r\n\t\"dojo/_base/declare\",\r\n\t\"dojo/_base/lang\",\r\n\t\"dojo/_base/window\",\r\n\t\"dojo/sniff\",\r\n\t\"dojo/dom-class\",\r\n\t\"dojo/dom-construct\",\r\n\t\"dojo/dom-geometry\",\r\n\t\"dojo/dom-style\",\r\n\t\"dojo/keys\",\r\n\t\"dojo/touch\",\r\n\t\"dijit/_WidgetBase\",\r\n\t\"dijit/form/_FormValueMixin\"\r\n],\r\n\tfunction(array, connect, declare, lang, win, has, domClass, domConstruct, domGeometry, domStyle, keys, touch, WidgetBase, FormValueMixin){\r\n\r\n\treturn declare(\"dojox.mobile.Slider\", [WidgetBase, FormValueMixin], {\r\n\t\t// summary:\r\n\t\t//\t\tA non-templated Slider widget similar to the HTML5 INPUT type=range.\r\n\r\n\t\t// value: [const] Number\r\n\t\t//\t\tThe current slider value.\r\n\t\tvalue: 0,\r\n\r\n\t\t// min: [const] Number\r\n\t\t//\t\tThe first value the slider can be set to.\r\n\t\tmin: 0,\r\n\r\n\t\t// max: [const] Number\r\n\t\t//\t\tThe last value the slider can be set to.\r\n\t\tmax: 100,\r\n\r\n\t\t// step: [const] Number\r\n\t\t//\t\tThe delta from 1 value to another.\r\n\t\t//\t\tThis causes the slider handle to snap/jump to the closest possible value.\r\n\t\t//\t\tA value of 0 means continuous (as much as allowed by pixel resolution).\r\n\t\tstep: 1,\r\n\r\n\t\t// baseClass: String\r\n\t\t//\t\tThe name of the CSS class of this widget.\r\n\t\tbaseClass: \"mblSlider\",\r\n\r\n\t\t// flip: [const] Boolean\r\n\t\t//\t\tSpecifies if the slider should change its default: ascending <--> descending.\r\n\t\tflip: false,\r\n\r\n\t\t// orientation: [const] String\r\n\t\t//\t\tThe slider direction.\r\n\t\t//\r\n\t\t//\t\t- \"H\": horizontal\r\n\t\t//\t\t- \"V\": vertical\r\n\t\t//\t\t- \"auto\": use width/height comparison at instantiation time (default is \"H\" if width/height are 0)\r\n\t\torientation: \"auto\",\r\n\r\n\t\t// halo: Number\r\n\t\t//\t\tSize of the boundary that extends beyond the edges of the slider\r\n\t\t//\t\tto make it easier to touch.\r\n\t\thalo: \"8pt\",\r\n\r\n\t\tbuildRendering: function(){\r\n\t\t\tif(!this.templateString){ // true if this widget is not templated\r\n\t\t\t\tthis.focusNode = this.domNode = domConstruct.create(\"div\", {});\r\n\t\t\t\tthis.valueNode = domConstruct.create(\"input\", (this.srcNodeRef && this.srcNodeRef.name) ? { type: \"hidden\", name: this.srcNodeRef.name } : { type: \"hidden\" }, this.domNode, \"last\");\r\n\t\t\t\tvar relativeParent = domConstruct.create(\"div\", { style: { position:\"relative\", height:\"100%\", width:\"100%\" } }, this.domNode, \"last\");\r\n\t\t\t\tthis.progressBar = domConstruct.create(\"div\", { style:{ position:\"absolute\" }, \"class\":\"mblSliderProgressBar\" }, relativeParent, \"last\");\r\n\t\t\t\tthis.touchBox = domConstruct.create(\"div\", { style:{ position:\"absolute\" }, \"class\":\"mblSliderTouchBox\" }, relativeParent, \"last\");\r\n\t\t\t\tthis.handle = domConstruct.create(\"div\", { style:{ position:\"absolute\" }, \"class\":\"mblSliderHandle\" }, relativeParent, \"last\");\r\n\t\t\t\tthis.handle.setAttribute(\"role\", \"slider\");\r\n\t\t\t\tthis.handle.setAttribute(\"tabindex\", 0);\r\n\t\t\t}\r\n\t\t\tthis.inherited(arguments);\r\n\t\t\t// prevent browser scrolling on IE10 (evt.preventDefault() is not enough)\r\n\t\t\tif(typeof this.domNode.style.msTouchAction != \"undefined\"){\r\n\t\t\t\tthis.domNode.style.msTouchAction = \"none\";\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t_setMinAttr: function(/*Number*/ min){\r\n\t\t\tthis.handle.setAttribute(\"aria-valuemin\", min);\r\n\t\t\tthis._set(\"min\",min);\r\n\t\t},\r\n\t\t_setMaxAttr: function(/*Number*/ max){\r\n\t\t\tthis.handle.setAttribute(\"aria-valuemax\", max);\r\n\t\t\tthis._set(\"max\",max);\r\n\t\t},\r\n\t\t_setValueAttr: function(/*Number*/ value, /*Boolean?*/ priorityChange){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tHook such that set('value', value) works.\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprivate\r\n\t\t\tvalue = Math.max(Math.min(value, this.max), this.min);\r\n\t\t\tvar fromPercent = (this.value - this.min) * 100 / (this.max - this.min);\r\n\t\t\tthis.valueNode.value = value;\r\n\t\t\tthis.inherited(arguments);\r\n\t\t\tif(!this._started){ return; } // don't move images until all the properties are set\r\n\t\t\tvar toPercent = (value - this.min) * 100 / (this.max - this.min);\r\n\t\t\t// now perform visual slide\r\n\t\t\tvar horizontal = this.orientation != \"V\";\r\n\t\t\tif(priorityChange === true){\r\n\t\t\t\tdomClass.add(this.handle, \"mblSliderTransition\");\r\n\t\t\t\tdomClass.add(this.progressBar, \"mblSliderTransition\");\r\n\t\t\t}else{\r\n\t\t\t\tdomClass.remove(this.handle, \"mblSliderTransition\");\r\n\t\t\t\tdomClass.remove(this.progressBar, \"mblSliderTransition\");\r\n\t\t\t}\r\n\t\t\tdomStyle.set(this.handle, this._attrs.handleLeft, (this._reversed ? (100-toPercent) : toPercent) + \"%\");\r\n\t\t\tdomStyle.set(this.progressBar, this._attrs.width, toPercent + \"%\");\r\n\t\t\tthis.handle.setAttribute(\"aria-valuenow\", value);\r\n\t\t},\r\n\r\n\t\tpostCreate: function(){\r\n\t\t\tthis.inherited(arguments);\r\n\r\n\t\t\tfunction beginDrag(e){\r\n\t\t\t\te.target.focus();\r\n\t\t\t\tfunction getEventData(e){\r\n\t\t\t\t\tpoint = isMouse ? e[this._attrs.pageX] : (e.touches ? e.touches[0][this._attrs.pageX] : e[this._attrs.clientX]);\r\n\t\t\t\t\tpixelValue = point - startPixel;\r\n\t\t\t\t\tpixelValue = Math.min(Math.max(pixelValue, 0), maxPixels);\r\n\t\t\t\t\tvar discreteValues = this.step ? ((this.max - this.min) / this.step) : maxPixels;\r\n\t\t\t\t\tif(discreteValues <= 1 || discreteValues == Infinity ){ discreteValues = maxPixels; }\r\n\t\t\t\t\tvar wholeIncrements = Math.round(pixelValue * discreteValues / maxPixels);\r\n\t\t\t\t\tvalue = (this.max - this.min) * wholeIncrements / discreteValues;\r\n\t\t\t\t\tvalue = this._reversed ? (this.max - value) : (this.min + value);\r\n\t\t\t\t}\r\n\t\t\t\tfunction continueDrag(e){\r\n\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\tlang.hitch(this, getEventData)(e);\r\n\t\t\t\t\tthis.set('value', value, false);\r\n\t\t\t\t}\r\n\t\t\r\n\t\t\t\tfunction endDrag(e){\r\n\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\tarray.forEach(actionHandles, lang.hitch(this, \"disconnect\"));\r\n\t\t\t\t\tactionHandles = [];\r\n\t\t\t\t\tthis.set('value', this.value, true);\r\n\t\t\t\t}\r\n\r\n\t\t\t\te.preventDefault();\r\n\t\t\t\tvar isMouse = e.type == \"mousedown\";\r\n\t\t\t\tvar box = domGeometry.position(node, false); // can't use true since the added docScroll and the returned x are body-zoom incompatible\r\n\t\t\t\tvar bodyZoom = (has(\"ie\") || has(\"trident\") > 6) ? 1 : (domStyle.get(win.body(), \"zoom\") || 1);\r\n\t\t\t\tif(isNaN(bodyZoom)){ bodyZoom = 1; }\r\n\t\t\t\tvar nodeZoom = (has(\"ie\") || has(\"trident\") > 6) ? 1 : (domStyle.get(node, \"zoom\") || 1);\r\n\t\t\t\tif(isNaN(nodeZoom)){ nodeZoom = 1; }\r\n\t\t\t\tvar startPixel = box[this._attrs.x] * nodeZoom * bodyZoom + domGeometry.docScroll()[this._attrs.x];\r\n\t\t\t\tvar maxPixels = box[this._attrs.w] * nodeZoom * bodyZoom;\r\n\t\t\t\tlang.hitch(this, getEventData)(e);\r\n\t\t\t\tif(e.target == this.touchBox){\r\n\t\t\t\t\tthis.set('value', value, true);\r\n\t\t\t\t}\r\n\t\t\t\tarray.forEach(actionHandles, connect.disconnect);\r\n\t\t\t\tvar root = win.doc.documentElement;\r\n\t\t\t\tvar actionHandles = [\r\n\t\t\t\t\tthis.connect(root, touch.move, continueDrag),\r\n\t\t\t\t\tthis.connect(root, touch.release, endDrag)\r\n\t\t\t\t];\r\n\t\t\t}\r\n\r\n\t\t\tfunction keyPress(/*Event*/ e){\r\n\t\t\t\tif(this.disabled || this.readOnly || e.altKey || e.ctrlKey || e.metaKey){ return; }\r\n\t\t\t\tvar\tstep = this.step,\r\n\t\t\t\t\tmultiplier = 1,\r\n\t\t\t\t\tnewValue;\r\n\t\t\t\tswitch(e.keyCode){\r\n\t\t\t\t\tcase keys.HOME:\r\n\t\t\t\t\t\tnewValue = this.min;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase keys.END:\r\n\t\t\t\t\t\tnewValue = this.max;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase keys.RIGHT_ARROW:\r\n\t\t\t\t\t\tmultiplier = -1;\r\n\t\t\t\t\tcase keys.LEFT_ARROW:\r\n\t\t\t\t\t\tnewValue = this.value + multiplier * ((flip && horizontal) ? step : -step);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase keys.DOWN_ARROW:\r\n\t\t\t\t\t\tmultiplier = -1;\r\n\t\t\t\t\tcase keys.UP_ARROW:\r\n\t\t\t\t\t\tnewValue = this.value + multiplier * ((!flip || horizontal) ? step : -step);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tdefault:\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\te.preventDefault();\r\n\t\t\t\tthis._setValueAttr(newValue, false);\r\n\t\t\t}\r\n\r\n\t\t\tfunction keyUp(/*Event*/ e){\r\n\t\t\t\tif(this.disabled || this.readOnly || e.altKey || e.ctrlKey || e.metaKey){ return; }\r\n\t\t\t\tthis._setValueAttr(this.value, true);\r\n\t\t\t}\r\n\r\n\t\t\tvar\tpoint, pixelValue, value,\r\n\t\t\t\tnode = this.domNode;\r\n\t\t\tif(this.orientation == \"auto\"){\r\n\t\t\t\t this.orientation = node.offsetHeight <= node.offsetWidth ? \"H\" : \"V\";\r\n\t\t\t}\r\n\t\t\t// add V or H suffix to baseClass for styling purposes\r\n\t\t\tdomClass.add(this.domNode, array.map(this.baseClass.split(\" \"), lang.hitch(this, function(c){ return c+this.orientation; })));\r\n\t\t\tvar\thorizontal = this.orientation != \"V\",\r\n\t\t\t\tltr = horizontal ? this.isLeftToRight() : false,\r\n\t\t\t\tflip = !!this.flip;\r\n\t\t\t// _reversed is complicated since you can have flipped right-to-left and vertical is upside down by default\r\n\t\t\tthis._reversed = !((horizontal && ((ltr && !flip) || (!ltr && flip))) || (!horizontal && flip));\r\n\t\t\tthis._attrs = horizontal ? { x:'x', w:'w', l:'l', r:'r', pageX:'pageX', clientX:'clientX', handleLeft:\"left\", left:this._reversed ? \"right\" : \"left\", width:\"width\" } : { x:'y', w:'h', l:'t', r:'b', pageX:'pageY', clientX:'clientY', handleLeft:\"top\", left:this._reversed ? \"bottom\" : \"top\", width:\"height\" };\r\n\t\t\tthis.progressBar.style[this._attrs.left] = \"0px\";\r\n\t\t\tthis.connect(this.touchBox, touch.press, beginDrag);\r\n\t\t\tthis.connect(this.handle, touch.press, beginDrag);\r\n\t\t\tthis.connect(this.domNode, \"onkeypress\", keyPress); // for desktop a11y\r\n\t\t\tthis.connect(this.domNode, \"onkeyup\", keyUp); // fire onChange on desktop\r\n\t\t\tthis.startup();\r\n\t\t\tthis.set('value', this.value);\r\n\t\t}\r\n\t});\r\n});\r\n"]}