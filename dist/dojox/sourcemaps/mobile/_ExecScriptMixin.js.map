{"version":3,"sources":["mobile/_ExecScriptMixin.js"],"names":["define","kernel","declare","win","domConstruct","execScript","html","s","replace","ignore","path","create","type","src","doc","getElementsByTagName","code","eval"],"mappings":";;;;;;;AAAAA,QACC,oBACA,qBACA,oBACA,sBACE,SAASC,EAAQC,EAASC,EAAKC,GAIjC,OAAOF,EAAQ,gCAAiC,MAO/CG,WAAY,SAAoBC,GAO/B,IAAIC,EAAID,EAAKE,QAAQ,MAAO,KAAKA,QAAQ,cAAe,MAaxD,OALAD,GAPAA,EAAIA,EAAEC,QAAQ,sDAAuD,SAASC,EAAQC,GAIrF,OAHAN,EAAaO,OAAO,UACnBC,KAAM,kBACNC,IAAKH,GAAOP,EAAIW,IAAIC,qBAAqB,QAAQ,IAC3C,MAGFP,QAAQ,uBAAwB,SAASC,EAAQO,GAEtD,OADAf,EAAOgB,KAAKD,GACL","file":"../../mobile/_ExecScriptMixin.js","sourcesContent":["define([\r\n\t\"dojo/_base/kernel\",\r\n\t\"dojo/_base/declare\",\r\n\t\"dojo/_base/window\",\r\n\t\"dojo/dom-construct\"\r\n], function(kernel, declare, win, domConstruct){\r\n\t// module:\r\n\t//\t\tdojox/mobile/_ExecScriptMixin\r\n\r\n\treturn declare(\"dojox.mobile._ExecScriptMixin\", null, {\r\n\t\t// summary:\r\n\t\t//\t\tMixin for providing script execution capability to content handlers.\r\n\t\t// description:\r\n\t\t//\t\tThis module defines the execScript method, which is called\r\n\t\t//\t\tfrom an HTML content handler.\r\n\r\n\t\texecScript: function(/*String*/ html){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tFinds script tags and executes the script.\r\n\t\t\t// html: String\r\n\t\t\t//\t\tThe HTML input.\r\n\t\t\t// returns: String\r\n\t\t\t//\t\tThe given HTML text from which &lt;script&gt; blocks are removed.\r\n\t\t\tvar s = html.replace(/\\f/g, \" \").replace(/<\\/script>/g, \"\\f\");\r\n\t\t\ts = s.replace(/<script [^>]*src=['\"]([^'\"]+)['\"][^>]*>([^\\f]*)\\f/ig, function(ignore, path){\r\n\t\t\t\tdomConstruct.create(\"script\", {\r\n\t\t\t\t\ttype: \"text/javascript\",\r\n\t\t\t\t\tsrc: path}, win.doc.getElementsByTagName(\"head\")[0]);\r\n\t\t\t\treturn \"\";\r\n\t\t\t});\r\n\r\n\t\t\ts = s.replace(/<script>([^\\f]*)\\f/ig, function(ignore, code){\r\n\t\t\t\tkernel.eval(code);\r\n\t\t\t\treturn \"\";\r\n\t\t\t});\r\n\r\n\t\t\treturn s;\r\n\t\t}\r\n\t});\r\n});\r\n"]}