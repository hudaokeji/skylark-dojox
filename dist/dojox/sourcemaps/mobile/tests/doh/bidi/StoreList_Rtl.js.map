{"version":3,"sources":["mobile/tests/doh/bidi/StoreList_Rtl.js"],"names":["require","Deferred","Cache","JsonRest","Memory","Observable","ready","registry","runner","EdgeToEdgeStoreList","RoundRectStoreList","DataList","testName","IsEdgeToEdgeList","store1","idProperty","target","store2","data","label","moveTo","__counter","store","switchTo","window","byId","setStore","add1","add","icon","delete1","remove","register","name","timeout","runTest","d","setTimeout","getTestCallback","demoWidget","assertEqual","domNode","className","iconNode","assertTrue","src","search","rightIconNode","labelNode","innerHTML","childNodes","doh","run"],"mappings":"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","file":"../../../../../mobile/tests/doh/bidi/StoreList_Rtl.js","sourcesContent":["require([\r\n\t\"dojo/_base/Deferred\",\r\n\t\"dojo/store/Cache\",\r\n\t\"dojo/store/JsonRest\",\r\n\t\"dojo/store/Memory\",\r\n\t\"dojo/store/Observable\",\r\n\t\"dojo/ready\", // dojo.ready\r\n\t\"dijit/registry\",\r\n\t\"doh/runner\",\t//doh functions\r\n\t\"dojox/mobile/EdgeToEdgeStoreList\",\r\n\t\"dojox/mobile/RoundRectStoreList\",\r\n\t\"dojox/mobile/parser\",\r\n\t\"dojox/mobile\",\r\n\t\"dojox/mobile/compat\"\r\n], function(Deferred, Cache, JsonRest, Memory, Observable, ready, registry, runner, EdgeToEdgeStoreList, RoundRectStoreList){\r\n\r\n\tvar CLASS_NAME;\r\n\tvar DataList;\r\n\tvar testName;\r\n\r\n\tif(IsEdgeToEdgeList){\r\n\t\tCLASS_NAME = \"mblEdgeToEdgeList\";\r\n\t\tDataList = EdgeToEdgeStoreList;\r\n\t\ttestName = \"dojox.mobile.test.doh.EdgeToEdgeStoreList_Rtl\";\r\n\t}else{\r\n\t\tCLASS_NAME = \"mblRoundRectList\";\r\n\t\tDataList = RoundRectStoreList;\r\n\t\ttestName = \"dojox.mobile.test.doh.RoundRectStoreList_Rtl\";\r\n\t}\r\n\r\n\tvar static_data2 = [\r\n\t\t{label: \"Apple\", \tmoveTo: \"dummy\"},\r\n\t\t{label: \"Banana\", \tmoveTo: \"dummy\"},\r\n\t\t{label: \"Cherry\", \tmoveTo: \"dummy\"},\r\n\t\t{label: \"Grape\", \tmoveTo: \"dummy\"},\r\n\t\t{label: \"Kiwi\", \tmoveTo: \"dummy\"},\r\n\t\t{label: \"Lemon\", \tmoveTo: \"dummy\"},\r\n\t\t{label: \"Melon\", \tmoveTo: \"dummy\"},\r\n\t\t{label: \"Orange\", \tmoveTo: \"dummy\"},\r\n\t\t{label: \"Peach\", \tmoveTo: \"dummy\"}\r\n\t];\r\n\tvar url = \"settings2.json\";\r\n\tstore1 = new JsonRest({idProperty:\"label\", target: url});\r\n\tstore2 = Observable(new Memory({idProperty:\"label\", data: static_data2}));\r\n\tstore1.__counter = store2.__counter = 1;\r\n\tstore = store1;\r\n\r\n\t// switch to the selected store\r\n\tswitchTo = function(store){\r\n\t\twindow.store = store;\r\n\t\tregistry.byId(\"list\").setStore(store);\r\n\t};\r\n\t// add a new item\r\n\tadd1 = function(){\r\n\t\tstore.add({\r\n\t\t\tlabel: \"New Item \"+(store.__counter++),\r\n\t\t\ticon: \"../../images/i-icon-1.png\",\r\n\t\t\tmoveTo: \"dummy\"\r\n\t\t});\r\n\t};\r\n\t// delete the added item\r\n\tdelete1 = function(){\r\n\t\tif(store.__counter > 1){\r\n\t\t\tstore.remove(\"New Item \"+(--store.__counter));\r\n\t\t}\r\n\t};\r\n\r\n\tready(function(){\r\n\t\trunner.register(testName, [\r\n\t\t\t{\r\n\t\t\t\tname: DataList + \" Verification\",\r\n\t\t\t\ttimeout: 4000,\r\n\t\t\t\trunTest: function(){\r\n\t\t\t\t\tvar d = new runner.Deferred();\r\n\t\t\t\t\tsetTimeout(d.getTestCallback(function(){\r\n\t\t\t\t\t\tvar demoWidget = registry.byId(\"dojox_mobile_ListItem_0\");\r\n\t\t\t\t\t\trunner.assertEqual('mblListItem mblListItemRtl', demoWidget.domNode.className);\r\n\t\t\t\t\t\trunner.assertEqual('mblImageIcon mblListItemIcon', demoWidget.iconNode.className);\r\n\t\t\t\t\t\trunner.assertTrue(demoWidget.iconNode.src.search(/i-icon-1.png/i) != -1);\r\n\t\t\t\t\t\trunner.assertEqual('mblListItemRightIcon', demoWidget.rightIconNode.className);\r\n\t\t\t\t\t\trunner.assertEqual('mblListItemLabel', demoWidget.labelNode.className);\r\n\t\t\t\t\t\trunner.assertEqual('Wi-Fi', demoWidget.labelNode.innerHTML);\r\n\t\t\t\t\t\trunner.assertEqual('mblDomButtonArrow mblDomButton', demoWidget.rightIconNode.childNodes[0].className);\r\n\r\n\t\t\t\t\t\tdemoWidget = registry.byId(\"dojox_mobile_ListItem_3\");\r\n\t\t\t\t\t\trunner.assertEqual('mblListItem mblListItemRtl mblListItemSelected', demoWidget.domNode.className);\r\n\t\t\t\t\t\trunner.assertEqual('mblImageIcon mblListItemIcon', demoWidget.iconNode.className);\r\n\t\t\t\t\t\trunner.assertTrue(demoWidget.iconNode.src.search(/i-icon-4.png/i) != -1);\r\n\t\t\t\t\t\trunner.assertEqual('mblListItemRightIcon', demoWidget.rightIconNode.className);\r\n\t\t\t\t\t\trunner.assertEqual('mblListItemLabel', demoWidget.labelNode.className);\r\n\t\t\t\t\t\trunner.assertEqual('General', demoWidget.labelNode.innerHTML);\r\n\t\t\t\t\t\trunner.assertEqual('mblDomButtonArrow mblDomButton', demoWidget.rightIconNode.childNodes[0].className);\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}),500);\r\n\t\t\t\t\treturn d;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tname: DataList + \" Verification2\",\r\n\t\t\t\ttimeout: 10000,\r\n\t\t\t\trunTest: function(){\r\n\t\t\t\t\tvar d = new doh.Deferred();\r\n\t\t\t\t\tsetTimeout(d.getTestCallback(function(){\r\n\r\n\t\t\t\t\t\tswitchTo(store2);\r\n\t\t\t\t\t\tvar demoWidget = registry.byId(\"dojox_mobile_ListItem_13\");\r\n\t\t\t\t\t\trunner.assertEqual('mblListItem mblListItemRtl', demoWidget.domNode.className);\r\n\t\t\t\t\t\trunner.assertEqual(null, demoWidget.iconNode);\r\n\t\t\t\t\t\trunner.assertEqual('mblListItemLabel', demoWidget.labelNode.className);\r\n\t\t\t\t\t\trunner.assertEqual('Grape', demoWidget.labelNode.innerHTML);\r\n\t\t\t\t\t\trunner.assertEqual('mblDomButtonArrow mblDomButton', demoWidget.rightIconNode.childNodes[0].className);\r\n\r\n\r\n\t\t\t\t\t}),2500);\r\n\t\t\t\t\treturn d;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tname: DataList + \" Verification3\",\r\n\t\t\t\ttimeout: 10000,\r\n\t\t\t\trunTest: function(){\r\n\t\t\t\t\tvar d = new runner.Deferred();\r\n\t\t\t\t\tsetTimeout(d.getTestCallback(function(){\r\n\r\n\t\t\t\t\t\tadd1();\r\n\t\t\t\t\t\tadd1();\r\n\t\t\t\t\t\tadd1();\r\n\t\t\t\t\t\tvar demoWidget = registry.byId(\"dojox_mobile_ListItem_19\");\r\n\t\t\t\t\t\trunner.assertEqual('mblListItem mblListItemRtl', demoWidget.domNode.className);\r\n\t\t\t\t\t\trunner.assertEqual('mblImageIcon mblListItemIcon', demoWidget.iconNode.className);\r\n\t\t\t\t\t\trunner.assertEqual('mblListItemLabel', demoWidget.labelNode.className);\r\n\t\t\t\t\t\trunner.assertEqual('New Item 1', demoWidget.labelNode.innerHTML);\r\n\t\t\t\t\t\trunner.assertEqual('mblDomButtonArrow mblDomButton', demoWidget.rightIconNode.childNodes[0].className);\r\n\r\n\t\t\t\t\t\tdelete1();\r\n\t\t\t\t\t\tdemoWidget = registry.byId(\"dojox_mobile_ListItem_21\");\r\n\t\t\t\t\t\trunner.assertTrue(!demoWidget);\r\n\r\n\t\t\t\t\t\tdemoWidget = registry.byId(\"dojox_mobile_ListItem_20\");\r\n\t\t\t\t\t\trunner.assertEqual('mblListItem mblListItemRtl', demoWidget.domNode.className);\r\n\t\t\t\t\t\trunner.assertEqual('mblImageIcon mblListItemIcon', demoWidget.iconNode.className);\r\n\t\t\t\t\t\trunner.assertEqual('mblListItemLabel', demoWidget.labelNode.className);\r\n\t\t\t\t\t\trunner.assertEqual('New Item 2', demoWidget.labelNode.innerHTML);\r\n\t\t\t\t\t\trunner.assertEqual('mblDomButtonArrow mblDomButton', demoWidget.rightIconNode.childNodes[0].className);\r\n\t\t\t\t\t}),1500);\r\n\t\t\t\t\treturn d;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t]);\r\n\t\trunner.run();\r\n\t});\r\n});\r\n"]}