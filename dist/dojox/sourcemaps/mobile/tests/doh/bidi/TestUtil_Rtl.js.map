{"version":3,"sources":["mobile/tests/doh/bidi/TestUtil_Rtl.js"],"names":["fireOnMouseDown","obj","anchorNode","dijit","byId","domNode","dojo","isIE","fireEvent","eventName","e","document","createEvent","initEvent","dispatchEvent","fireOnMouseUp","verifyListItem","id","text","rightText","domButtonType","hasIcon","hasRightIcon","hasIcon2","hasVariableHeight","regExp","hasSelected","isSprite","demoWidget","doh","assertNotEqual","assertEqual","className","childNodes","children","i","assertTrue","src","search","toString","hasClass","isFF","innerHTML","tagName","trim","replace","verifyListItemPos","rTop","rRight","rBottom","rLeft","sTop","sLeft","node","verifyRect","style","top","left","rectArray","clip","split","verifyIconItem","display","nodeValue","paneWidget","verifyTabBarButton","classNames","visibility1","visibility2","regExp1","regExp2","length","iconNode1","console","log","iconNode2","visibility","labelNode","require"],"mappings":"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","file":"../../../../../mobile/tests/doh/bidi/TestUtil_Rtl.js","sourcesContent":["//dojo.require(\"dojo.has\");\r\n\r\nrequire([\r\n\t\"dijit/_base/manager\",  // dijit.byId\r\n\t\"doh/runner\"\t//doh functions\r\n]);\r\n\r\nfunction fireOnMouseDown(obj){\r\n\tvar anchorNode;\r\n\tif(typeof obj === \"string\"){\r\n\t\tvar demoWidget = dijit.byId(obj);\r\n\t\tanchorNode = demoWidget.domNode;\r\n\t}else{\r\n\t\tanchorNode = obj;\r\n\t}\r\n\tif(dojo.isIE<9){\r\n\t\tanchorNode.fireEvent( \"onmousedown\" );\r\n\t}else{\r\n\t\tvar eventName = \"mousedown\";\r\n\t\tif (dojo.isIE >= 10){\r\n\t\t\teventName = \"MSPointerDown\";\r\n\t\t}\r\n\t\tvar e = document.createEvent('Events');\r\n\t\te.initEvent(eventName, true, true);\r\n\t\tanchorNode.dispatchEvent(e);\r\n\t}\r\n}\r\nfunction fireOnMouseUp(obj){\r\n\tvar anchorNode;\r\n\tif(typeof obj === \"string\"){\r\n\t\tvar demoWidget = dijit.byId(obj);\r\n\t\tanchorNode = demoWidget.domNode;\r\n\t}else{\r\n\t\tanchorNode = obj;\r\n\t}\r\n\tif(dojo.isIE<9){\r\n\t\tanchorNode.fireEvent( \"onmouseup\" );\r\n\t}else{\r\n\t\tvar eventName = \"mouseup\";\r\n\t\tif (dojo.isIE >= 10){\r\n\t\t\teventName = \"MSPointerUp\";\r\n\t\t}\r\n\t\tvar e = document.createEvent('Events');\r\n\t\te.initEvent(eventName, true, true);\r\n\t\tanchorNode.dispatchEvent(e);\r\n\t}\r\n}\r\n\r\nfunction verifyListItem(id, text, rightText, domButtonType, hasIcon, hasRightIcon, hasIcon2, hasVariableHeight, regExp, hasSelected, isSprite){\r\n\tvar demoWidget = dijit.byId(id);\r\n\tdoh.assertNotEqual(null, demoWidget, \"ListItem: Did not instantiate. id=\" + id);\r\n\tdoh.assertEqual('mblListItem mblListItemRtl' + (hasVariableHeight ?\" mblVariableHeight\":\"\") + (hasSelected ?\" mblListItemSelected\":\"\"), demoWidget.domNode.className, \"id=\" + id);\r\n\tvar childNodes = demoWidget.domNode.children;\r\n\tvar i=0;\r\n\tif(hasIcon){\r\n\t\tif(!dojo.isIE && regExp){\r\n\t\t\tif(isSprite){\r\n\t\t\t\tdoh.assertTrue(childNodes[i].childNodes[0].src.search(regExp) != -1, \"search \" + regExp.toString());\r\n\t\t\t}else{\r\n\t\t\t\tdoh.assertTrue(childNodes[i].src.search(regExp) != -1, \"search \" + regExp.toString());\r\n\t\t\t}\r\n\t\t}\r\n\t\tdoh.assertTrue(dojo.hasClass(childNodes[i], 'mblListItemIcon'), 'mblListItemIcon id=' + id + \" got: \" + childNodes[i].className);\r\n\t\ti++;\r\n\t}\r\n\r\n\tif(hasRightIcon){\r\n\t\tif(domButtonType){\r\n\t\t\tdoh.assertEqual(domButtonType + ' mblDomButton', childNodes[i].childNodes[0].className, \"id=\" + id);\r\n\t\t}\r\n\t\tdoh.assertTrue(dojo.hasClass(childNodes[i], 'mblListItemRightIcon'), 'mblListItemRightIcon id=' + id + \" got: \" + childNodes[i].className);\r\n\t\ti++;\r\n\t}\r\n\r\n\tif(hasIcon2){\r\n\t\tdoh.assertTrue(dojo.hasClass(childNodes[i], 'mblListItemRightIcon2'), 'mblListItemRightIcon2 id=' + id + \" got: \" + childNodes[i].className);\r\n\t\ti++;\r\n\t}\r\n\r\n\tif(rightText){\r\n\t\tdoh.assertEqual(rightText, dojo.isFF ==3.6 ? childNodes[i].childNodes[0].innerHTML : childNodes[i].innerHTML, \"id=\" + id); //2 0r 3\r\n\t\tdoh.assertEqual('mblListItemRightText', childNodes[i++].className, \"id=\" + id);\r\n\t}\r\n\tif(!hasVariableHeight){\r\n\t\tdoh.assertEqual('mblListItemLabel', childNodes[i].className, \"id=\" + id);\r\n\t\tdoh.assertEqual('DIV', childNodes[i].tagName, \"id=\" + id);\r\n\t}else{\r\n\t\tdoh.assertEqual('mblListItemLabel', childNodes[i+1].className, \"id=\" + id);\r\n\t\tdoh.assertEqual('DIV', childNodes[i+1].tagName, \"id=\" + id);\r\n\t}\r\n\r\n\ttry{\r\n\t\tdoh.assertEqual(text, dojo.trim(childNodes[i].innerHTML.replace(/\\r\\n|\\n|\\t/g,\"\")), \"id=\" + id);\r\n\t} catch (e) {\r\n\t\tif(dojo.isFF ==3.6){\r\n\t\t\tdoh.assertEqual(text, dojo.trim(childNodes[i].childNodes[0].innerHTML.replace(/\\r\\n|\\n|\\t/g,\"\")), \"id=\" + id);\r\n\t\t}else{\r\n\t\t\tthrow e;\r\n\t\t}\r\n\t}\r\n\r\n}\r\n\r\nfunction verifyListItemPos(id, rTop, rRight, rBottom, rLeft, sTop, sLeft, isSprite) {\r\n\tvar demoWidget = dijit.byId(id);\r\n\tvar node;\r\n\tif(isSprite){\r\n\t\tnode = demoWidget.domNode.childNodes[0].childNodes[0];\r\n\t}else{\r\n\t\tnode = demoWidget.domNode.childNodes[0].childNodes[0].childNodes[0];\r\n\t}\r\n\tverifyRect(node, rTop, rRight, rBottom, rLeft);\r\n\r\n\tdoh.assertEqual(sTop, node.style.top);\r\n\tdoh.assertEqual(sLeft, node.style.left);\r\n}\r\n\r\nfunction verifyRect(node, rTop, rRight, rBottom, rLeft) {\r\n\tvar rectArray = node.style.clip.split(/[, ]+/);\r\n\tdoh.assertEqual(\"rect(\"+rTop, rectArray[0]);\r\n\tdoh.assertEqual(rRight, rectArray[1]);\r\n\tdoh.assertEqual(rBottom, rectArray[2]);\r\n\tdoh.assertEqual(rLeft+\")\", rectArray[3]);\r\n}\r\n\r\nfunction verifyIconItem(id, text, display, regExp, isSprite){\r\n\tvar demoWidget = dijit.byId(id);\r\n\tif(!dojo.isIE && !dojo.isFF) {\r\n\t\tif(isSprite){\r\n\t\t\tdoh.assertTrue(demoWidget.domNode.childNodes[0].childNodes[0].childNodes[0].childNodes[0].src.search(regExp) != -1, \"search \" + regExp.toString() + \" id=\" +id);\r\n\t\t}else{\r\n\t\t\tdoh.assertTrue(demoWidget.domNode.childNodes[0].childNodes[0].childNodes[0].src.search(regExp) != -1, \"search \" + regExp.toString() + \" id=\" +id);\r\n\t\t}\r\n\t}\r\n\tdoh.assertEqual(text, demoWidget.domNode.childNodes[0].childNodes[1].childNodes[0].nodeValue, \"id=\" +id);\r\n\tdoh.assertEqual(display, demoWidget.paneWidget.domNode.style.display, \"id=\" +id);\r\n\tdoh.assertEqual('mblIconItemPaneHeading', demoWidget.paneWidget.domNode.childNodes[0].className, \"id=\" +id);\r\n\tdoh.assertEqual('mblDomButtonBlueMinus mblDomButton', demoWidget.paneWidget.domNode.childNodes[0].childNodes[0].childNodes[0].className, \"id=\" +id);\r\n\tdoh.assertEqual(text, demoWidget.paneWidget.domNode.childNodes[0].childNodes[1].childNodes[0].nodeValue, \"id=\" +id);\r\n}\r\n\r\nfunction verifyTabBarButton(id, text, classNames, visibility1, visibility2, regExp1, regExp2, isSprite){\r\n\tvar demoWidget = dijit.byId(id);\r\n\tfor(var i = 0; i < classNames.length;i++){\r\n\t\tdoh.assertTrue(dojo.hasClass(demoWidget.domNode, classNames[i]), classNames[i] + \" id=\" +id + \" className:\"+demoWidget.domNode.className);\r\n\t}\r\n\tdoh.assertEqual('mblTabBarButtonIconAreaRtl', demoWidget.domNode.childNodes[0].className, \"id=\" +id);\r\n\tdoh.assertEqual('mblTabBarButtonLabel', demoWidget.domNode.childNodes[1].className, \"id=\" +id);\r\n\tif(demoWidget.iconNode1){\r\n\t\tif(!dojo.isIE) {\r\n\t\t\tif(isSprite){\r\n\t\t\t\tdoh.assertTrue(demoWidget.iconNode1.childNodes[0].src.search(regExp1) != -1, \"search \" + regExp1.toString() + \" id=\" +id);\r\n\t\t\t}else{\r\n\t\t\t\tdoh.assertTrue(demoWidget.iconNode1.src.search(regExp1) != -1, \"search \" + regExp1.toString() + \" id=\" +id);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t}else{\r\n\t\tconsole.log(\"There is no iconNode1. id=\" + id);\r\n\t}\r\n\tif(demoWidget.iconNode2){\r\n\t\tif(!dojo.isIE){\r\n\t\t\tif(isSprite){\r\n\t\t\t\tdoh.assertTrue(demoWidget.iconNode2.childNodes[0].src.search(regExp2) != -1, \"search \" + regExp2.toString() + \" id=\" +id);\r\n\t\t\t}else{\r\n\t\t\t\tdoh.assertTrue(demoWidget.iconNode2.src.search(regExp2) != -1, \"search \" + regExp2.toString() + \" id=\" +id);\r\n\t\t\t}\r\n\t\t}\r\n\t\tdoh.assertEqual(visibility2, demoWidget.iconNode2.style.visibility, \"id=\" +id);\r\n\t}else{\r\n\t\tconsole.log(\"There is no iconNode2. id=\" + id);\r\n\t}\r\n\tdoh.assertEqual(text, dojo.trim(demoWidget.labelNode.innerHTML), \"id=\" +id);\r\n}\r\n"]}