{"version":3,"sources":["mobile/tests/doh/listitem/ListItemTests.js"],"names":["WIDGET_CLASSNAME1","WIDGET_ANCHOR_CLASSNAME1","WIDGET_ANCHOR_CLASSNAME2","WIDGET_ICON_CLASSNAME1","WIDGET_RIGHTICON_CLASSNAME1","WIDGET_DOMBUTTON_ARROW","WIDGET_DOMBUTTON_BLUEPLUS","WIDGET_DOMBUTTON_CHECKBOX_ON","require","connect","domClass","ready","registry","string","runner","ListItem","_createListItemProgrammatically","parentId","widgetId","r","parentWidget","byId","assertNotEqual","id","icon","rightText","moveTo","label","addChild","rightIcon","variableHeight","style","_createListItemProgrammaticallyWithSourceNodeReference","startup","_assertCorrectListItems","_assertCorrectListItem","noIcon","rightIcon2","boxText","widget","doh","assertTrue","contains","domNode","iconNode","dojo","isIE","src","rightIconNode","assertEqual","className","childNodes","rightIconNode2","rightTextNode","innerHTML","labelNode","trim","replace","register","name","timeout","runTest","d","Deferred","handle2","subscribe","getTestCallback","view","unsubscribe","performTransition","run"],"mappings":"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","file":"../../../../../mobile/tests/doh/listitem/ListItemTests.js","sourcesContent":["var WIDGET_CLASSNAME1 = \"mblListItem\";\r\nvar WIDGET_ANCHOR_CLASSNAME1 = \"mblListItemAnchor\";\r\nvar WIDGET_ANCHOR_CLASSNAME2 = \"mblListItemAnchorNoIcon\";\r\nvar WIDGET_ICON_CLASSNAME1 = \"mblListItemIcon\";\r\nvar WIDGET_RIGHTICON_CLASSNAME1 = \"mblListItemRightIcon\";\r\nvar WIDGET_DOMBUTTON_ARROW = \"mblDomButtonArrow\";\r\nvar WIDGET_DOMBUTTON_BLUEPLUS = \"mblDomButtonBluePlus\";\r\nvar WIDGET_DOMBUTTON_CHECKBOX_ON = \"mblDomButtonCheckboxOn\";\r\n\r\nrequire([\r\n\t\"dojo/_base/connect\",\r\n\t\"dojo/dom-class\", // dojo.hasClass\r\n\t\"dojo/ready\", // dojo.ready\r\n\t\"dijit/registry\",  // dijit.byId\r\n\t\"dojo/string\", // dojo.trim\r\n\t\"doh/runner\",\t//doh functions\r\n\t\"dojox/mobile/ListItem\",\r\n\t\"dojox/mobile/RoundRectList\",\r\n\t\"dojox/mobile/EdgeToEdgeList\",\r\n\t\"dojox/mobile\",\t\t\t\t// This is a mobile app.\r\n\t\"dojox/mobile/View\",\t\t// This mobile app uses mobile view\r\n\t\"dojox/mobile/compat\",\t\t// This mobile app supports running on desktop browsers\r\n\t\"dojox/mobile/parser\"\t\t// This mobile app uses declarative programming with fast mobile parser\r\n], function(connect, domClass, ready, registry, string, runner, ListItem){\r\n\r\n\r\n\tfunction _createListItemDeclaratively(widgetId) {\r\n\t\treturn registry.byId(widgetId);\r\n\t};\r\n\r\n\tfunction _createListItemProgrammatically(parentId, widgetId){\r\n\t\t// Create SwapView\r\n\t\tparentWidget = registry.byId(parentId);;\r\n\t\trunner.assertNotEqual(null, parentWidget, \"No parentWidget id=\" + parentId);\r\n\t\tvar r;\r\n\t\tr = new ListItem({id:widgetId[0], icon:\"../../images/i-icon-1.png\", rightText:\"Off\", moveTo:\"bar\", label:\"u1space\"});\r\n\t\tparentWidget.addChild(r);\r\n\t\tr = new ListItem({id:widgetId[1], label:\"u2space\"});\r\n\t\tparentWidget.addChild(r);\r\n\t\tr = new ListItem({id:widgetId[2], rightIcon:\"mblDomButtonBluePlus\", label:\"Wi-Fi\"});\r\n\t\tparentWidget.addChild(r);\r\n\t\tr = new ListItem({id:widgetId[3], rightIcon:\"mblDomButtonCheckboxOn\", label:\"VPN\"});\r\n\t\tparentWidget.addChild(r);\r\n\t\tr = new ListItem({id:widgetId[4], variableHeight:\"true\", style:\"font-size:10px\", label:'<div>1. <a href=\"#\" class=\"lnk\">Dojo: Traditional Karate-do Spirit</a><br>Sarah Connor Hardcover<br>Eligible for FREE Super Saver Shipping<br><font color=\"red\">$14.50 (50%)</font> In Stock<br># (531)</div>'});\r\n\t\tparentWidget.addChild(r);\r\n\t\t\r\n\t\treturn parentWidget;\r\n\t};\r\n\r\n\tfunction _createListItemProgrammaticallyWithSourceNodeReference(widgetId){\r\n\t\t// Create IconContainer\r\n\t\tvar r;\r\n\t\tr = new ListItem({icon:\"../../images/i-icon-1.png\", rightText:\"Off\", moveTo:\"bar\"}, widgetId[0]);\r\n\t\tr.startup();\r\n\t\tr = new ListItem({}, widgetId[1]);\r\n\t\tr.startup();\r\n\t\tr = new ListItem({rightIcon:\"mblDomButtonBluePlus\"}, widgetId[2]);\r\n\t\tr.startup();\r\n\t\tr = new ListItem({rightIcon:\"mblDomButtonCheckboxOn\"}, widgetId[3]);\r\n\t\tr.startup();\r\n\t\tr = new ListItem({variableHeight:\"true\"}, widgetId[4]);\r\n\t\tr.startup();\r\n\r\n\t\treturn r;\r\n\t};\r\n\r\n\r\n\r\n\tfunction _assertCorrectListItems(widgetId){\r\n\t\t_assertCorrectListItem(widgetId[0], false, WIDGET_DOMBUTTON_ARROW, \"\", \"Off\", \"u1space\");\r\n\t\t_assertCorrectListItem(widgetId[1], true, \"\", \"\", \"\", \"u2space\");\r\n\t\t_assertCorrectListItem(widgetId[2], true, WIDGET_DOMBUTTON_BLUEPLUS, \"\", \"\", \"Wi-Fi\");\r\n\t\t_assertCorrectListItem(widgetId[3], true, WIDGET_DOMBUTTON_CHECKBOX_ON, \"\", \"\", \"VPN\");\r\n\t\t_assertCorrectListItem(widgetId[4], true, \"\", \"\", \"\", '');\r\n\t};\r\n\r\n\tfunction _assertCorrectListItem(widgetId, noIcon, rightIcon, rightIcon2, rightText, boxText){\r\n\t\tvar widget = registry.byId(widgetId);\r\n\t\tdoh.assertNotEqual(null, widget, \"ListItem: Did not instantiate.\");\r\n\t\trunner.assertTrue(domClass.contains(widget.domNode, WIDGET_CLASSNAME1), WIDGET_CLASSNAME1 + \" id=\" + widget.domNode.id);\r\n\t\tif(!noIcon){\r\n\t\t\trunner.assertTrue(widget.iconNode, \"iconNode: There is no iconNode. id=\" + widget.domNode.id);\r\n\t\t\trunner.assertTrue(domClass.contains(widget.iconNode, WIDGET_ICON_CLASSNAME1), WIDGET_ICON_CLASSNAME1 + \" id=\" + widget.domNode.id);\r\n\t\t\tif(dojo.isIE!=6){\r\n\t\t\t\trunner.assertTrue(!!widget.iconNode.src, \"iconNode: There is no src in iconNode. id=\" + widget.domNode.id);\r\n\t\t\t}\r\n\t\t}\r\n\t\tif(rightIcon){\r\n\t\t\trunner.assertTrue(widget.rightIconNode, \"rightIconNode: There is no rightIconNode. id=\" + widget.domNode.id);\r\n\t\t\trunner.assertEqual(WIDGET_RIGHTICON_CLASSNAME1, widget.rightIconNode.className);\r\n\t\t\trunner.assertTrue(domClass.contains(widget.rightIconNode.childNodes[0], rightIcon), rightIcon + \" id=\" + widget.domNode.id);\r\n\t\t}\r\n\t\tif(rightIcon2){\r\n\t\t\trunner.assertTrue(widget.rightIconNode2, \"rightIconNode2: There is no rightIconNode2. id=\" + widget.domNode.id);\r\n\t\t\trunner.assertTrue(domClass.contains(widget.rightIconNode2, rightIcon2), rightIcon2 + \" id=\" + widget.domNode.id);\r\n\t\t}\r\n\t\tif(rightText){\r\n\t\t\trunner.assertTrue(widget.rightTextNode, \"rightTextNode: There is no rightTextNode. id=\" + widget.domNode.id);\r\n\t\t\trunner.assertEqual(rightText, widget.rightTextNode.innerHTML);\r\n\t\t}\r\n\t\tif(boxText){\r\n\t\t\trunner.assertTrue(widget.labelNode, \"box: There is no box. id=\" + widget.domNode.id);\r\n\t\t\tvar innerHTML = string.trim(widget.labelNode.innerHTML.replace(/\\r\\n/g,\"\"));\r\n\t\t\trunner.assertEqual(boxText, innerHTML, \"id=\" + widget.domNode.id);\r\n\t\t}\r\n\t};\r\n\r\n\tfunction _showView2(){\r\n\t\tvar view1 = registry.byId(\"view1\");\r\n\t\tview1.performTransition(\"view2\", 1, \"none\");\r\n\t};\r\n\r\n\tready(function(){\r\n\t\trunner.register(\"dojox.mobile.test.doh.Heading\", [\r\n\t\t\t{\r\n\t\t\t\tname: \"ListItem Verification1\",\r\n\t\t\t\ttimeout: 4000,\r\n\t\t\t\trunTest: function(){\r\n\t\t\t\t\t_createListItemProgrammatically(\"view1-RoundRectList2\", [\"view1-item6\", \"view1-item7\", \"view1-item8\", \"view1-item9\", \"view1-item10\"]);\r\n\t\t\t\t\t_createListItemProgrammaticallyWithSourceNodeReference([\"view1-item11\", \"view1-item12\", \"view1-item13\", \"view1-item14\", \"view1-item15\"]);\r\n\r\n\t\t\t\t\t_assertCorrectListItems([\"view1-item1\", \"view1-item2\", \"view1-item3\", \"view1-item4\", \"view1-item5\"]);\r\n\t\t\t\t\t_assertCorrectListItems([\"view1-item6\", \"view1-item7\", \"view1-item8\", \"view1-item9\", \"view1-item10\"]);\r\n\t\t\t\t\t_assertCorrectListItems([\"view1-item11\", \"view1-item12\", \"view1-item13\", \"view1-item14\", \"view1-item15\"]);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tname: \"ListItem Verification2\",\r\n\t\t\t\ttimeout: 4000,\r\n\t\t\t\trunTest: function(){\r\n\t\t\t\t\t_createListItemProgrammatically(\"view2-RoundRectList2\", [\"view2-item6\", \"view2-item7\", \"view2-item8\", \"view2-item9\", \"view2-item10\"]);\r\n\t\t\t\t\t_createListItemProgrammaticallyWithSourceNodeReference([\"view2-item11\", \"view2-item12\", \"view2-item13\", \"view2-item14\", \"view2-item15\"]);\r\n\r\n\t\t\t\t\tvar d = new runner.Deferred();\r\n\t\t\t\t\tvar handle2 = connect.subscribe(\"/dojox/mobile/afterTransitionIn\", d.getTestCallback(function(view){\r\n\t\t\t\t\t\tif(view.id==\"view2\"){\r\n\t\t\t\t\t\t\tconnect.unsubscribe(handle2);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t_assertCorrectListItems([\"view2-item1\", \"view2-item2\", \"view2-item3\", \"view2-item4\", \"view2-item5\"]);\r\n\t\t\t\t\t\t_assertCorrectListItems([\"view2-item6\", \"view2-item7\", \"view2-item8\", \"view2-item9\", \"view2-item10\"]);\r\n\t\t\t\t\t\t_assertCorrectListItems([\"view2-item11\", \"view2-item12\", \"view2-item13\", \"view2-item14\", \"view2-item15\"]);\r\n\t\t\t\t\t}));\r\n\t\t\t\t\t_showView2();\r\n\t\t\t\t\treturn d;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t]);\r\n\t\trunner.run();\r\n\t});\r\n})\r\n"]}