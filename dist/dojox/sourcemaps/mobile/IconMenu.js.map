{"version":3,"sources":["mobile/IconMenu.js"],"names":["define","declare","has","domClass","domConstruct","domStyle","domAttr","Contained","Container","WidgetBase","BidiIconMenu","IconMenu","transition","iconBase","iconPos","cols","tag","selectOne","baseClass","childItemClass","_createTerminator","buildRendering","this","domNode","containerNode","srcNodeRef","create","set","inherited","arguments","t","_terminator","className","appendChild","startup","_started","refresh","p","getParent","remove","children","getChildren","nRows","Math","ceil","length","w","floor","_w","h","_h","i","item","first","last","rowIdx","width","height","toggle","addChild","widget","insertIndex","hide"],"mappings":";;;;;;;AAAAA,QACC,qBACA,aACA,iBACA,qBACA,iBACA,gBACA,mBACA,mBACA,oBACA,gDACA,kBACE,SAASC,EAASC,EAAKC,EAAUC,EAAcC,EAAUC,EAASC,EAAWC,EAAWC,EAAYC,GAItG,IAAIC,EAAWV,EAAQC,EAAI,aAAe,+BAAiC,yBAA0BO,EAAYD,EAAWD,IAU3HK,WAAY,QAIZC,SAAU,GAIVC,QAAS,GAITC,KAAM,EAINC,IAAK,KAGLC,WAAW,EAIXC,UAAW,cAIXC,eAAgB,kBAGhBC,mBAAmB,EAEnBC,eAAgB,WAKf,GAJAC,KAAKC,QAAUD,KAAKE,cAAgBF,KAAKG,YAAcrB,EAAasB,OAAOJ,KAAKN,KAChFV,EAAQqB,IAAIL,KAAKC,QAAS,OAAQ,QAClCD,KAAKM,UAAUC,WAEZP,KAAKF,kBAAkB,CACzB,IAAIU,EAAIR,KAAKS,YAAc3B,EAAasB,OAAO,MAC/CI,EAAEE,UAAYV,KAAKH,eAAiB,aACpCG,KAAKC,QAAQU,YAAYH,KAI3BI,QAAS,WACLZ,KAAKa,WACRb,KAAKc,UACLd,KAAKM,UAAUC,aAGhBO,QAAS,WACR,IAAIC,EAAIf,KAAKgB,YACVD,GACFlC,EAASoC,OAAOF,EAAEd,QAAS,6BAE5B,IAAIiB,EAAWlB,KAAKmB,cACpB,GAAGnB,KAAKP,KAAK,CACZ,IAAI2B,EAAQC,KAAKC,KAAKJ,EAASK,OAASvB,KAAKP,MACzC+B,EAAIH,KAAKI,MAAM,IAAIzB,KAAKP,MACxBiC,EAAK,IAAMF,EAAExB,KAAKP,KAClBkC,EAAIN,KAAKI,MAAM,IAAML,GACrBQ,EAAK,IAAMD,EAAEP,EACdxC,EAAI,QACN8C,IACAE,KAGF,IAAI,IAAIC,EAAI,EAAGA,EAAIX,EAASK,OAAQM,IAAI,CACvC,IAAIC,EAAOZ,EAASW,GACpB,GAAG7B,KAAKP,KAAK,CACZ,IAAIsC,EAAUF,EAAI7B,KAAKP,MAAU,EAC7BuC,GAAUH,EAAI,GAAK7B,KAAKP,MAAU,EAClCwC,EAASZ,KAAKI,MAAMI,EAAI7B,KAAKP,MACjCV,EAASsB,IAAIyB,EAAK7B,SACjBiC,MAAOV,GAAKQ,EAAON,EAAK,GAAK,IAC7BS,OAAQR,GAAMM,EAAS,IAAMb,EAASQ,EAAK,GAAK,MAEjD/C,EAASuD,OAAON,EAAK7B,QAASD,KAAKH,eAAiB,cAAekC,GACnElD,EAASuD,OAAON,EAAK7B,QAASD,KAAKH,eAAiB,aAAcmC,GAClEnD,EAASuD,OAAON,EAAK7B,QAASD,KAAKH,eAAiB,WAAuB,IAAXoC,GAChEpD,EAASuD,OAAON,EAAK7B,QAASD,KAAKH,eAAiB,UAAWoC,EAAS,IAAMb,MAKjFiB,SAAU,SAASC,EAAmBC,GACrCvC,KAAKM,UAAUC,WACfP,KAAKc,WAGN0B,KAAM,WACL,IAAIzB,EAAIf,KAAKgB,YACVD,GAAKA,EAAEyB,MACTzB,EAAEyB,UAKL,OAAO5D,EAAI,aAAeD,EAAQ,yBAA0BU,EAAUD,IAAiBC","file":"../../mobile/IconMenu.js","sourcesContent":["define([\r\n\t\"dojo/_base/declare\",\r\n\t\"dojo/sniff\",\r\n\t\"dojo/dom-class\",\r\n\t\"dojo/dom-construct\",\r\n\t\"dojo/dom-style\",\r\n\t\"dojo/dom-attr\",\r\n\t\"dijit/_Contained\",\r\n\t\"dijit/_Container\",\r\n\t\"dijit/_WidgetBase\",\r\n\t\"dojo/has!dojo-bidi?dojox/mobile/bidi/IconMenu\",\r\n\t\"./IconMenuItem\"\r\n], function(declare, has, domClass, domConstruct, domStyle, domAttr, Contained, Container, WidgetBase, BidiIconMenu){\r\n\t// module:\r\n\t//\t\tdojox/mobile/IconMenu\r\n\r\n\tvar IconMenu = declare(has(\"dojo-bidi\") ? \"dojox.mobile.NonBidiIconMenu\" : \"dojox.mobile.IconMenu\", [WidgetBase, Container, Contained], {\r\n\t\t// summary:\r\n\t\t//\t\tA pop-up menu.\r\n\t\t// description:\r\n\t\t//\t\tThe dojox/mobile/IconMenu widget displays a pop-up menu just\r\n\t\t//\t\tlike iPhone's call options menu that is shown while you are on a\r\n\t\t//\t\tcall. Each menu item must be dojox/mobile/IconMenuItem.\r\n\r\n\t\t// transition: String\r\n\t\t//\t\tThe default animated transition effect for child items.\r\n\t\ttransition: \"slide\",\r\n\r\n\t\t// iconBase: String\r\n\t\t//\t\tThe default icon path for child items.\r\n\t\ticonBase: \"\",\r\n\r\n\t\t// iconPos: String\r\n\t\t//\t\tThe default icon position for child items.\r\n\t\ticonPos: \"\",\r\n\r\n\t\t// cols: Number\r\n\t\t//\t\tThe number of child items in a row.\r\n\t\tcols: 3,\r\n\r\n\t\t// tag: String\r\n\t\t//\t\tA name of html tag to create as domNode.\r\n\t\ttag: \"ul\",\r\n\r\n\t\t/* internal properties */\r\n\t\tselectOne: false,\r\n\t\t\r\n\t\t// baseClass: String\r\n\t\t//\t\tThe name of the CSS class of this widget.\r\n\t\tbaseClass: \"mblIconMenu\",\r\n\t\t\r\n\t\t// childItemClass: String\r\n\t\t//\t\tThe name of the CSS class of menu items.\r\n\t\tchildItemClass: \"mblIconMenuItem\",\r\n\r\n\t\t// _createTerminator: [private] Boolean\r\n\t\t_createTerminator: false,\r\n\r\n\t\tbuildRendering: function(){\r\n\t\t\tthis.domNode = this.containerNode = this.srcNodeRef || domConstruct.create(this.tag);\r\n\t\t\tdomAttr.set(this.domNode, \"role\", \"menu\");\r\n\t\t\tthis.inherited(arguments);\r\n\r\n\t\t\tif(this._createTerminator){\r\n\t\t\t\tvar t = this._terminator = domConstruct.create(\"br\");\r\n\t\t\t\tt.className = this.childItemClass + \"Terminator\";\r\n\t\t\t\tthis.domNode.appendChild(t);\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tstartup: function(){\r\n\t\t\tif(this._started){ return; }\r\n\t\t\tthis.refresh();\r\n\t\t\tthis.inherited(arguments);\r\n\t\t},\r\n\r\n\t\trefresh: function(){\r\n\t\t\tvar p = this.getParent();\r\n\t\t\tif(p){\r\n\t\t\t\tdomClass.remove(p.domNode, \"mblSimpleDialogDecoration\");\r\n\t\t\t}\r\n\t\t\tvar children = this.getChildren();\r\n\t\t\tif(this.cols){\r\n\t\t\t\tvar nRows = Math.ceil(children.length / this.cols);\r\n\t\t\t\tvar w = Math.floor(100/this.cols);\r\n\t\t\t\tvar _w = 100 - w*this.cols;\r\n\t\t\t\tvar h = Math.floor(100 / nRows);\r\n\t\t\t\tvar _h = 100 - h*nRows;\r\n\t\t\t\tif(has(\"ie\")){\r\n\t\t\t\t\t_w--;\r\n\t\t\t\t\t_h--;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tfor(var i = 0; i < children.length; i++){\r\n\t\t\t\tvar item = children[i];\r\n\t\t\t\tif(this.cols){\r\n\t\t\t\t\tvar first = ((i % this.cols) === 0); // first column\r\n\t\t\t\t\tvar last = (((i + 1) % this.cols) === 0); // last column\r\n\t\t\t\t\tvar rowIdx = Math.floor(i / this.cols);\r\n\t\t\t\t\tdomStyle.set(item.domNode, {\r\n\t\t\t\t\t\twidth: w + (last ? _w : 0) + \"%\",\r\n\t\t\t\t\t\theight: h + ((rowIdx + 1 === nRows) ? _h : 0) + \"%\"\r\n\t\t\t\t\t});\r\n\t\t\t\t\tdomClass.toggle(item.domNode, this.childItemClass + \"FirstColumn\", first);\r\n\t\t\t\t\tdomClass.toggle(item.domNode, this.childItemClass + \"LastColumn\", last);\r\n\t\t\t\t\tdomClass.toggle(item.domNode, this.childItemClass + \"FirstRow\", rowIdx === 0);\r\n\t\t\t\t\tdomClass.toggle(item.domNode, this.childItemClass + \"LastRow\", rowIdx + 1 === nRows);\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t},\r\n\r\n\t\taddChild: function(widget, /*Number?*/insertIndex){\r\n\t\t\tthis.inherited(arguments);\r\n\t\t\tthis.refresh();\r\n\t\t},\r\n\r\n\t\thide: function(){\r\n\t\t\tvar p = this.getParent();\r\n\t\t\tif(p && p.hide){\r\n\t\t\t\tp.hide();\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\r\n\treturn has(\"dojo-bidi\") ? declare(\"dojox.mobile.IconMenu\", [IconMenu, BidiIconMenu]) : IconMenu;\r\n});\r\n"]}