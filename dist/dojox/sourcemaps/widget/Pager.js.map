{"version":3,"sources":["widget/Pager.js"],"names":["define","aspect","array","declare","dom","attr","domClass","domConstruct","geometry","style","fx","kernel","keys","lang","on","_WidgetBase","_TemplatedMixin","PagerItem","template","experimental","templateString","iconPrevious","iconNext","iconPage","require","toUrl","iconPageActive","store","orientation","statusPos","pagerPos","duration","itemSpace","resizeChildren","itemClass","itemsPage","postMixInProperties","h","this","mixin","_totalPages","_currentPage","dirClass","_next","isLeftToRight","_pagerNext","_pagerPrevious","_previous","postCreate","inherited","arguments","fetch","onComplete","hitch","_a11yStyle","e","toggle","target","type","_handleKey","charCode","SPACE","keyCode","UP_ARROW","RIGHT_ARROW","preventDefault","DOWN_ARROW","LEFT_ARROW","ENTER","pagerNext","pagerPrevious","_init","items","_renderPages","_renderStatus","_renderPager","generatePagerItem","item","cnt","pagerItem","getObject","contentContainer","create","innerHTML","content","id","pcv","pagerContainerView","_h","pagerH","getMarginBox","pagerContainerPager","statusH","pagerContainerStatus","addonHeight","widthSub","pagerIconNext","width","newWidth","get","set","marginLeft","marginRight","totalH","pagerContainer","Math","floor","pagerW","w","statusW","addonWidth","heightSub","height","newHeight","marginTop","marginBottom","totalW","paddingLead","paddingTrail","forEach","containerProps","pagerItems","appendChild","domNode","p","containerNode","parseChildren","pos","trailingDir","dir","tcp","ceil","length","iconWidth","iconHeight","iconsLoaded","_iconConnects","i","icon","Image","pointer","containerHeight","statusHeight","position","containerWidth","statusWidth","remove","src","add","_pagerSkip","page","distanceP","distanceN","b","_toScroll","cmd","handle","after","_anim","_anims","byId","currentItem","marginBox","move","l","push","slideTo","node","left","t","top","previousPage","newPos","combine","animHandle","onScrollEnd","play","j"],"mappings":"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","file":"../../widget/Pager.js","sourcesContent":["define([\"dojo/aspect\", \"dojo/_base/array\", \"dojo/_base/declare\", \"dojo/dom\", \"dojo/dom-attr\", \"dojo/dom-class\", \"dojo/dom-construct\", \"dojo/dom-geometry\", \"dojo/dom-style\", \"dojo/fx\", \"dojo/_base/kernel\", \"dojo/keys\",\r\n\t\"dojo/_base/lang\", \"dojo/on\", \"dijit/_WidgetBase\", \"dijit/_TemplatedMixin\", \"./PagerItem\", \"dojo/text!./Pager/Pager.html\"],\r\n\tfunction(aspect, array, declare, dom, attr, domClass, domConstruct, geometry, style, fx, kernel, keys, lang, on, _WidgetBase, _TemplatedMixin, PagerItem, template){\r\n\r\nkernel.experimental(\"dojox.widget.Pager\");\r\n\r\nreturn declare(\"dojox.widget.Pager\",\r\n\t[_WidgetBase, _TemplatedMixin],\r\n\t{\r\n\t// summary:\r\n\t//\t\tA Pager, displaying a list of sized nodes\r\n\r\n\r\n\ttemplateString: template,\r\n\r\n\r\n\t// iconPrevious: String?\r\n\t//\t\tThe url of the previous page icon\r\n\ticonPrevious: \"\",\r\n\r\n\t// iconNext: String?\r\n\t//\t\tThe url of the next page icon\r\n\ticonNext: \"\",\r\n\r\n\ticonPage: require.toUrl(\"dojox/widget/Pager/images/pageInactive.png\"),\r\n\ticonPageActive: require.toUrl(\"dojox/widget/Pager/images/pageActive.png\"),\r\n\r\n\t// store: Object\r\n\t//\t\tA dojo.data Data store\r\n\tstore: null, // data store for items\r\n\r\n\t// orientation: String\r\n\t//\t\tEither \"horizontal or \"vertical\" to define the direction the pages will slide\r\n\torientation: \"horizontal\", // or vertical\r\n\r\n\t// statusPos: String\r\n\t//\t\tA string describing where to put the Pager \"current page\" indicator. Options are\r\n\t//\t\t\"leading\" or \"trailing\". In the case of horiztonal orientation, \"leading\" indicates\r\n\t//\t\tpositioned above the PageItems. In the case of vertical, \"leading\" indicates \"before\".\r\n\tstatusPos: \"leading\",\r\n\r\n\t// pagerPos: String\r\n\t//\t\tTODOC\r\n\tpagerPos: \"center\",\r\n\r\n\t// duration: Integer\r\n\t//\t\tTime in milliseconds to transition the pages\r\n\tduration: 500,\r\n\r\n\t// itemSpace: Integer\r\n\t//\t\tSpacing between items? TODOC\r\n\titemSpace: 2,\r\n\r\n\t// resizeChildren: Boolean\r\n\t//\t\tTODOC\r\n\tresizeChildren: true,\r\n\r\n\t// itemClass: String|Widget\r\n\t//\t\tThe full dotted named of a Class or Widget constructor to use for the internal Pager Items.\r\n\titemClass: PagerItem,\r\n\r\n\t// itemsPage: Integer\r\n\t//\t\tThe numbers of items to display in each \"Page\"\r\n\titemsPage: 3,\r\n\r\n\tpostMixInProperties: function(){\r\n\t\tvar h = (this.orientation == \"horizontal\");\r\n\t\tlang.mixin(this,{\r\n\t\t\t_totalPages:0,\r\n\t\t\t_currentPage:1,\r\n\t\t\tdirClass: \"pager\" + (h ? \"Horizontal\" : \"Vertical\"),\r\n\t\t\ticonNext: require.toUrl(\"dojox/widget/Pager/images/\" + (h ? \"h\" : \"v\") + \"Next.png\"),\r\n\t\t\ticonPrevious: require.toUrl(\"dojox/widget/Pager/images/\" + (h ? \"h\" : \"v\") + \"Previous.png\")\r\n\t\t});\r\n\t},\r\n\r\n\t// Bidi Support\r\n\t_next: function(){\r\n\t\t// summary:\r\n\t\t//\t\tHandle next behavior depends on widget direction\r\n\t\tif(!this.isLeftToRight()){\r\n\t\t\tthis._pagerPrevious();\r\n\t\t}else{\r\n\t\t\tthis._pagerNext();\r\n\t\t}\r\n\t},\r\n\t\r\n\t// Bidi Support\r\n\t_previous: function(){\r\n\t\t// summary:\r\n\t\t//\t\tHandle previous behavior depends on widget direction\r\n\t\tif(!this.isLeftToRight()){\r\n\t\t\tthis._pagerNext();\r\n\t\t}else{\r\n\t\t\tthis._pagerPrevious();\r\n\t\t}\r\n\t},\r\n\r\n\tpostCreate: function(){\r\n\t\tthis.inherited(arguments);\r\n\t\tthis.store.fetch({\r\n\t\t\tonComplete: lang.hitch(this, \"_init\")\r\n\t\t});\r\n\r\n\t},\r\n\r\n\t_a11yStyle: function(e){\r\n\t\t// summary:\r\n\t\t//\t\ttop level onfocus/onblur listen to set a class \"pagerFocus\" on some node\r\n\t\t//\t\tand remove it onblur\r\n\t\tdomClass.toggle(e.target, \"pagerFocus\", (e.type == \"focus\"));\r\n\t},\r\n\r\n\t_handleKey: function(e){\r\n\t\t// summary:\r\n\t\t//\t\tHandle keyboard navigation internally\r\n\r\n\t\tvar key = (e.charCode == keys.SPACE ? keys.SPACE : e.keyCode);\r\n\t\tswitch(key){\r\n\r\n\t\t\tcase keys.UP_ARROW:\r\n\t\t\tcase keys.RIGHT_ARROW:\r\n\t\t\tcase 110:\r\n\t\t\tcase 78: // key \"n\"\r\n\t\t\t\te.preventDefault();\r\n\t\t\t\tthis._next();\r\n\t\t\t\tbreak;\r\n\t\t\tcase keys.DOWN_ARROW:\r\n\t\t\tcase keys.LEFT_ARROW:\r\n\t\t\tcase 112:\r\n\t\t\tcase 80: // key \"p\"\r\n\t\t\t\te.preventDefault();\r\n\t\t\t\tthis._previous();\r\n\t\t\t\tbreak;\r\n\t\t\tcase keys.ENTER:\r\n\t\t\t\tswitch(e.target){\r\n\t\t\t\t\tcase this.pagerNext : this._next(); break;\r\n\t\t\t\t\tcase this.pagerPrevious : this._previous(); break;\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t},\r\n\r\n\t_init: function(items) {\r\n\t\tthis.items = items;\r\n\t\tthis._renderPages();\r\n\t\tthis._renderStatus();\r\n\t\tthis._renderPager();\r\n\t},\r\n\r\n\tgeneratePagerItem: function(/*item */ item, /* Number */ cnt){\r\n\t\t// summary:\r\n\t\t//\t\tthis method instantiates pagerItems to be used by the pager, it is overridable to allow\r\n\t\t//\t\tcustomizing these items\r\n\r\n\t\t// only use getObject if its not the default _PagerItem value\r\n\t\tvar itemClass = this.itemClass,\r\n\t\t\tpagerItem = (typeof itemClass == \"string\" ? lang.getObject(itemClass) : itemClass);\r\n\r\n\t\tvar contentContainer = domConstruct.create('div', {\r\n\t\t\t\tinnerHTML: item.content\r\n\t\t\t});\r\n\r\n\t\treturn new pagerItem({\r\n\t\t\t  id: this.id + '-item-' + (cnt + 1)\r\n\t\t  }, contentContainer);\r\n\t},\r\n\r\n\t_renderPages: function(){\r\n\t\tvar pcv = this.pagerContainerView,\r\n\t\t\t_h = (this.orientation == \"horizontal\");\r\n\r\n\t\tif(_h){\r\n\t\t\tvar pagerH = geometry.getMarginBox(this.pagerContainerPager).h,\r\n\t\t\t\tstatusH = geometry.getMarginBox(this.pagerContainerStatus).h;\r\n\r\n\t\t\tif (this.pagerPos != 'center'){\r\n\t\t\t\tvar addonHeight = pagerH+statusH;\r\n\t\t\t}else{\r\n\t\t\t\tvar addonHeight = statusH;\r\n\r\n\t\t\t\tvar\twidthSub = this.pagerIconNext.width,\r\n\t\t\t\t\tcontainerWidth = style.get(pcv, 'width'),\r\n\t\t\t\t\tnewWidth = containerWidth-(2*widthSub);\r\n\r\n\t\t\t\tstyle.set(pcv, {\r\n\t\t\t\t\twidth: newWidth+'px',\r\n\t\t\t\t\tmarginLeft: this.pagerIconNext.width+'px',\r\n\t\t\t\t\tmarginRight: this.pagerIconNext.width+'px'\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\tvar totalH = style.get(this.pagerContainer, 'height') - addonHeight;\r\n\t\t\tstyle.set(this.pagerContainerView, 'height', totalH+'px');\r\n\r\n\t\t\tvar itemSpace = Math.floor(style.get(pcv, 'width') / this.itemsPage);\r\n\t\t\tif(this.statusPos == 'trailing'){\r\n\t\t\t\tif(this.pagerPos != 'center'){\r\n\t\t\t\t\tstyle.set(pcv, 'marginTop', pagerH+'px');\r\n\t\t\t\t}\r\n\t\t\t\tstyle.set(pcv, 'marginBottom', statusH+'px');\r\n\t\t\t}else{\r\n\t\t\t\tstyle.set(pcv, 'marginTop', statusH+'px');\r\n\t\t\t\tif (this.pagerPos != 'center'){\r\n\t\t\t\t\tstyle.set(pcv, 'marginTop', pagerH+'px');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}else{\r\n\t\t\tvar pagerW = geometry.getMarginBox(this.pagerContainerPager).w,\r\n\t\t\t\tstatusW = geometry.getMarginBox(this.pagerContainerStatus).w,\r\n\t\t\t\tcontainerW = style.get(this.pagerContainer, 'width');\r\n\r\n\t\t\tif(this.pagerPos != 'center'){\r\n\t\t\t\tvar addonWidth = pagerW + statusW;\r\n\t\t\t}else{\r\n\t\t\t\tvar addonWidth = statusW,\r\n\t\t\t\t\theightSub = this.pagerIconNext.height,\r\n\t\t\t\t\tcontainerHeight = style.get(pcv, 'height'),\r\n\t\t\t\t\tnewHeight = containerHeight - (2 * heightSub);\r\n\r\n\t\t\t\tstyle.set(pcv,{\r\n\t\t\t\t\theight: newHeight+'px',\r\n\t\t\t\t\tmarginTop: this.pagerIconNext.height+'px',\r\n\t\t\t\t\tmarginBottom: this.pagerIconNext.height+'px'\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\tvar totalW = style.get(this.pagerContainer, 'width') - addonWidth;\r\n\t\t\tstyle.set(pcv, 'width', totalW+'px');\r\n\r\n\t\t\tvar itemSpace = Math.floor(style.get(pcv, 'height') / this.itemsPage);\r\n\t\t\tif(this.statusPos == 'trailing'){\r\n\t\t\t\tif (this.pagerPos != 'center'){\r\n\t\t\t\t\tstyle.set(pcv, 'marginLeft', pagerW + 'px');\r\n\t\t\t\t}\r\n\t\t\t\tstyle.set(pcv, 'marginRight', statusW + 'px');\r\n\t\t\t}else{\r\n\t\t\t\tstyle.set(pcv, 'marginLeft', statusW + 'px');\r\n\t\t\t\tif(this.pagerPos != 'center'){\r\n\t\t\t\t\tstyle.set(pcv, 'marginRight', pagerW+'px');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tvar paddingLead = \"padding\" + (_h ? \"Left\" : \"Top\"),\r\n\t\t\tpaddingTrail = \"padding\" + (_h ? \"Right\" : \"Bottom\");\r\n\r\n\t\tarray.forEach(this.items, function(item, cnt){\r\n\t\t\tvar pagerItem = this.generatePagerItem(item, cnt),\r\n\t\t\t\tcontainerProps = {};\r\n\r\n\t\t\tthis.pagerItems.appendChild(pagerItem.domNode);\r\n\r\n\t\t\tcontainerProps[(_h ? \"width\" : \"height\")] = (itemSpace - this.itemSpace) + \"px\";\r\n\t\t\tvar p = (_h ? \"height\" : \"width\");\r\n\t\t\tcontainerProps[p] = style.get(pcv, p) + \"px\";\r\n\t\t\tstyle.set(pagerItem.containerNode, containerProps);\r\n\r\n\t\t\tif(this.resizeChildren){\r\n\t\t\t\tpagerItem.resizeChildren();\r\n\t\t\t}\r\n\t\t\tpagerItem.parseChildren();\r\n\r\n\t\t\t// only display amount of items as defined in itemsPage\r\n\t\t\tstyle.set(pagerItem.domNode, \"position\", \"absolute\");\r\n\r\n\t\t\tif (cnt < this.itemsPage){\r\n\t\t\t\tvar pos = (cnt) * itemSpace,\r\n\t\t\t\t\ttrailingDir = (_h ? \"left\" : \"top\"),\r\n\t\t\t\t\tdir = (_h ? \"top\" : \"left\");\r\n\r\n\t\t\t\tstyle.set(pagerItem.domNode, dir, \"0px\");\r\n\t\t\t\tstyle.set(pagerItem.domNode, trailingDir, pos+\"px\");\r\n\t\t\t}else{\r\n\t\t\t\tstyle.set(pagerItem.domNode, \"top\", \"-1000px\");\r\n\t\t\t\tstyle.set(pagerItem.domNode, \"left\", \"-1000px\");\r\n\t\t\t}\r\n\r\n\t\t\tstyle.set(pagerItem.domNode, paddingTrail, (this.itemSpace/2)+\"px\");\r\n\t\t\tstyle.set(pagerItem.domNode, paddingLead, (this.itemSpace/2)+\"px\");\r\n\r\n\t\t}, this);\r\n\t},\r\n\r\n\t_renderPager: function() {\r\n\t\tvar tcp = this.pagerContainerPager,\r\n\t\t\tzero = \"0px\",\r\n\t\t\t_h = (this.orientation == \"horizontal\");\r\n\r\n\t\tif(_h){\r\n\r\n\t\t\tif(this.statusPos == 'center'){\r\n\r\n\t\t\t}else if (this.statusPos == 'trailing'){\r\n\t\t\t\tstyle.set(tcp, 'top', zero);\r\n\t\t\t}else{\r\n\t\t\t\tstyle.set(tcp, 'bottom', zero);\r\n\t\t\t}\r\n\t\t\tstyle.set(this.pagerNext, 'right', zero);\r\n\t\t\tstyle.set(this.pagerPrevious, 'left', zero);\r\n\r\n\t\t}else{\r\n\r\n\t\t\tif (this.statusPos == 'trailing'){\r\n\t\t\t\tstyle.set(tcp, 'left', zero);\r\n\t\t\t}else{\r\n\t\t\t\tstyle.set(tcp, 'right', zero);\r\n\t\t\t}\r\n\t\t\tstyle.set(this.pagerNext, 'bottom', zero);\r\n\t\t\tstyle.set(this.pagerPrevious, 'top', zero);\r\n\t\t}\r\n\r\n\t},\r\n\r\n\t_renderStatus: function() {\r\n\t\tthis._totalPages = Math.ceil(this.items.length / this.itemsPage);\r\n\t\t// FIXME!!\r\n\t\tthis.iconWidth = 0;\r\n\t\tthis.iconHeight = 0;\r\n\t\tthis.iconsLoaded = 0;\r\n\t\tthis._iconConnects = [];\r\n\r\n\t\tfor (var i = 1; i <= this._totalPages; i++){\r\n\t\t\tvar icon = new Image();\r\n\r\n\t\t\tvar pointer = i;\r\n\t\t\ton(icon, 'click', lang.hitch(this, \"_pagerSkip\", pointer));\r\n\r\n\t\t\tthis._iconConnects[pointer] = on(icon, 'load', lang.hitch(this, function(pointer){\r\n\t\t\t\tthis.iconWidth += icon.width;\r\n\t\t\t\tthis.iconHeight += icon.height;\r\n\t\t\t\tthis.iconsLoaded++;\r\n\r\n\t\t\t\tif (this._totalPages == this.iconsLoaded){\r\n\t\t\t\t\tif (this.orientation == \"horizontal\"){\r\n\t\t\t\t\t\tif (this.statusPos == 'trailing'){\r\n\t\t\t\t\t\t\tif (this.pagerPos == 'center'){\r\n\t\t\t\t\t\t\t\tvar containerHeight = style.get(this.pagerContainer, 'height'),\r\n\t\t\t\t\t\t\t\t\tstatusHeight = style.get(this.pagerContainerStatus, 'height');\r\n\r\n\t\t\t\t\t\t\t\tstyle.set(this.pagerContainerPager, 'top', ((containerHeight/2)-(statusHeight/2))+'px');\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tstyle.set(this.pagerContainerStatus, 'bottom', '0px');\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\tif (this.pagerPos == 'center'){\r\n\t\t\t\t\t\t\t\tvar containerHeight = style.get(this.pagerContainer, 'height'),\r\n\t\t\t\t\t\t\t\t\tstatusHeight = style.get(this.pagerContainerStatus, 'height');\r\n\r\n\t\t\t\t\t\t\t\tstyle.set(this.pagerContainerPager, 'bottom', ((containerHeight/2)-(statusHeight/2))+'px');\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tstyle.set(this.pagerContainerStatus, 'top', '0px');\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tvar position = (style.get(this.pagerContainer, 'width')/2)-(this.iconWidth/2);\r\n\t\t\t\t\t\t// Bidi Support\r\n\t\t\t\t\t\tstyle.set(this.pagerContainerStatus, this.isLeftToRight()?'paddingLeft':'paddingRight', position+'px');\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tif (this.statusPos == 'trailing'){\r\n\t\t\t\t\t\t\tif (this.pagerPos == 'center'){\r\n\t\t\t\t\t\t\t\tvar containerWidth = style.get(this.pagerContainer, 'width'),\r\n\t\t\t\t\t\t\t\t\tstatusWidth = style.get(this.pagerContainerStatus, 'width');\r\n\r\n\t\t\t\t\t\t\t\tstyle.set(this.pagerContainerPager, 'left', ((containerWidth/2)-(statusWidth/2))+'px');\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tstyle.set(this.pagerContainerStatus, 'right', '0px');\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\tif (this.pagerPos == 'center'){\r\n\t\t\t\t\t\t\t\tvar containerWidth = style.get(this.pagerContainer, 'width'),\r\n\t\t\t\t\t\t\t\t\tstatusWidth = style.get(this.pagerContainerStatus, 'width');\r\n\r\n\t\t\t\t\t\t\t\tstyle.set(this.pagerContainerPager, 'right', ((containerWidth/2)-(statusWidth/2))+'px');\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tstyle.set(this.pagerContainerStatus, 'left', '0px');\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tvar position = (style.get(this.pagerContainer, 'height')/2)-(this.iconHeight/2);\r\n\t\t\t\t\t\tstyle.set(this.pagerContainerStatus, 'paddingTop', position+'px');\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tthis._iconConnects[pointer].remove();\r\n\t\t\t}, pointer));\r\n\r\n\t\t\tif (i==this._currentPage){\r\n\t\t\t\ticon.src=this.iconPageActive;\r\n\t\t\t}else{\r\n\t\t\t\ticon.src=this.iconPage;\r\n\t\t\t}\r\n\t\t\tvar pointer = i;\r\n\r\n\t\t\tdomClass.add(icon, this.orientation+'PagerIcon');\r\n\t\t\tattr.set(icon, 'id', this.id+'-status-'+i);\r\n\t\t\tthis.pagerContainerStatus.appendChild(icon);\r\n\r\n\t\t\tif (this.orientation == \"vertical\"){\r\n\t\t\t\tstyle.set(icon, 'display', 'block');\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n\t_pagerSkip: function(page){\r\n\t\tif (this._currentPage == page){\r\n\t\t\treturn;\r\n\t\t}else{\r\n\t\t\t// calculate whether to go left or right, take shortest way\r\n\t\t\tvar distanceP; var distanceN;\r\n\t\t\tif (page < this._currentPage){\r\n\t\t\t\tdistanceP = this._currentPage - page;\r\n\t\t\t\tdistanceN = (this._totalPages + page) - this._currentPage;\r\n\t\t\t}else{\r\n\t\t\t\tdistanceP = (this._totalPages + this._currentPage) - page;\r\n\t\t\t\tdistanceN = page - this._currentPage;\r\n\t\t\t}\r\n\r\n\t\t\tvar b = (distanceN > distanceP);\r\n\t\t\tthis._toScroll = (b ? distanceP : distanceN);\r\n\t\t\tvar cmd = (b ? \"_pagerPrevious\" : \"_pagerNext\"),\r\n\t\t\t\thandle = aspect.after(this, \"onScrollEnd\", lang.hitch(this, function(){\r\n\t\t\t\t\tthis._toScroll--;\r\n\t\t\t\t\tif(this._toScroll < 1){\r\n\t\t\t\t\t\thandle.remove();\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tthis[cmd]();\r\n\t\t\t\t\t}\r\n\t\t\t\t}), true);\r\n\r\n\t\t\tthis[cmd]();\r\n\t\t}\r\n\t},\r\n\r\n\t_pagerNext: function(){\r\n\t\tif(this._anim) return;\r\n\r\n\t\t/**\r\n\t\t * fade slide out current items\r\n\t\t * make sure that next items are ligned up nicely before sliding them in\r\n\t\t */\r\n\t\tvar _anims = [];\r\n\t\tfor (var i = this._currentPage * this.itemsPage; i > (this._currentPage - 1) * this.itemsPage; i--){\r\n\t\t\tif (!dom.byId(this.id+'-item-'+i)) continue;\r\n\r\n\t\t\tvar currentItem = dom.byId(this.id+'-item-'+i);\r\n\t\t\tvar marginBox = geometry.getMarginBox(currentItem);\r\n\t\t\tif (this.orientation == \"horizontal\") {\r\n\t\t\t\tvar move = marginBox.l - (this.itemsPage * marginBox.w);\r\n\t\t\t\t_anims.push(fx.slideTo({node: currentItem, left: move, duration: this.duration}));\r\n\t\t\t}else{\r\n\t\t\t\tvar move = marginBox.t - (this.itemsPage * marginBox.h);\r\n\t\t\t\t_anims.push(fx.slideTo({node: currentItem, top: move, duration: this.duration}));\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t\tvar previousPage = this._currentPage;\r\n\t\tif (this._currentPage == this._totalPages){\r\n\t\t\tthis._currentPage = 1;\r\n\t\t}else{\r\n\t\t\tthis._currentPage++;\r\n\t\t}\r\n\r\n\t\tvar cnt = this.itemsPage;\r\n\t\tfor (var i=this._currentPage*this.itemsPage; i>(this._currentPage-1)*this.itemsPage; i--){\r\n\t\t\tif (dom.byId(this.id+'-item-'+i)){\r\n\t\t\t\tvar currentItem = dom.byId(this.id+'-item-'+i);\r\n\t\t\t\tvar marginBox = geometry.getMarginBox(currentItem);\r\n\t\t\t\tif (this.orientation == \"horizontal\") {\r\n\t\t\t\t\tvar newPos = (style.get(this.pagerContainerView, 'width')+((cnt-1)*marginBox.w))-1;\r\n\t\t\t\t\tstyle.set(currentItem, 'left', newPos+'px');\r\n\t\t\t\t\tstyle.set(currentItem, 'top', '0px');\r\n\r\n\t\t\t\t\tvar move = newPos-(this.itemsPage*marginBox.w);\r\n\t\t\t\t\t_anims.push(fx.slideTo({node: currentItem, left: move, duration: this.duration}));\r\n\t\t\t\t}else{\r\n\t\t\t\t\tnewPos = (style.get(this.pagerContainerView, 'height')+((cnt-1)*marginBox.h))-1;\r\n\t\t\t\t\tstyle.set(currentItem, 'top', newPos+'px');\r\n\t\t\t\t\tstyle.set(currentItem, 'left', '0px');\r\n\r\n\t\t\t\t\tvar move = newPos-(this.itemsPage*marginBox.h);\r\n\t\t\t\t\t_anims.push(fx.slideTo({ node: currentItem, top: move, duration: this.duration}));\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tcnt--;\r\n\t\t}\r\n\r\n\t\tthis._anim = fx.combine(_anims);\r\n\t\tvar animHandle = aspect.after(this._anim, \"onEnd\", lang.hitch(this, function(){\r\n\t\t\tdelete this._anim;\r\n\t\t\tthis.onScrollEnd();\r\n\t\t\tanimHandle.remove();\r\n\t\t}), true);\r\n\r\n\t\tthis._anim.play();\r\n\r\n\t\t// set pager icons\r\n\t\tdom.byId(this.id+'-status-'+previousPage).src = this.iconPage;\r\n\t\tdom.byId(this.id+'-status-'+this._currentPage).src = this.iconPageActive;\r\n\t},\r\n\r\n\t_pagerPrevious: function(){\r\n\t\tif(this._anim) return;\r\n\r\n\t\tvar _anims = [];\r\n\t\tfor (var i=this._currentPage*this.itemsPage; i>(this._currentPage-1)*this.itemsPage; i--){\r\n\t\t\t\tif (!dom.byId(this.id+'-item-'+i)) continue;\r\n\r\n\t\t\t\tvar currentItem = dom.byId(this.id+'-item-'+i);\r\n\t\t\t\tvar marginBox = geometry.getMarginBox(currentItem);\r\n\t\t\t\tif (this.orientation == \"horizontal\") {\r\n\t\t\t\t\t\tvar move = style.get(currentItem, 'left')+(this.itemsPage*marginBox.w);\r\n\t\t\t\t\t\t_anims.push(fx.slideTo({node: currentItem, left: move, duration: this.duration}));\r\n\t\t\t\t}else{\r\n\t\t\t\t\t\tvar move = style.get(currentItem, 'top')+(this.itemsPage*marginBox.h);\r\n\t\t\t\t\t\t_anims.push(fx.slideTo({node: currentItem, top: move, duration: this.duration}));\r\n\t\t\t\t}\r\n\t\t}\r\n\r\n\t\tvar previousPage = this._currentPage;\r\n\t\tif (this._currentPage == 1){\r\n\t\t\t\tthis._currentPage = this._totalPages;\r\n\t\t}else{\r\n\t\t\t\tthis._currentPage--;\r\n\t\t}\r\n\r\n\t\tvar cnt = this.itemsPage;\r\n\t\tvar j=1;\r\n\t\tfor (var i=this._currentPage*this.itemsPage; i>(this._currentPage-1)*this.itemsPage; i--){\r\n\t\t\tif(dom.byId(this.id+'-item-'+i)){\r\n\t\t\t\tvar currentItem = dom.byId(this.id+'-item-'+i),\r\n\t\t\t\t\tmarginBox = geometry.getMarginBox(currentItem);\r\n\r\n\t\t\t\tif (this.orientation == \"horizontal\") {\r\n\t\t\t\t\tvar newPos = -(j * marginBox.w) + 1;\r\n\t\t\t\t\tstyle.set(currentItem, 'left', newPos+'px');\r\n\t\t\t\t\tstyle.set(currentItem, 'top', '0px');\r\n\r\n\t\t\t\t\tvar move = ((cnt - 1) * marginBox.w);\r\n\t\t\t\t\t_anims.push(fx.slideTo({node: currentItem, left: move, duration: this.duration}));\r\n\r\n\t\t\t\t\tvar move = newPos+(this.itemsPage * marginBox.w);\r\n\t\t\t\t\t_anims.push(fx.slideTo({node: currentItem, left: move, duration: this.duration}));\r\n\t\t\t\t}else{\r\n\t\t\t\t\tnewPos = -((j * marginBox.h) + 1);\r\n\t\t\t\t\tstyle.set(currentItem, 'top', newPos+'px');\r\n\t\t\t\t\tstyle.set(currentItem, 'left', '0px');\r\n\r\n\t\t\t\t\tvar move = ((cnt - 1) * marginBox.h);\r\n\t\t\t\t\t_anims.push(fx.slideTo({node: currentItem, top: move, duration: this.duration}));\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\t\t\tcnt--;\r\n\t\t\tj++;\r\n\t\t}\r\n\r\n\t\tthis._anim = fx.combine(_anims);\r\n\t\tvar animHandle = aspect.after(this._anim, \"onEnd\", lang.hitch(this, function(){\r\n\t\t\tdelete this._anim;\r\n\t\t\tthis.onScrollEnd();\r\n\t\t\tanimHandle.remove();\r\n\t\t}), true);\r\n\r\n\t\tthis._anim.play();\r\n\r\n\t\t// set pager icons\r\n\t\tdom.byId(this.id + '-status-' + previousPage).src = this.iconPage;\r\n\t\tdom.byId(this.id + '-status-' + this._currentPage).src = this.iconPageActive;\r\n\r\n\t},\r\n\r\n\tonScrollEnd: function(){\r\n\t\t// summary:\r\n\t\t//\t\tStub Function. Fired after the slide is complete. Override or connect.\r\n\t}\r\n\r\n});\r\n\r\n});\r\n"]}