{"version":3,"sources":["widget/_CalendarMonthView.js"],"names":["define","declare","_CalendarView","_TemplatedMixin","_CalendarMonthYearView","domClass","event","template","templateString","datePart","headerClass","displayedYear","postCreate","this","cloneClass","_populateMonths","addFx","domNode","_setValueAttr","value","year","header","innerHTML","getFullYear","set","_getMonthNames","prototype","onClick","evt","contains","target","parentNode","month","cellIndex","rowIndex","date","get","setMonth","setYear","onValueSelected","stop"],"mappings":";;;;;;;AAAAA,QACC,qBACA,kBACA,wBACA,2BACA,iBACA,mBACA,2CACE,SAASC,EAASC,EAAeC,EAAiBC,EAAwBC,EAAUC,EAAOC,GAC7F,OAAON,EAAQ,mCAAoCC,EAAeC,IAMjEK,eAAgBD,EAKhBE,SAAU,OAIVC,YAAa,2BAIbC,cAAe,GAEfC,WAAY,WAGXC,KAAKC,WAAW,8BAA+B,GAC/CD,KAAKC,WAAW,mCAAoC,GACpDD,KAAKE,kBAGLF,KAAKG,MAAM,2BAA4BH,KAAKI,UAG7CC,cAAe,SAASC,GACvB,IAAIC,EAAOP,KAAKQ,OAAOC,UAAYH,EAAMI,cAGzCV,KAAKW,IAAI,gBAAiBJ,GAC1BP,KAAKE,mBAGNU,eAAgBrB,EAAuBsB,UAAUD,eAEjDV,gBAAiBX,EAAuBsB,UAAUX,gBAElDY,QAAS,SAASC,GAGjB,GAAIvB,EAASwB,SAASD,EAAIE,OAAQ,2BAAlC,CACA,IAAIC,EAAaH,EAAIE,OAAOC,WACxBC,EAAQD,EAAWE,UAA8C,EAAjCF,EAAWA,WAAWG,SACtDC,EAAOtB,KAAKuB,IAAI,SAGpBD,EAAKE,SAASL,GACdG,EAAKE,SAASL,GACdG,EAAKG,QAAQzB,KAAKF,eAClBE,KAAK0B,gBAAgBJ,EAAMH,QATmC1B,EAAMkC,KAAKZ","file":"../../widget/_CalendarMonthView.js","sourcesContent":["define([\r\n\t\"dojo/_base/declare\",\r\n\t\"./_CalendarView\",\r\n\t\"dijit/_TemplatedMixin\",\r\n\t\"./_CalendarMonthYearView\",\r\n\t\"dojo/dom-class\",\r\n\t\"dojo/_base/event\",\r\n\t\"dojo/text!./Calendar/CalendarMonth.html\"\r\n], function(declare, _CalendarView, _TemplatedMixin, _CalendarMonthYearView, domClass, event, template){\r\n\treturn declare(\"dojox.widget._CalendarMonthView\", [_CalendarView, _TemplatedMixin], {\r\n\t\t// summary:\r\n\t\t//\t\tA Calendar view listing the 12 months of the year\r\n\r\n\t\t// templateString: String\r\n\t\t//\t\tThe template to be used to construct the widget.\r\n\t\ttemplateString: template,\r\n\r\n\t\t// datePart: String\r\n\t\t//\t\tSpecifies how much to increment the displayed date when the user\r\n\t\t//\t\tclicks the array button to increment of decrement the view.\r\n\t\tdatePart: \"year\",\r\n\r\n\t\t// headerClass: String\r\n\t\t//\t\tSpecifies the CSS class to apply to the header node for this view.\r\n\t\theaderClass: \"dojoxCalendarMonthHeader\",\r\n\r\n\t\t// displayedYear: String \r\n\t\t//              The current year being displayed \r\n\t\tdisplayedYear: \"\", \r\n\r\n\t\tpostCreate: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tConstructs the view\r\n\t\t\tthis.cloneClass(\".dojoxCalendarMonthTemplate\", 3);\r\n\t\t\tthis.cloneClass(\".dojoxCalendarMonthGroupTemplate\", 2);\r\n\t\t\tthis._populateMonths();\r\n\r\n\t\t\t// Add visual effects to the view, if any have been mixed in\r\n\t\t\tthis.addFx(\".dojoxCalendarMonthLabel\", this.domNode);\r\n\t\t},\r\n\r\n\t\t_setValueAttr: function(value){\r\n\t\t\tvar year = this.header.innerHTML = value.getFullYear(); \r\n\t\t\t// We should be keeping this info around, might as well expose it too. \r\n\t\t\t// Added while patching http://bugs.dojotoolkit.org/ticket/15520 \r\n\t\t\tthis.set(\"displayedYear\", year); \r\n\t\t\tthis._populateMonths(); \r\n\t\t},\r\n\r\n\t\t_getMonthNames: _CalendarMonthYearView.prototype._getMonthNames,\r\n\r\n\t\t_populateMonths: _CalendarMonthYearView.prototype._populateMonths,\r\n\r\n\t\tonClick: function(evt){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tHandles clicks on month names\r\n\t\t\tif(!domClass.contains(evt.target, \"dojoxCalendarMonthLabel\")){event.stop(evt); return;}\r\n\t\t\tvar parentNode = evt.target.parentNode;\r\n\t\t\tvar month = parentNode.cellIndex + (parentNode.parentNode.rowIndex * 4);\r\n\t\t\tvar date = this.get(\"value\");\r\n\t\t\t// Seeing a really strange bug in FF3.6 where this has to be called twice\r\n\t\t\t// in order to take affect\r\n\t\t\tdate.setMonth(month);\r\n\t\t\tdate.setMonth(month);\r\n\t\t\tdate.setYear(this.displayedYear);\r\n\t\t\tthis.onValueSelected(date, month);\r\n\t\t}\r\n\t});\r\n});"]}