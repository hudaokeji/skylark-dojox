{"version":3,"sources":["widget/FisheyeLite.js"],"names":["define","kernel","declare","lang","on","query","domStyle","fx","_WidgetBase","easing","getObject","dojox","experimental","dojo","durationIn","easeIn","backOut","durationOut","easeOut","elasticOut","properties","units","constructor","props","node","this","fontSize","postCreate","inherited","arguments","_target","domNode","_makeAnims","connect","show","_runningOut","stop","_runningIn","play","hide","_in","_out","cs","getComputedStyle","p","prop","deep","isObject","v","parseFloat","end","animateProperty","duration","hitch","onClick","e","onSelected"],"mappings":";;;;;;;AAAAA,QACC,oBACA,qBACA,kBACA,UACA,aACA,iBACA,gBACA,oBACA,kBAEE,SAASC,EAAQC,EAASC,EAAMC,EAAIC,EAAOC,EAAUC,EAAIC,EAAaC,GAKxE,OAHAN,EAAKO,UAAU,UAAU,EAAMC,OAC/BV,EAAOW,aAAa,4BAEbC,KAAKX,QAAQ,4BAA6BM,IAyChDM,WAAY,IAIZC,OAAQN,EAAOO,QAIfC,YAAa,KAIbC,QAAST,EAAOU,WAQhBC,WAAY,KAKZC,MAAM,KAENC,YAAa,SAASC,EAAOC,GAC5BC,KAAKL,WAAaG,EAAMH,aACvBM,SAAU,OAIZC,WAAY,WAEXF,KAAKG,UAAUC,WACfJ,KAAKK,QAAUzB,EAAM,iBAAkBoB,KAAKM,SAAS,IAAMN,KAAKM,QAChEN,KAAKO,aAELP,KAAKQ,QAAQR,KAAKM,QAAS,cAAe,QAC1CN,KAAKQ,QAAQR,KAAKM,QAAS,aAAc,QACzCN,KAAKQ,QAAQR,KAAKK,QAAS,UAAW,YAIvCI,KAAM,WAGLT,KAAKU,YAAYC,OACjBX,KAAKY,WAAWC,QAGjBC,KAAM,WAGLd,KAAKY,WAAWD,OAChBX,KAAKU,YAAYG,QAGlBN,WAAY,WAKX,IAAIQ,KAAUC,KAAWC,EAAKpC,EAASqC,iBAAiBlB,KAAKK,SAC7D,IAAI,IAAIc,KAAKnB,KAAKL,WAAW,CAC5B,IAAIyB,EAAOpB,KAAKL,WAAWwB,GAC1BE,EAAO3C,EAAK4C,SAASF,GACrBG,EAAIC,WAAWP,EAAGE,IAKnBH,EAAKG,IAAOM,IAAKF,EAAG3B,MAAMI,KAAKJ,OAC/BmB,EAAII,GAAKE,EAAOD,GAASK,IAAKL,EAAOG,EAAG3B,MAAMI,KAAKJ,OAGpDI,KAAKY,WAAa9B,EAAG4C,iBACpB3B,KAAMC,KAAKK,QACXrB,OAAQgB,KAAKV,OACbqC,SAAU3B,KAAKX,WACfM,WAAYoB,IAGbf,KAAKU,YAAc5B,EAAG4C,iBACrB3B,KAAMC,KAAKK,QACXsB,SAAU3B,KAAKR,YACfR,OAAQgB,KAAKP,QACbE,WAAYqB,IAGbhB,KAAKQ,QAAQR,KAAKY,WAAY,QAASlC,EAAKkD,MAAM5B,KAAM,aAAcA,QAGvE6B,QAAS,SAAoBC,KAM7BC,WAAY,SAAqBD","file":"../../widget/FisheyeLite.js","sourcesContent":["define([\r\n\t\"dojo/_base/kernel\",\r\n\t\"dojo/_base/declare\",\r\n\t\"dojo/_base/lang\",\r\n\t\"dojo/on\",\r\n\t\"dojo/query\",\r\n\t\"dojo/dom-style\",\r\n\t\"dojo/_base/fx\",\r\n\t\"dijit/_WidgetBase\",\r\n\t\"dojo/fx/easing\"\r\n\t\r\n], function(kernel, declare, lang, on, query, domStyle, fx, _WidgetBase, easing){\r\n\t\r\n\tlang.getObject(\"widget\", true, dojox);\r\n\tkernel.experimental(\"dojox/widget/FisheyeLite\");\r\n\r\n\treturn dojo.declare(\"dojox.widget.FisheyeLite\", [_WidgetBase], {\r\n\t\t// summary:\r\n\t\t//\t\tA Light-weight Fisheye Component, or an exhanced version\r\n\t\t//\t\tof dojo/fx/Toggler ...\r\n\t\t// description:\r\n\t\t//\t\tA Simple FisheyeList-like widget which (in the interest of\r\n\t\t//\t\tperformance) relies on well-styled content for positioning,\r\n\t\t//\t\tand natural page layout for rendering.\r\n\t\t//\r\n\t\t//\t\tuse position:absolute/relative nodes to prevent layout\r\n\t\t//\t\tchanges, and use caution when seleting properties to\r\n\t\t//\t\tscale. Negative scaling works, but some properties\r\n\t\t//\t\treact poorly to being set to negative values, IE being\r\n\t\t//\t\tparticularly annoying in that regard.\r\n\t\t//\r\n\t\t//\t\tquirk: uses the domNode as the target of the animation\r\n\t\t//\t\tunless it finds a node class=\"fisheyeTarget\" in the container\r\n\t\t//\t\tbeing turned into a FisheyeLite instance\r\n\t\t//\r\n\t\t// example:\r\n\t\t//\t|\t// make all the LI's in a node Fisheye's:\r\n\t\t//\t|\trequire([\"dojo/query\", \"dojox/widget/FisheyeLite\"],\r\n\t\t//\t|\t\tfunction(query, FisheyeLite){\r\n\t\t//\t|   \tquery(\"#node li\").forEach(function(n){\r\n\t\t// \t|\t\t\tnew FisheyeLite({},n);\r\n\t\t//\t|\t\t});\r\n\t\t//\t|\t});\r\n\t\t//\r\n\t\t//\r\n\t\t// example:\r\n\t\t//\t|\trequire([\"dojox/widget/FisheyeLite\"], function(FisheyeLite){\r\n\t\t//\t|\t\tnew FisheyeLite({\r\n\t\t//\t|\t\t\tproperties:{\r\n\t\t//\t|\t\t\t\t// height is literal, width is multiplied\r\n\t\t//\t|\t\t\t\theight:{ end: 200 }, width:2.3\r\n\t\t//\t|\t\t\t}\r\n\t\t//\t|\t\t}, \"someNode\");\r\n\t\t//\t|\t});\r\n\t\t\r\n\t\t// durationIn: Integer\r\n\t\t//\t\tThe time (in ms) the run the show animation\r\n\t\tdurationIn: 350,\r\n\r\n\t\t// easeIn: Function\r\n\t\t//\t\tAn easing function to use for the show animation\r\n\t\teaseIn: easing.backOut,\r\n\r\n\t\t// durationOut: Integer\r\n\t\t//\t\tThe Time (in ms) to run the hide animation\r\n\t\tdurationOut: 1420,\r\n\r\n\t\t// easeOut: Function\r\n\t\t//\t\tAn easing function to use for the hide animation\r\n\t\teaseOut: easing.elasticOut,\r\n\r\n\t\t// properties: Object\r\n\t\t//\t\tAn object of \"property\":scale pairs, or \"property\":{} pairs.\r\n\t\t//\t\tdefaults to font-size with a scale of 2.75\r\n\t\t//\t\tIf a named property is an integer or float, the \"scale multiplier\"\r\n\t\t//\t\tis used. If the named property is an object, that object is mixed\r\n\t\t//\t\tinto the animation directly. eg: height:{ end:20, units:\"em\" }\r\n\t\tproperties: null,\r\n\r\n\t\t// units: String\r\n\t\t//\t\tSometimes, you need to specify a unit. Should be part of\r\n\t\t//\t\tproperties attrib, but was trying to shorthand the logic there\r\n\t\tunits:\"px\",\r\n\r\n\t\tconstructor: function(props, node){\r\n\t\t\tthis.properties = props.properties || {\r\n\t\t\t\tfontSize: 2.75\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tpostCreate: function(){\r\n\r\n\t\t\tthis.inherited(arguments);\r\n\t\t\tthis._target = query(\".fisheyeTarget\", this.domNode)[0] || this.domNode;\r\n\t\t\tthis._makeAnims();\r\n\r\n\t\t\tthis.connect(this.domNode, \"onmouseover\", \"show\");\r\n\t\t\tthis.connect(this.domNode, \"onmouseout\", \"hide\");\r\n\t\t\tthis.connect(this._target, \"onclick\", \"onClick\");\r\n\r\n\t\t},\r\n\r\n\t\tshow: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tShow this Fisheye item.\r\n\t\t\tthis._runningOut.stop();\r\n\t\t\tthis._runningIn.play();\r\n\t\t},\r\n\r\n\t\thide: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tHide this fisheye item on mouse leave\r\n\t\t\tthis._runningIn.stop();\r\n\t\t\tthis._runningOut.play();\r\n\t\t},\r\n\r\n\t\t_makeAnims: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tPre-generate the animations\r\n\r\n\t\t\t// create two properties: objects, one for each \"state\"\r\n\t\t\tvar _in = {}, _out = {}, cs = domStyle.getComputedStyle(this._target);\r\n\t\t\tfor(var p in this.properties){\r\n\t\t\t\tvar prop = this.properties[p],\r\n\t\t\t\t\tdeep = lang.isObject(prop),\r\n\t\t\t\t\tv = parseFloat(cs[p])\r\n\t\t\t\t;\r\n\t\t\t\t// note: do not set negative scale for [a list of properties] for IE support\r\n\t\t\t\t// note: filter:'s are your own issue, too ;)\r\n\t\t\t\t// FIXME: this.units here is bad, likely. d._toPixelValue ?\r\n\t\t\t\t_out[p] = { end: v, units:this.units };\r\n\t\t\t\t_in[p] = deep ? prop : { end: prop * v, units:this.units };\r\n\t\t\t}\r\n\r\n\t\t\tthis._runningIn = fx.animateProperty({\r\n\t\t\t\tnode: this._target,\r\n\t\t\t\teasing: this.easeIn,\r\n\t\t\t\tduration: this.durationIn,\r\n\t\t\t\tproperties: _in\r\n\t\t\t});\r\n\r\n\t\t\tthis._runningOut = fx.animateProperty({\r\n\t\t\t\tnode: this._target,\r\n\t\t\t\tduration: this.durationOut,\r\n\t\t\t\teasing: this.easeOut,\r\n\t\t\t\tproperties: _out\r\n\t\t\t});\r\n\r\n\t\t\tthis.connect(this._runningIn, \"onEnd\", lang.hitch(this, \"onSelected\", this));\r\n\t\t},\r\n\r\n\t\tonClick: function(/* Event */e){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tstub function fired when target is clicked\r\n\t\t\t//\t\tconnect or override to use.\r\n\t\t},\r\n\r\n\t\tonSelected: function(/* Object */e){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tstub function fired when Fisheye Item is fully visible and\r\n\t\t\t//\t\thovered. connect or override use.\r\n\t\t}\r\n\r\n\t});\r\n\t\r\n});\r\n"]}