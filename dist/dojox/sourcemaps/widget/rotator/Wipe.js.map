{"version":3,"sources":["widget/rotator/Wipe.js"],"names":["define","lang","fx","domStyle","DOWN","RIGHT","UP","LEFT","_setClip","n","type","w","h","x","set","a","_clipArray","join","_wipe","args","node","next","rotatorBox","display","zIndex","get","current","Animation","mixin","curve","onAnimate","parseInt","exports","wipeDown","wipeRight","wipeUp","wipeLeft","getObject"],"mappings":";;;;;;;AAAAA,QACC,kBACA,gBACA,kBACE,SAASC,EAAMC,EAAIC,GAIrB,IAAIC,EAAO,EACVC,EAAQ,EACRC,EAAK,EACLC,EAAO,EAqBR,SAASC,EAAoBC,EAAUC,EAAaC,EAAUC,EAAaC,GAI1EV,EAASW,IAAIL,EAAG,OAAgB,MAARC,EAAe,OAAS,QAvBjD,SAA2BA,EAAaC,EAAUC,EAAaC,GAK9D,IAAIE,GAAK,EAAGJ,EAAG,EAAG,GAWlB,OAVGD,GAAQL,EACVU,GAAK,EAAGJ,EAAGC,EAAGD,GACND,GAAQJ,EAChBS,GAAKH,EAAGD,EAAGC,EAAG,GACNF,GAAQH,IAChBQ,GAAK,EAAG,EAAGH,EAAG,IAEP,MAALC,IACFE,EAAEL,GAAQA,GAAQN,GAAQM,GAAQH,EAAOM,GAAKH,EAAO,EAAIC,EAAIC,GAAKC,GAE5DE,EAOmDC,CAAWN,EAAMC,EAAGC,EAAGC,GAAGI,KAAK,OAAS,OAGnG,SAASC,EAAaR,EAAgBS,GAGrC,IAAIC,EAAOD,EAAKE,KAAKD,KACpBT,EAAIQ,EAAKG,WAAWX,EACpBC,EAAIO,EAAKG,WAAWV,EASrB,OAPAT,EAASW,IAAIM,GACZG,QAAS,GACTC,QAASrB,EAASsB,IAAIN,EAAKO,QAAQN,KAAM,WAAa,GAAK,IAG5DZ,EAASY,EAAMV,EAAMC,EAAGC,GAEjB,IAAIV,EAAGyB,UAAU1B,EAAK2B,OAC5BR,KAAMA,EACNS,OAAQ,EAAGnB,EAAO,EAAIC,EAAIC,GAC1BkB,UAAW,SAASjB,GACnBL,EAASY,EAAMV,EAAMC,EAAGC,EAAGmB,SAASlB,MAEnCM,IAGJ,IAAIa,SACHC,SAAU,SAAmBd,GAG5B,OAAOD,EAAMd,EAAMe,IAGpBe,UAAW,SAAmBf,GAG7B,OAAOD,EAAMb,EAAOc,IAGrBgB,OAAQ,SAAmBhB,GAG1B,OAAOD,EAAMZ,EAAIa,IAGlBiB,SAAU,SAAmBjB,GAG5B,OAAOD,EAAMX,EAAMY,KAOrB,OAFAlB,EAAK2B,MAAM3B,EAAKoC,UAAU,wBAAyBL,SAE5CA","file":"../../../widget/rotator/Wipe.js","sourcesContent":["define([\r\n\t\"dojo/_base/lang\",\r\n\t\"dojo/_base/fx\",\r\n\t\"dojo/dom-style\"\r\n], function(lang, fx, domStyle) {\r\n\r\n\t// Constants used to identify which clip edge is being wiped. The values are\r\n\t// the index of the clip array that is changed during the animation.\r\n\tvar DOWN = 2,\r\n\t\tRIGHT = 3,\r\n\t\tUP = 0,\r\n\t\tLEFT = 1;\r\n\r\n\tfunction _clipArray(/*int*/type, /*int*/w, /*int*/h, /*number*/x){\r\n\t\t// summary:\r\n\t\t//\t\tReturns an array containing the down, right, up, and\r\n\t\t//\t\tleft clip region based on the type.  If \"x\" is specified,\r\n\t\t//\t\tthen it is applied to the appropriate clipping edge.\r\n\t\tvar a = [0, w, 0, 0]; // default to the top edge\r\n\t\tif(type == RIGHT){\r\n\t\t\ta = [0, w, h, w];\r\n\t\t}else if(type == UP){\r\n\t\t\ta = [h, w, h, 0];\r\n\t\t}else if(type == LEFT){\r\n\t\t\ta = [0, 0, h, 0];\r\n\t\t}\r\n\t\tif(x != null){\r\n\t\t\ta[type] = type == DOWN || type == LEFT ? x : (type % 2 ? w : h) - x;\r\n\t\t}\r\n\t\treturn a; /*Array*/\r\n\t}\r\n\r\n\tfunction _setClip(/*DomNode*/n, /*int*/type, /*int*/w, /*int*/h, /*number*/x){\r\n\t\t// summary:\r\n\t\t//\t\tSets the clip region of the node. If a type is passed in then we\r\n\t\t//\t\treturn a rect(), otherwise return \"auto\".\r\n\t\tdomStyle.set(n, \"clip\", type == null ? \"auto\" : \"rect(\" + _clipArray(type, w, h, x).join(\"px,\") + \"px)\");\r\n\t}\r\n\r\n\tfunction _wipe(/*int*/type, /*Object*/args){\r\n\t\t// summary:\r\n\t\t//\t\tHandles the preparation of the dom node and creates the Animation object.\r\n\t\tvar node = args.next.node,\r\n\t\t\tw = args.rotatorBox.w,\r\n\t\t\th = args.rotatorBox.h;\r\n\r\n\t\tdomStyle.set(node, {\r\n\t\t\tdisplay: \"\",\r\n\t\t\tzIndex: (domStyle.get(args.current.node, \"zIndex\") || 1) + 1\r\n\t\t});\r\n\r\n\t\t_setClip(node, type, w, h);\r\n\r\n\t\treturn new fx.Animation(lang.mixin({\r\n\t\t\tnode: node,\r\n\t\t\tcurve: [0, type % 2 ? w : h],\r\n\t\t\tonAnimate: function(x){\r\n\t\t\t\t_setClip(node, type, w, h, parseInt(x));\r\n\t\t\t}\r\n\t\t}, args));\r\n\t}\r\n\r\n\tvar exports = {\r\n\t\twipeDown: function(/*Object*/args){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tReturns a dojo.Animation that wipes in the next rotator pane from the top.\r\n\t\t\treturn _wipe(DOWN, args); /*dojo.Animation*/\r\n\t\t},\r\n\r\n\t\twipeRight: function(/*Object*/args){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tReturns a dojo.Animation that wipes in the next rotator pane from the right.\r\n\t\t\treturn _wipe(RIGHT, args); /*dojo.Animation*/\r\n\t\t},\r\n\r\n\t\twipeUp: function(/*Object*/args){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tReturns a dojo.Animation that wipes in the next rotator pane from the bottom.\r\n\t\t\treturn _wipe(UP, args); /*dojo.Animation*/\r\n\t\t},\r\n\r\n\t\twipeLeft: function(/*Object*/args){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tReturns a dojo.Animation that wipes in the next rotator pane from the left.\r\n\t\t\treturn _wipe(LEFT, args); /*dojo.Animation*/\r\n\t\t}\r\n\t};\r\n\r\n\t// back-compat, remove for 2.0\r\n\tlang.mixin(lang.getObject(\"dojox.widget.rotator\"), exports);\r\n\r\n\treturn exports;\r\n});"]}