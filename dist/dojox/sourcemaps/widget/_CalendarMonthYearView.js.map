{"version":3,"sources":["widget/_CalendarMonthYearView.js"],"names":["define","declare","_CalendarView","_TemplatedMixin","query","domClass","connect","event","lang","dojoDateLocale","template","templateString","datePart","displayedYears","useHeader","postCreate","this","cloneClass","monthContainer","yearContainer","myContainer","yClass","dClass","iClass","forEach","node","idx","clazz","remove","add","_decBtn","_incBtn","domNode","filter","item","cellIndex","addClass","hitch","_cachedDate","Date","get","getTime","_populateYears","getFullYear","_populateMonths","_updateSelectedMonth","_updateSelectedYear","addFx","_setValueAttr","value","getHeader","_getMonthNames","format","_monthNames","getNames","getLang","match","monthNames","currYear","currMonth","getMonth","displayedYear","cnt","_setText","toggle","parentNode","constraints","setFullYear","_year","min","max","minY","maxY","year","thisYear","dispYear","firstYear","Math","floor","_displayedYear","today","yearLabels","length","String","_updateSelectedNode","innerHTML","month","_month","queryNode","sel","array","selMonth","contains","disabled","okBtn","onClick","evt","hc","c","target","stop","rowIndex","setMonth","Number","setYear","onOk","onValueSelected","onCancel"],"mappings":";;;;;;;AAAAA,QACC,qBACA,kBACA,wBACA,aACA,iBACA,qBACA,mBACA,kBACA,mBACA,+CACE,SAASC,EAASC,EAAeC,EAAiBC,EAAOC,EAAUC,EAASC,EAAOC,EAAMC,EAAgBC,GAC3G,OAAOT,EAAQ,uCAAwCC,EAAeC,IAOrEQ,eAAgBD,EAKhBE,SAAU,OAIVC,eAAgB,GAEhBC,WAAW,EAEXC,WAAY,WACXC,KAAKC,WAAW,0BAA2B,EAAG,qBAC9CD,KAAKE,eAAiBF,KAAKG,cAAgBH,KAAKI,YAEhD,IAAIC,EAAS,yBACTC,EAAS,wBACTC,EAAS,wBAEbnB,EAAM,IAAMiB,EAAQL,KAAKI,aAAaI,QAAQ,SAASC,EAAMC,GAC5D,IAAIC,EAAQJ,EACZ,OAAOG,GACN,KAAK,EACJC,EAAQL,EACT,KAAK,EACJjB,EAASuB,OAAOH,EAAMJ,GACtBhB,EAASwB,IAAIJ,EAAME,MAKtBX,KAAKc,QAAU1B,EAAM,IAAMkB,EAAQN,KAAKI,aAAa,GACrDJ,KAAKe,QAAU3B,EAAM,IAAMmB,EAAQP,KAAKI,aAAa,GAErDhB,EAAM,0BAA2BY,KAAKgB,SACpCC,OAAO,SAASC,GAChB,OAAyB,GAAlBA,EAAKC,YAEZC,SAAS,sBAEX9B,EAAQA,QAAQU,KAAM,kBAAmBR,EAAK6B,MAAMrB,KAAM,WACzDA,KAAKsB,YAAc,IAAIC,KAAKvB,KAAKwB,IAAI,SAASC,WAC9CzB,KAAK0B,eAAe1B,KAAKsB,YAAYK,eACrC3B,KAAK4B,kBACL5B,KAAK6B,uBACL7B,KAAK8B,yBAGNxC,EAAQA,QAAQU,KAAM,iBAAkBR,EAAK6B,MAAMrB,KAAM,WACxDA,KAAK8B,yBAENxC,EAAQA,QAAQU,KAAM,kBAAmBR,EAAK6B,MAAMrB,KAAM,WACzDA,KAAK6B,0BAGN7B,KAAKsB,YAActB,KAAKwB,IAAI,SAE5BxB,KAAK0B,iBACL1B,KAAK4B,kBAGL5B,KAAK+B,MAAM,oDAAqD/B,KAAKI,cAGtE4B,cAAe,SAASC,GACnBA,GAASA,EAAMN,eAClB3B,KAAK0B,eAAeO,EAAMN,gBAI5BO,UAAW,WACV,OAAO,MAGRC,eAAgB,SAASC,GAIxB,OADApC,KAAKqC,YAAcrC,KAAKqC,aAAe5C,EAAe6C,SAAS,SAAUF,EAAQ,aAAcpC,KAAKuC,WAC7FvC,KAAKqC,aAGbT,gBAAiB,WAGhB,IAAIY,EACHC,EAAazC,KAAKmC,eAAe,QACjCO,EAAW1C,KAAKwB,IAAI,SAASG,cAC7BgB,EAAYF,EAAWzC,KAAKwB,IAAI,SAASoB,YACzCC,EAAgB7C,KAAKwB,IAAI,iBAE1BpC,EAAM,2BAA4BY,KAAKE,gBAAgBM,QAAQhB,EAAK6B,MAAMrB,KAAM,SAASS,EAAMqC,GAC9F9C,KAAK+C,SAAStC,EAAMgC,EAAWK,IAC/BN,EAAUG,IAAcF,EAAWK,IAAUJ,IAAaG,EAI1DxD,EAAS2D,OAAOvC,EAAKwC,YAAa,4BAA6B,4BAA6BT,MAE7F,IAAIU,EAAclD,KAAKwB,IAAI,eAE3B,GAAG0B,EAAY,EACH,IAAI3B,MACV4B,YAAYnD,KAAKoD,OACtB,IAAIC,GAAO,EAAGC,EAAM,GACpB,GAAGJ,EAAYG,IAAI,CAClB,IAAIE,EAAOL,EAAYG,IAAI1B,cACxB4B,EAAOvD,KAAKoD,MACdC,EAAM,GACEE,GAAQvD,KAAKoD,QACrBC,EAAMH,EAAYG,IAAIT,YAGxB,GAAGM,EAAYI,IAAI,CAClB,IAAIE,EAAON,EAAYI,IAAI3B,cACxB6B,EAAOxD,KAAKoD,MACdE,GAAO,EACCE,GAAQxD,KAAKoD,QACrBE,EAAMJ,EAAYI,IAAIV,YAIxBxD,EAAM,2BAA4BY,KAAKE,gBACrCM,QAAQhB,EAAK6B,MAAMrB,KAAM,SAASS,EAAMqC,GACxCzD,EAAUyD,EAAMO,GAAOP,EAAMQ,EAAO,MAAQ,UAC1C7C,EAAM,kCAKZiB,eAAgB,SAAS+B,GAKxB,IAAIjB,EACHU,EAAclD,KAAKwB,IAAI,eACvBkC,EAAW1D,KAAKwB,IAAI,SAASG,cAC7BgC,EAAWF,GAAQC,EACnBE,EAAYD,EAAWE,KAAKC,MAAM9D,KAAKH,eAAe,GACtDwD,EAAMH,GAAeA,EAAYG,IAAMH,EAAYG,IAAI1B,cAAgBiC,EAAW,IAEnF5D,KAAK+D,eAAiBJ,EAEtB,IAIIK,EAJAC,EAAa7E,EAAM,0BAA2BY,KAAKG,eAEnDmD,EAAMJ,GAAeA,EAAYI,IAAMJ,EAAYI,IAAI3B,cAAgBiC,EAAYK,EAAWC,OAGlGD,EAAWzD,QAAQhB,EAAK6B,MAAMrB,KAAM,SAASS,EAAMqC,GAC/CA,GAAOQ,GACTtD,KAAK+C,SAAStC,EAAMmD,EAAYd,GAEjCkB,EAASJ,EAAUd,GAAQY,EAC3BrE,EAAS2D,OAAOvC,EAAKwC,YAAa,4BAA6B,4BAA6Be,GAC5F3E,EAAS2D,OAAOvC,EARG,4BAQkBqC,EAAMQ,GAC3Cd,EAASoB,EAAUd,GAAQY,EAC3BrE,EAAS2D,OAAOvC,EAAKwC,YAAa,4BAA6B,4BAA6BT,MAG1FxC,KAAKe,SACP1B,EAAS2D,OAAOhD,KAAKe,QAdF,4BAc0BuC,EAAMW,EAAWC,QAE5DlE,KAAKc,SACPzB,EAAS2D,OAAOhD,KAAKc,QAjBF,4BAiB0BuC,GAAOO,GAG7C5D,KAAKkC,aAEZlC,KAAK+C,SAAS/C,KAAKkC,YAAa0B,EAAY,OAASA,EAAY,MAInE9B,oBAAqB,WACpB9B,KAAKoD,MAAQe,QAAQnE,KAAKsB,aAAetB,KAAKwB,IAAI,UAAUG,eAC5D3B,KAAKoE,oBAAoB,0BAA2B5E,EAAK6B,MAAMrB,KAAM,SAASS,GAC7E,OAAsB,OAAfT,KAAKoD,OAAkB3C,EAAK4D,WAAarE,KAAKoD,UAIvDvB,qBAAsB,WACrB,IAAIyC,GAAStE,KAAKsB,aAAetB,KAAKwB,IAAI,UAAUoB,WACpD5C,KAAKuE,OAASD,EACdtE,KAAKoE,oBAAoB,2BAA4B,SAAS3D,EAAMC,GACnE,OAAOA,GAAO4D,KAIhBF,oBAAqB,SAASI,EAAWvD,GACxC,IAAIwD,EAAM,4BACVrF,EAAMoF,EAAWxE,KAAKgB,SACpBR,QAAQ,SAASC,EAAMC,EAAKgE,GAC5BrF,EAAS2D,OAAOvC,EAAKwC,WAAYwB,EAAKxD,EAAOR,EAAMC,EAAKgE,MAE1D,IAAIC,EAAWvF,EAAM,8BAA+BY,KAAKI,aACvDa,OAAO,SAASR,GAChB,OAAOpB,EAASuF,SAASnE,EAAKwC,WAAYwB,KACzC,GACH,GAAIE,EAAJ,CACA,IAAIE,EAAWxF,EAASuF,SAASD,EAAU,6BAE3CtF,EAAS2D,OAAOhD,KAAK8E,MAAO,gBAAiBD,KAG9CE,QAAS,SAASC,GAIjB,SAASC,EAAGC,GACX,OAAO7F,EAASuF,SAASI,EAAIG,OAAQD,GAGtC,GAAGD,EAAG,6BAEL,OADA1F,EAAM6F,KAAKJ,IACJ,EAGR,GAAGC,EAAG,2BACG,yBACRjF,KAAKuE,OAASS,EAAIG,OAAOlC,WAAW9B,UAAyD,EAA5C6D,EAAIG,OAAOlC,WAAWA,WAAWoC,SAClFrF,KAAKsB,YAAYgE,SAAStF,KAAKuE,QAC/BvE,KAAK6B,2BACA,CAAA,IAAGoD,EAAI,0BAMP,OAAGA,EAAG,0BACXjF,KAAK0B,eAAe1B,KAAK+D,eAAiB,KACnC,IACCkB,EAAG,2BACXjF,KAAK0B,eAAe1B,KAAK+D,eAAiB,KACnC,GAVC,yBACR/D,KAAKoD,MAAQmC,OAAOP,EAAIG,OAAOd,WAC/BrE,KAAKsB,YAAYkE,QAAQxF,KAAKoD,OAC9BpD,KAAK4B,kBACL5B,KAAK8B,sBAWN,OADAvC,EAAM6F,KAAKJ,IACJ,GAGRS,KAAM,SAAST,GAEd,OADAzF,EAAM6F,KAAKJ,IACR3F,EAASuF,SAAS5E,KAAK8E,MAAO,mBAGjC9E,KAAK0F,gBAAgB1F,KAAKsB,cACnB,IAGRqE,SAAU,SAASX,GAGlB,OAFAzF,EAAM6F,KAAKJ,GACXhF,KAAK0F,gBAAgB1F,KAAKwB,IAAI,WACvB","file":"../../widget/_CalendarMonthYearView.js","sourcesContent":["define([\r\n\t\"dojo/_base/declare\",\r\n\t\"./_CalendarView\",\r\n\t\"dijit/_TemplatedMixin\",\r\n\t\"dojo/query\",\r\n\t\"dojo/dom-class\",\r\n\t\"dojo/_base/connect\",\r\n\t\"dojo/_base/event\",\r\n\t\"dojo/_base/lang\",\r\n\t\"dojo/date/locale\",\r\n\t\"dojo/text!./Calendar/CalendarMonthYear.html\"\r\n], function(declare, _CalendarView, _TemplatedMixin, query, domClass, connect, event, lang, dojoDateLocale, template){\r\n\treturn declare(\"dojox.widget._CalendarMonthYearView\", [_CalendarView, _TemplatedMixin], {\r\n\r\n\t\t// summary:\r\n\t\t//\t\tA Calendar view listing the 12 months of the year\r\n\r\n\t\t// templateString: String\r\n\t\t//\t\tThe template to be used to construct the widget.\r\n\t\ttemplateString: template,\r\n\r\n\t\t// datePart: String\r\n\t\t//\t\tSpecifies how much to increment the displayed date when the user\r\n\t\t//\t\tclicks the array button to increment of decrement the view.\r\n\t\tdatePart: \"year\",\r\n\r\n\t\t// displayedYears: Number\r\n\t\t//\t\tThe number of years to display at once.\r\n\t\tdisplayedYears: 10,\r\n\r\n\t\tuseHeader: false,\r\n\r\n\t\tpostCreate: function(){\r\n\t\t\tthis.cloneClass(\".dojoxCal-MY-G-Template\", 5, \".dojoxCal-MY-btns\");\r\n\t\t\tthis.monthContainer = this.yearContainer = this.myContainer;\r\n\r\n\t\t\tvar yClass = \"dojoxCalendarYearLabel\";\r\n\t\t\tvar dClass = \"dojoxCalendarDecrease\";\r\n\t\t\tvar iClass = \"dojoxCalendarIncrease\";\r\n\r\n\t\t\tquery(\".\" + yClass, this.myContainer).forEach(function(node, idx){\r\n\t\t\t\tvar clazz = iClass;\r\n\t\t\t\tswitch(idx){\r\n\t\t\t\t\tcase 0:\r\n\t\t\t\t\t\tclazz = dClass;\r\n\t\t\t\t\tcase 1:\r\n\t\t\t\t\t\tdomClass.remove(node, yClass);\r\n\t\t\t\t\t\tdomClass.add(node, clazz);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\t// Get the year increment and decrement buttons.\r\n\t\t\tthis._decBtn = query('.' + dClass, this.myContainer)[0];\r\n\t\t\tthis._incBtn = query('.' + iClass, this.myContainer)[0];\r\n\r\n\t\t\tquery(\".dojoxCal-MY-M-Template\", this.domNode)\r\n\t\t\t\t.filter(function(item){\r\n\t\t\t\t\treturn item.cellIndex == 1;\r\n\t\t\t\t})\r\n\t\t\t\t.addClass(\"dojoxCal-MY-M-last\");\r\n\r\n\t\t\tconnect.connect(this, \"onBeforeDisplay\", lang.hitch(this, function(){\r\n\t\t\t\tthis._cachedDate = new Date(this.get(\"value\").getTime());\r\n\t\t\t\tthis._populateYears(this._cachedDate.getFullYear());\r\n\t\t\t\tthis._populateMonths();\r\n\t\t\t\tthis._updateSelectedMonth();\r\n\t\t\t\tthis._updateSelectedYear();\r\n\t\t\t}));\r\n\r\n\t\t\tconnect.connect(this, \"_populateYears\", lang.hitch(this, function(){\r\n\t\t\t\tthis._updateSelectedYear();\r\n\t\t\t}));\r\n\t\t\tconnect.connect(this, \"_populateMonths\", lang.hitch(this, function(){\r\n\t\t\t\tthis._updateSelectedMonth();\r\n\t\t\t}));\r\n\r\n\t\t\tthis._cachedDate = this.get(\"value\");\r\n\r\n\t\t\tthis._populateYears();\r\n\t\t\tthis._populateMonths();\r\n\r\n\t\t\t// Add visual effects to the view, if any have been mixed in\r\n\t\t\tthis.addFx(\".dojoxCalendarMonthLabel,.dojoxCalendarYearLabel \", this.myContainer);\r\n\t\t},\r\n\r\n\t\t_setValueAttr: function(value){\r\n\t\t\tif (value && value.getFullYear()) {\r\n\t\t\t\tthis._populateYears(value.getFullYear());\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tgetHeader: function(){\r\n\t\t\treturn null;\r\n\t\t},\r\n\r\n\t\t_getMonthNames: function(format){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tReturns localized month names\r\n\t\t\tthis._monthNames\t= this._monthNames || dojoDateLocale.getNames('months', format, 'standAlone', this.getLang());\r\n\t\t\treturn this._monthNames;\r\n\t\t},\r\n\r\n\t\t_populateMonths: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tPopulate the month names using the localized values.\r\n\t\t\tvar match,\r\n\t\t\t\tmonthNames = this._getMonthNames('abbr'),\r\n\t\t\t\tcurrYear = this.get(\"value\").getFullYear(),\r\n\t\t\t\tcurrMonth = monthNames[this.get(\"value\").getMonth()],\r\n\t\t\t\tdisplayedYear = this.get(\"displayedYear\");\r\n\r\n\t\t\tquery(\".dojoxCalendarMonthLabel\", this.monthContainer).forEach(lang.hitch(this, function(node, cnt){\r\n\t\t\t\tthis._setText(node, monthNames[cnt]);\r\n\t\t\t\tmatch = ((currMonth === monthNames[cnt]) && (currYear === displayedYear));\r\n\t\t\t\t// If this month in this year, style it accordingly.\r\n\t\t\t\t// Don't use dojox/date stuff, we don't need it here\r\n\t\t\t\t// http://bugs.dojotoolkit.org/ticket/15520\r\n\t\t\t\tdomClass.toggle(node.parentNode, [\"dijitCalendarSelectedDate\", \"dijitCalendarCurrentDate\"], match);\r\n\t\t\t}));\r\n\t\t\tvar constraints = this.get('constraints');\r\n\r\n\t\t\tif(constraints){\r\n\t\t\t\tvar date = new Date();\r\n\t\t\t\tdate.setFullYear(this._year);\r\n\t\t\t\tvar min = -1, max = 12;\r\n\t\t\t\tif(constraints.min){\r\n\t\t\t\t\tvar minY = constraints.min.getFullYear();\r\n\t\t\t\t\tif(minY > this._year){\r\n\t\t\t\t\t\tmin = 12;\r\n\t\t\t\t\t}else if(minY == this._year){\r\n\t\t\t\t\t\tmin = constraints.min.getMonth();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif(constraints.max){\r\n\t\t\t\t\tvar maxY = constraints.max.getFullYear();\r\n\t\t\t\t\tif(maxY < this._year){\r\n\t\t\t\t\t\tmax = -1;\r\n\t\t\t\t\t}else if(maxY == this._year){\r\n\t\t\t\t\t\tmax = constraints.max.getMonth();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tquery(\".dojoxCalendarMonthLabel\", this.monthContainer)\r\n\t\t\t\t\t.forEach(lang.hitch(this, function(node, cnt){\r\n\t\t\t\t\t\tdomClass[(cnt < min || cnt > max) ? \"add\" : \"remove\"]\r\n\t\t\t\t\t\t\t(node, 'dijitCalendarDisabledDate');\r\n\t\t\t\t}));\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t_populateYears: function(year){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tFills the list of years with a range of 12 numbers, with the current year\r\n\t\t\t//\t\tbeing the 6th number.\r\n\r\n\t\t\tvar match,\r\n\t\t\t\tconstraints = this.get('constraints'),\r\n\t\t\t\tthisYear = this.get(\"value\").getFullYear(),\r\n\t\t\t\tdispYear = year || thisYear,\r\n\t\t\t\tfirstYear = dispYear - Math.floor(this.displayedYears/2),\r\n\t\t\t\tmin = constraints && constraints.min ? constraints.min.getFullYear() : firstYear -10000;\r\n\r\n\t\t\tthis._displayedYear = dispYear;\r\n\r\n\t\t\tvar yearLabels = query(\".dojoxCalendarYearLabel\", this.yearContainer);\r\n\r\n\t\t\tvar max = constraints && constraints.max ? constraints.max.getFullYear() - firstYear :\tyearLabels.length;\r\n\t\t\tvar disabledClass = 'dijitCalendarDisabledDate';\r\n\t\t\tvar today;\r\n\t\t\tyearLabels.forEach(lang.hitch(this, function(node, cnt){\r\n\t\t\t\tif(cnt <= max){\r\n\t\t\t\t\tthis._setText(node, firstYear + cnt);\r\n\t\t\t\t}\r\n\t\t\t\ttoday = (firstYear+cnt) == thisYear;\r\n\t\t\t\tdomClass.toggle(node.parentNode, [\"dijitCalendarSelectedDate\", \"dijitCalendarCurrentDate\"], today);\r\n\t\t\t\tdomClass.toggle(node, disabledClass, cnt > max);\r\n\t\t\t\tmatch = (firstYear+cnt) == thisYear;\r\n\t\t\t\tdomClass.toggle(node.parentNode, [\"dijitCalendarSelectedDate\", \"dijitCalendarCurrentDate\"], match);\r\n\t\t\t}));\r\n\r\n\t\t\tif(this._incBtn){\r\n\t\t\t\tdomClass.toggle(this._incBtn, disabledClass, max < yearLabels.length);\r\n\t\t\t}\r\n\t\t\tif(this._decBtn){\r\n\t\t\t\tdomClass.toggle(this._decBtn, disabledClass, min >= firstYear);\r\n\t\t\t}\r\n\r\n\t\t\tvar h = this.getHeader();\r\n\t\t\tif(h){\r\n\t\t\t\tthis._setText(this.getHeader(), firstYear + \" - \" + (firstYear + 11));\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t_updateSelectedYear: function(){\r\n\t\t\tthis._year = String((this._cachedDate || this.get(\"value\")).getFullYear());\r\n\t\t\tthis._updateSelectedNode(\".dojoxCalendarYearLabel\", lang.hitch(this, function(node){\r\n\t\t\t\treturn this._year !== null && node.innerHTML == this._year;\r\n\t\t\t}));\r\n\t\t},\r\n\r\n\t\t_updateSelectedMonth: function(){\r\n\t\t\tvar month = (this._cachedDate || this.get(\"value\")).getMonth();\r\n\t\t\tthis._month = month;\r\n\t\t\tthis._updateSelectedNode(\".dojoxCalendarMonthLabel\", function(node, idx){\r\n\t\t\t\treturn idx == month;\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\t_updateSelectedNode: function(queryNode, filter){\r\n\t\t\tvar sel = \"dijitCalendarSelectedDate\";\r\n\t\t\tquery(queryNode, this.domNode)\r\n\t\t\t\t.forEach(function(node, idx, array){\r\n\t\t\t\t\tdomClass.toggle(node.parentNode, sel, filter(node, idx, array));\r\n\t\t\t});\r\n\t\t\tvar selMonth = query('.dojoxCal-MY-M-Template div', this.myContainer)\r\n\t\t\t\t.filter(function(node){\r\n\t\t\t\t\treturn domClass.contains(node.parentNode, sel);\r\n\t\t\t})[0];\r\n\t\t\tif(!selMonth){return;}\r\n\t\t\tvar disabled = domClass.contains(selMonth, 'dijitCalendarDisabledDate');\r\n\r\n\t\t\tdomClass.toggle(this.okBtn, \"dijitDisabled\", disabled);\r\n\t\t},\r\n\r\n\t\tonClick: function(evt){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tHandles clicks on month names\r\n\t\t\tvar clazz;\r\n\t\t\tfunction hc(c){\r\n\t\t\t\treturn domClass.contains(evt.target, c);\r\n\t\t\t}\r\n\r\n\t\t\tif(hc('dijitCalendarDisabledDate')){\r\n\t\t\t\tevent.stop(evt);\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\r\n\t\t\tif(hc(\"dojoxCalendarMonthLabel\")){\r\n\t\t\t\tclazz = \"dojoxCal-MY-M-Template\";\r\n\t\t\t\tthis._month = evt.target.parentNode.cellIndex + (evt.target.parentNode.parentNode.rowIndex * 2);\r\n\t\t\t\tthis._cachedDate.setMonth(this._month);\r\n\t\t\t\tthis._updateSelectedMonth();\r\n\t\t\t}else if(hc( \"dojoxCalendarYearLabel\")){\r\n\t\t\t\tclazz = \"dojoxCal-MY-Y-Template\";\r\n\t\t\t\tthis._year = Number(evt.target.innerHTML);\r\n\t\t\t\tthis._cachedDate.setYear(this._year);\r\n\t\t\t\tthis._populateMonths();\r\n\t\t\t\tthis._updateSelectedYear();\r\n\t\t\t}else if(hc(\"dojoxCalendarDecrease\")){\r\n\t\t\t\tthis._populateYears(this._displayedYear - 10);\r\n\t\t\t\treturn true;\r\n\t\t\t}else if(hc(\"dojoxCalendarIncrease\")){\r\n\t\t\t\tthis._populateYears(this._displayedYear + 10);\r\n\t\t\t\treturn true;\r\n\t\t\t}else{\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t\tevent.stop(evt);\r\n\t\t\treturn false;\r\n\t\t},\r\n\r\n\t\tonOk: function(evt){\r\n\t\t\tevent.stop(evt);\r\n\t\t\tif(domClass.contains(this.okBtn, \"dijitDisabled\")){\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\tthis.onValueSelected(this._cachedDate);\r\n\t\t\treturn false;\r\n\t\t},\r\n\r\n\t\tonCancel: function(evt){\r\n\t\t\tevent.stop(evt);\r\n\t\t\tthis.onValueSelected(this.get(\"value\"));\r\n\t\t\treturn false;\r\n\t\t}\r\n\t});\r\n});\r\n"]}