{"version":3,"sources":["css3/fx.js"],"names":["define","lang","connectUtil","domStyle","baseFx","coreFx","htmlUtil","htmlStyleExt","complexFx","css3fx","getObject","css3fxFunctions","puff","args","combine","fadeOut","this","expand","node","endScale","animateProperty","properties","transform","start","end","shrink","rotate","duration","startAngle","endAngle","flip","anims","whichAnims","direction","transforms","i","length","push","mixin","chain","bounce","n","scaleX","scaleY","ds","style","oldPos","newPos","oldTop","combinedAnims","bTime","round","Math","jumpHeight","a1","connect","transformOrigin","position","a2","Animation","curve","delay","onBegin","Date","getTime","onAnimate","cTime","top","parseInt","onEnd"],"mappings":"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","file":"../../css3/fx.js","sourcesContent":["define([\r\n\t\"dojo/_base/lang\",\r\n\t\"dojo/_base/connect\",\t// dojo.connect\r\n\t\"dojo/dom-style\",\t// dojo.style\r\n\t\"dojo/_base/fx\",\r\n\t\"dojo/fx\",\r\n\t\"dojo/_base/html\",\r\n\t\"dojox/html/ext-dojo/style\",\r\n\t\"dojox/fx/ext-dojo/complex\"],\r\nfunction(lang,connectUtil,domStyle,baseFx,coreFx,htmlUtil,htmlStyleExt,complexFx){\r\n\tvar css3fx = lang.getObject(\"dojox.css3.fx\", true);\r\n\r\n\tvar css3fxFunctions = {\r\n\t\t// summary:\r\n\t\t//\t\tUtilities for animation effects.\r\n\t\t\r\n\t\tpuff: function(/*Object*/args){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tReturns an animation that will do a \"puff\" effect on the given node.\r\n\t\t\t//\r\n\t\t\t// description:\r\n\t\t\t//\t\tFades out an element and scales it to args.endScale.\r\n\t\t\t//\r\n\t\t\treturn coreFx.combine([baseFx.fadeOut(args),\r\n\t\t\t\tthis.expand({\r\n\t\t\t\t\tnode: args.node,\r\n\t\t\t\t\tendScale: args.endScale || 2\r\n\t\t\t\t})\r\n\t\t\t]);\r\n\t\t},\r\n\r\n\t\texpand: function(/*Object*/args){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tReturns an animation that expands args.node.\r\n\t\t\t//\r\n\t\t\t// description:\r\n\t\t\t//\t\tScales an element to args.endScale.\r\n\t\t\t//\r\n\t\t\treturn baseFx.animateProperty({\r\n\t\t\t\tnode: args.node,\r\n\t\t\t\tproperties: {\r\n\t\t\t\t\ttransform: { start: \"scale(1)\", end: \"scale(\" + [args.endScale || 3] + \")\" }\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\tshrink: function(/*Object*/args){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tReturns an animation that shrinks args.node.\r\n\t\t\t//\r\n\t\t\t// description:\r\n\t\t\t//\t\tShrinks an element, same as expand({ node: node, endScale: .01 });\r\n\t\t\t//\r\n\t\t\treturn this.expand({\r\n\t\t\t\tnode: args.node,\r\n\t\t\t\tendScale: .01\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\trotate: function(/*Object*/args){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tReturns an animation that rotates an element.\r\n\t\t\t//\r\n\t\t\t// description:\r\n\t\t\t//\t\tRotates an element from args.startAngle to args.endAngle.\r\n\t\t\t//\r\n\t\t\treturn baseFx.animateProperty({\r\n\t\t\t\tnode: args.node,\r\n\t\t\t\tduration: args.duration || 1000,\r\n\t\t\t\tproperties: {\r\n\t\t\t\t\ttransform: { start: \"rotate(\" + (args.startAngle || \"0deg\") + \")\", end: \"rotate(\" + (args.endAngle || \"360deg\") + \")\" }\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\tflip: function(/*Object*/args){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tReturns an animation that flips an element around his y axis.\r\n\t\t\t//\r\n\t\t\t// description:\r\n\t\t\t//\t\tFlips an element around his y axis. The default is a 360deg flip\r\n\t\t\t//\t\tbut it is possible to run a partial flip using args.whichAnims.\r\n\t\t\t//\r\n\t\t\t// example:\r\n\t\t\t//\t|\t// half flip\r\n\t\t\t//\t|\tdojox.css3.fx.flip({\r\n\t\t\t//\t|\t\tnode: domNode,\r\n\t\t\t//\t|\t\twhichAnim: [0, 1]\r\n\t\t\t//\t|\t}).play();\r\n\t\t\t//\r\n\t\t\tvar anims = [],\r\n\t\t\t\twhichAnims = args.whichAnims || [0, 1, 2, 3],\r\n\t\t\t\t\tdirection = args.direction || 1,\r\n\t\t\t\ttransforms = [\r\n\t\t\t\t\t{ start: \"scale(1, 1) skew(0deg,0deg)\", end: \"scale(0, 1) skew(0,\" + (direction * 30) + \"deg)\" },\r\n\t\t\t\t\t{ start: \"scale(0, 1) skew(0deg,\" + (direction * 30) + \"deg)\", end: \"scale(-1, 1) skew(0deg,0deg)\" },\r\n\t\t\t\t\t{ start: \"scale(-1, 1) skew(0deg,0deg)\", end: \"scale(0, 1) skew(0deg,\" + (-direction * 30) + \"deg)\" },\r\n\t\t\t\t\t{ start: \"scale(0, 1) skew(0deg,\" + (-direction * 30) + \"deg)\", end: \"scale(1, 1) skew(0deg,0deg)\" }\r\n\t\t\t];\r\n\t\t\tfor(var i = 0; i < whichAnims.length; i++){\r\n\t\t\t\tanims.push(baseFx.animateProperty(\r\n\t\t\t\t\tlang.mixin({\r\n\t\t\t\t\tnode: args.node,\r\n\t\t\t\t\tduration: args.duration || 600,\r\n\t\t\t\t\tproperties: {\r\n\t\t\t\t\t\ttransform: transforms[whichAnims[i]]\r\n\t\t\t\t\t}}, args)\r\n\t\t\t\t));\r\n\t\t\t}\r\n\t\t\treturn coreFx.chain(anims);\r\n\t\t},\r\n\r\n\t\tbounce: function(/*Object*/args){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tReturns an animation that does a \"bounce\" effect on args.node.\r\n\t\t\t//\r\n\t\t\t// description:\r\n\t\t\t//\t\tVertical bounce animation. The scaleX, scaleY deformation and the\r\n\t\t\t//\t\tjump height (args.jumpHeight) can be specified.\r\n\t\t\t//\r\n\t\t\tvar anims = [],\r\n\t\t\t\tn = args.node,\r\n\t\t\t\tduration = args.duration || 1000,\r\n\t\t\t\tscaleX = args.scaleX || 1.2,\r\n\t\t\t\tscaleY = args.scaleY || .6,\r\n\t\t\t\tds = htmlUtil.style,\r\n\t\t\t\toldPos = ds(n, \"position\"),\r\n\t\t\t\tnewPos = \"absolute\",\r\n\t\t\t\toldTop = ds(n, \"top\"),\r\n\t\t\t\tcombinedAnims = [],\r\n\t\t\t\tbTime = 0,\r\n\t\t\t\tround = Math.round,\r\n\t\t\t\tjumpHeight = args.jumpHeight || 70\r\n\t\t\t;\r\n\t\t\tif(oldPos !== \"absolute\"){\r\n\t\t\t\tnewPos = \"relative\";\r\n\t\t\t}\r\n\t\t\tvar a1 = baseFx.animateProperty({\r\n\t\t\t\tnode: n,\r\n\t\t\t\tduration: duration / 6,\r\n\t\t\t\tproperties: {\r\n\t\t\t\t\ttransform: { start: \"scale(1, 1)\", end: \"scale(\" + scaleX + \", \" + scaleY + \")\" }\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tconnectUtil.connect(a1, \"onBegin\", function(){\r\n\t\t\t\tds(n, {\r\n\t\t\t\t\ttransformOrigin: \"50% 100%\",\r\n\t\t\t\t\tposition: newPos\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t\tanims.push(a1);\r\n\t\t\tvar a2 = baseFx.animateProperty({\r\n\t\t\t\tnode: n,\r\n\t\t\t\tduration: duration / 6,\r\n\t\t\t\tproperties: {\r\n\t\t\t\t\ttransform: { end: \"scale(1, 1)\", start: \"scale(\" + scaleX + \", \" + scaleY + \")\" }\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tcombinedAnims.push(a2);\r\n\t\t\tcombinedAnims.push(new baseFx.Animation(lang.mixin({\r\n\t\t\t\tcurve: [],\r\n\t\t\t\tduration: duration / 3,\r\n\t\t\t\tdelay: duration / 12,\r\n\t\t\t\tonBegin: function(){\r\n\t\t\t\t\tbTime = (new Date).getTime();\r\n\t\t\t\t},\r\n\t\t\t\tonAnimate: function(){\r\n\t\t\t\t\tvar cTime = (new Date).getTime();\r\n\t\t\t\t\tds(n, {\r\n\t\t\t\t\t\ttop: parseInt(ds(n, \"top\")) - round(jumpHeight*((cTime-bTime)/this.duration)) + \"px\"\r\n\t\t\t\t\t});\r\n\t\t\t\t\tbTime = cTime;\r\n\t\t\t\t}\r\n\t\t\t}, args)));\r\n\t\t\tanims.push(coreFx.combine(combinedAnims));\r\n\t\t\tanims.push(baseFx.animateProperty(lang.mixin({\r\n\t\t\t\tduration: duration / 3,\r\n\t\t\t\tonEnd: function(){\r\n\t\t\t\t\tds(n, {\r\n\t\t\t\t\t\tposition: oldPos\r\n\t\t\t\t\t});\r\n\t\t\t\t},\r\n\t\t\t\tproperties:{\r\n\t\t\t\t\ttop: oldTop\r\n\t\t\t\t}\r\n\t\t\t}, args)));\r\n\t\t\tanims.push(a1);\r\n\t\t\tanims.push(a2);\r\n\r\n\t\t\treturn coreFx.chain(anims);\r\n\t\t}\r\n\t};\r\n\t\r\n\t/*=====\r\n\treturn css3fxFunctions;\r\n\t =====*/\r\n\treturn lang.mixin(css3fx, css3fxFunctions);\r\n});\r\n"]}