{"version":3,"sources":["css3/transit.js"],"names":["define","darray","domStyle","all","has","transition","from","to","options","rev","reverse","set","transitionDefs","id","resolve","defs","transit","duration","fromTransit","in","direction","deferred","push","toTransit","chainedPlay","groupedPlay"],"mappings":";;;;;;;AAAAA,QAAQ,mBAAoB,iBAAkB,mBAAoB,aAAc,gBAC/E,SAASC,EAAQC,EAAUC,EAAKC,EAAKC,GAwFrC,OApFc,SAAoBC,EAAiBC,EAAeC,GAiBjE,IAAIC,EAAOD,GAAWA,EAAQE,SAAY,EAAI,EAC9C,IAAIF,IAAYA,EAAQH,aAAeA,EAAWG,EAAQH,aAAgBD,EAAI,OAASA,EAAI,MAAQ,GAgBlG,OAfGE,GACFJ,EAASS,IAAIL,EAAK,UAAU,QAE1BC,GACFL,EAASS,IAAIJ,EAAI,UAAW,IAE1BC,EAAQI,iBACPJ,EAAQI,eAAeN,EAAKO,KAC9BL,EAAQI,eAAeN,EAAKO,IAAIC,QAAQR,GAEtCE,EAAQI,eAAeL,EAAGM,KAC5BL,EAAQI,eAAeL,EAAGM,IAAIC,QAAQP,IAIjC,IAAIJ,MAEX,IAAIY,KACAC,KACAC,EAAW,IAWf,GAVIT,EAAQS,SAQXA,EAAWT,EAAQS,UAPnBA,EAAW,IACe,SAAvBT,EAAQH,WACVY,EAAW,IACqB,SAAvBT,EAAQH,aACjBY,EAAW,MAKVX,EAAK,CACPJ,EAASS,IAAIL,EAAM,UAAW,IAE9B,IAAIY,EAAcb,EAAWG,EAAQH,YAAYC,GAChDa,IAAM,EACNC,UAAWX,EACXQ,SAAUA,EACVI,SAAWb,EAAQI,gBAAkBJ,EAAQI,eAAeN,EAAKO,IAAOL,EAAQI,eAAeN,EAAKO,IAAM,OAE3GE,EAAKO,KAAKJ,EAAYG,UACtBL,EAAQM,KAAKJ,GAEd,GAAGX,EAAG,CACLL,EAASS,IAAIJ,EAAI,UAAW,IAE5B,IAAIgB,EAAYlB,EAAWG,EAAQH,YAAYE,GAC3Ca,UAAWX,EACXQ,SAAUA,EACVI,SAAWb,EAAQI,gBAAkBJ,EAAQI,eAAeL,EAAGM,IAAOL,EAAQI,eAAeL,EAAGM,IAAM,OAE1GE,EAAKO,KAAKC,EAAUF,UACpBL,EAAQM,KAAKC,GAUd,MAN0B,SAAvBf,EAAQH,WACVA,EAAWmB,YAAYR,GAEvBX,EAAWoB,YAAYT,GAGjBb,EAAIY","file":"../../css3/transit.js","sourcesContent":["define([\"dojo/_base/array\", \"dojo/dom-style\", \"dojo/promise/all\", \"dojo/sniff\", \"./transition\"],\r\n\tfunction(darray, domStyle, all, has, transition){\r\n\t// module: \r\n\t//\t\tdojox/css3/transit\r\n\t\r\n\tvar transit = function(/*DomNode*/from, /*DomNode*/to, /*Object?*/options){\r\n\t\t// summary:\r\n\t\t//\t\tPerforms a transition to hide a node and show another node.\r\n\t\t// description:\r\n\t\t//\t\tThis module defines the transit method which is used\r\n\t\t//\t\tto transit the specific region of an application from \r\n\t\t//\t\tone view/page to another view/page. This module relies \r\n\t\t//\t\ton utilities provided by dojox/css3/transition for the \r\n\t\t//\t\ttransition effects.\r\n\t\t// options:\r\n\t\t//\t\tThe argument to specify the transit effect and direction.\r\n\t\t//\t\tThe effect can be specified in options.transition. The\r\n\t\t//\t\tvalid values are 'slide', 'flip', 'fade', 'none'.\r\n\t\t//\t\tThe direction can be specified in options.reverse. If it\r\n\t\t//\t\tis true, the transit effects will be conducted in the\r\n\t\t//\t\treverse direction to the default direction. Finally the duration\r\n\t\t//\t\tof the transition can be overridden by setting the duration property.\r\n\t\tvar rev = (options && options.reverse) ? -1 : 1;\r\n\t\tif(!options || !options.transition || !transition[options.transition] || (has(\"ie\") && has(\"ie\") < 10)){\r\n\t\t\tif(from){\r\n\t\t\t\tdomStyle.set(from,\"display\",\"none\");\r\n\t\t\t}\r\n\t\t\tif(to){\r\n\t\t\t\tdomStyle.set(to, \"display\", \"\");\r\n\t\t\t}\r\n\t\t\tif(options.transitionDefs){\r\n\t\t\t\tif(options.transitionDefs[from.id]){\r\n\t\t\t\t\toptions.transitionDefs[from.id].resolve(from);\r\n\t\t\t\t}\r\n\t\t\t\tif(options.transitionDefs[to.id]){\r\n\t\t\t\t\toptions.transitionDefs[to.id].resolve(to);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t// return any empty promise/all if the options.transition=\"none\"\r\n\t\t\treturn new all([]);\r\n\t\t}else{\r\n\t\t\tvar defs = [];\r\n\t\t\tvar transit = [];\r\n\t\t\tvar duration = 2000;\r\n\t\t\tif(!options.duration){\r\n\t\t\t\tduration = 250;\r\n\t\t\t\tif(options.transition === \"fade\"){\r\n\t\t\t\t\tduration = 600;\r\n\t\t\t\t}else if (options.transition === \"flip\"){\r\n\t\t\t\t\tduration = 200;\r\n\t\t\t\t}\r\n\t\t\t}else{\r\n\t\t\t\tduration = options.duration;\r\n\t\t\t}\r\n\t\t\tif(from){\r\n\t\t\t\tdomStyle.set(from, \"display\", \"\");\r\n\t\t\t\t//create transition to transit \"from\" out\r\n\t\t\t\tvar fromTransit = transition[options.transition](from, {\r\n\t\t\t\t\t\"in\": false,\r\n\t\t\t\t\tdirection: rev,\r\n\t\t\t\t\tduration: duration,\r\n\t\t\t\t\tdeferred: (options.transitionDefs && options.transitionDefs[from.id]) ? options.transitionDefs[from.id] : null\r\n\t\t\t\t});\r\n\t\t\t\tdefs.push(fromTransit.deferred);//every transition object should have a deferred.\r\n\t\t\t\ttransit.push(fromTransit);\r\n\t\t\t}\r\n\t\t\tif(to){\r\n\t\t\t\tdomStyle.set(to, \"display\", \"\");\r\n\t\t\t\t//create transition to transit \"to\" in\r\n\t\t\t\tvar toTransit = transition[options.transition](to, {\r\n\t\t\t\t\t\t\t\tdirection: rev,\r\n\t\t\t\t\t\t\t\tduration: duration,\r\n\t\t\t\t\t\t\t\tdeferred: (options.transitionDefs && options.transitionDefs[to.id]) ? options.transitionDefs[to.id] : null\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\tdefs.push(toTransit.deferred);//every transition object should have a deferred.\r\n\t\t\t\ttransit.push(toTransit);\r\n\t\t\t}\r\n\t\t\t//If it is flip use the chainedPlay, otherwise\r\n\t\t\t//play fromTransit and toTransit together\r\n\t\t\tif(options.transition === \"flip\"){\r\n\t\t\t\ttransition.chainedPlay(transit);\r\n\t\t\t}else{\r\n\t\t\t\ttransition.groupedPlay(transit);\r\n\t\t\t}\r\n\r\n\t\t\treturn all(defs);\r\n\t\t}\r\n\t};\r\n\t\r\n\treturn transit;\r\n});\r\n"]}