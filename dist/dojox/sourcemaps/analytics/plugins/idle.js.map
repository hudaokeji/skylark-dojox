{"version":3,"sources":["analytics/plugins/idle.js"],"names":["define","lang","dxa","config","ready","aspect","window","plugins","idle","this","addData","hitch","idleTime","setIdle","idleResets","i","length","after","doc","e","idleTimer","setTimeout","clearTimeout"],"mappings":";;;;;;;AAAAA,QAAQ,kBAAmB,WAAY,oBAAqB,aAC1D,cAAe,qBACd,SAASC,EAAMC,EAAKC,EAAQC,EAAOC,EAAQC,GAG7C,OAAQJ,EAAIK,QAAQC,KAAO,IAAI,WAC9BC,KAAKC,QAAUT,EAAKU,MAAMT,EAAK,UAAW,QAC1CO,KAAKG,SAAWT,EAAiB,UAAK,IACtCM,KAAKD,MAAO,EAEZC,KAAKI,QAAU,WACdJ,KAAKC,QAAQ,UACbD,KAAKD,MAAO,GAIbJ,EAAMH,EAAKU,MAAMF,KAAM,WAEtB,IADA,IAAIK,GAAc,cAAc,YAAY,UAAU,YAC9CC,EAAI,EAAEA,EAAID,EAAWE,OAAOD,IACnCV,EAAOY,MAAMX,EAAOY,IAAIJ,EAAWC,GAAGd,EAAKU,MAAMF,KAAM,SAASU,GAC5DV,KAAKD,MACPC,KAAKD,MAAO,EACZC,KAAKC,QAAQ,YACbD,KAAKW,UAAYC,WAAWpB,EAAKU,MAAMF,KAAK,WAAYA,KAAKG,YAE7DU,aAAab,KAAKW,WAClBX,KAAKW,UAAYC,WAAWpB,EAAKU,MAAMF,KAAK,WAAYA,KAAKG,cAE5D","file":"../../../analytics/plugins/idle.js","sourcesContent":["define([\"dojo/_base/lang\", \"../_base\", \"dojo/_base/config\", \"dojo/ready\", \r\n\t\t\"dojo/aspect\", \"dojo/_base/window\"\r\n], function(lang, dxa, config, ready, aspect, window){\r\n\r\n\t// window startup data\r\n\treturn (dxa.plugins.idle = new (function(){\r\n\t\tthis.addData = lang.hitch(dxa, \"addData\", \"idle\");\r\n\t\tthis.idleTime = config[\"idleTime\"] || 60000;\r\n\t\tthis.idle = true;\r\n\r\n\t\tthis.setIdle = function(){\r\n\t\t\tthis.addData(\"isIdle\");\r\n\t\t\tthis.idle = true;\r\n\r\n\t\t}\r\n\r\n\t\tready(lang.hitch(this, function(){\r\n\t\t\tvar idleResets = [\"onmousemove\",\"onkeydown\",\"onclick\",\"onscroll\"];\r\n\t\t\tfor(var i = 0;i < idleResets.length;i++){\r\n\t\t\t\taspect.after(window.doc,idleResets[i],lang.hitch(this, function(e){\r\n\t\t\t\t\tif(this.idle){\r\n\t\t\t\t\t\tthis.idle = false;\r\n\t\t\t\t\t\tthis.addData(\"isActive\");\r\n\t\t\t\t\t\tthis.idleTimer = setTimeout(lang.hitch(this,\"setIdle\"), this.idleTime);\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tclearTimeout(this.idleTimer);\r\n\t\t\t\t\t\tthis.idleTimer = setTimeout(lang.hitch(this,\"setIdle\"), this.idleTime);\r\n\t\t\t\t\t}\r\n\t\t\t\t}),true);\r\n\t\t\t}\r\n\t\t}));\r\n\t})());\r\n});\r\n"]}