{"version":3,"sources":["geo/openlayers/Feature.js"],"names":["define","dojo","declare","openlayers","constructor","this","_layer","_coordSys","EPSG4326","getCoordinateSystem","setCoordinateSystem","cs","getLayer","_setLayer","l","render","remove","_getLocalXY","p","x","y","layer","resolution","olLayer","map","getResolution","extent","getExtent","left","top"],"mappings":";;;;;;;AAAAA,QACC,oBACA,qBACA,WACE,SAASC,EAAMC,EAASC,GAE1B,OAAOD,EAAQ,+BAAgC,MAM9CE,YAAa,WAGZC,KAAKC,OAAS,KACdD,KAAKE,UAAYJ,EAAWK,UAG7BC,oBAAqB,WAKpB,OAAOJ,KAAKE,WAGbG,oBAAqB,SAAoCC,GAKxDN,KAAKE,UAAYI,GAGlBC,SAAU,WAKT,OAAOP,KAAKC,QAGbO,UAAW,SAAyCC,GAOnDT,KAAKC,OAASQ,GAGfC,OAAQ,aAKRC,OAAQ,aAMRC,YAAa,SAASC,GAOrB,IAAIC,EAAID,EAAEC,EACNC,EAAIF,EAAEE,EACNC,EAAQhB,KAAKO,WACbU,EAAaD,EAAME,QAAQC,IAAIC,gBAC/BC,EAASL,EAAME,QAAQI,YAG3B,OAFUR,EAAIG,GAAeI,EAAOE,KAAON,EAChCI,EAAOG,IAAMP,EAAcF,EAAIE","file":"../../../geo/openlayers/Feature.js","sourcesContent":["define([\r\n\t\"dojo/_base/kernel\",\r\n\t\"dojo/_base/declare\",\r\n\t\"./_base\"\r\n], function(dojo, declare, openlayers){\r\n\r\n\treturn declare(\"dojox.geo.openlayers.Feature\", null, {\r\n\t\t// summary:\r\n\t\t//\t\tA Feature encapsulates an item so that it can be added to a Layer.\r\n\t\t//\t\tThis class is not attended to be used as it, but serve as a base class\r\n\t\t//\t\tfor specific features such as GeometryFeature which can display georeferenced \r\n\t\t//\t\tgeometries and WidgetFeature which can display georeferenced widgets. \r\n\t\tconstructor: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tConstruct a new Feature\r\n\t\t\tthis._layer = null;\r\n\t\t\tthis._coordSys = openlayers.EPSG4326;\r\n\t\t},\r\n\r\n\t\tgetCoordinateSystem: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tReturns the coordinate system in which coordinates of this feature are expressed.\r\n\t\t\t// returns:\r\n\t\t\t//\t\tThe coordinate system in which coordinates of this feature are expressed.\r\n\t\t\treturn this._coordSys; // OpenLayers.Projection\r\n\t\t},\r\n\r\n\t\tsetCoordinateSystem: function(/* OpenLayers.Projection */cs){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tSet the coordinate system in which coordinates of this feature are expressed.\r\n\t\t\t// cs: OpenLayers.Projection\r\n\t\t\t//\t\tThe coordinate system in which coordinates of this feature are expressed.\r\n\t\t\tthis._coordSys = cs;\r\n\t\t},\r\n\r\n\t\tgetLayer: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tReturns the Layer to which this feature belongs.\r\n\t\t\t// returns:\r\n\t\t\t//\t\tThe layer to which this feature belongs.\r\n\t\t\treturn this._layer; // dojox/geo/openlayers/Layer\r\n\t\t},\r\n\r\n\t\t_setLayer: function(/* dojox/geo/openlayers/Layer */l){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tSets the layer to which this Feature belongs\r\n\t\t\t// description:\r\n\t\t\t//\t\tCalled when the feature is added to the Layer.\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprivate\r\n\t\t\tthis._layer = l;\r\n\t\t},\r\n\r\n\t\trender: function(){\r\n\t\t// summary:\r\n\t\t//\t\tsubclasses implements drawing specific behavior.\r\n\t\t},\r\n\r\n\t\tremove: function(){\r\n\t\t// summary:\r\n\t\t//\t\tSubclasses implements specific behavior.\r\n\t\t//\t\tCalled when removed from the layer.\r\n\t\t},\r\n\r\n\t\t_getLocalXY: function(p){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tFrom projected coordinates to screen coordinates\r\n\t\t\t// p: Object\r\n\t\t\t//\t\tObject with x and y fields\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprivate\r\n\t\t\tvar x = p.x;\r\n\t\t\tvar y = p.y;\r\n\t\t\tvar layer = this.getLayer();\r\n\t\t\tvar resolution = layer.olLayer.map.getResolution();\r\n\t\t\tvar extent = layer.olLayer.getExtent();\r\n\t\t\tvar rx = (x / resolution + (-extent.left / resolution));\r\n\t\t\tvar ry = ((extent.top / resolution) - y / resolution);\r\n\t\t\treturn [rx, ry];\r\n\t\t}\r\n\t});\r\n});\r\n"]}