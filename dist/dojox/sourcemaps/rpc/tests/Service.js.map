{"version":3,"sources":["rpc/tests/Service.js"],"names":["dojo","provide","require","dojox","rpc","tests","service","Service","moduleUrl","doh","register","name","timeout","setUp","this","svc","runTest","d","Deferred","window","location","protocol","err","Error","errback","postEcho","message","foo","addCallback","result","callback","getEcho","res","Math","random","restStore","put","newRes","post","getEchoJson","getPathEcho","path","namespace","postJsonEcho","jsonpEcho","postJsonRpc10Echo","postJsonRpc10EchoNamed","postJsonRpc12Echo","postJsonRpc10ForcedError","addErrback","error","postJsonRpc12ForcedError"],"mappings":"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","file":"../../../rpc/tests/Service.js","sourcesContent":["dojo.provide(\"dojox.rpc.tests.Service\");\r\ndojo.require(\"dojo.io.script\");\r\ndojo.require(\"dojox.rpc.Service\");\r\ndojo.require(\"dojox.rpc.JsonRPC\");\r\ndojo.require(\"dojox.rpc.Rest\");\r\ndojo.require(\"dojox.rpc.Client\");\r\n//this is a copy of our smd in js form, so we can just share it easily\r\n//dojo.require(\"dojox.rpc.tests.resources.testSmd\");\r\n\r\ndojox.rpc.tests.service = new dojox.rpc.Service(dojo.moduleUrl(\"dojox.rpc.tests.resources\", \"test.smd\"));\r\n\r\ndoh.register(\"dojox.rpc.tests.echo\",\r\n\t[\r\n\t\t{\r\n\t\t\tname: \"#1 POST,URL,Named Parameters\",\r\n\t\t\ttimeout: 4000,\r\n\t\t\tsetUp: function(){\r\n\t\t\t\t//this.svc = new dojox.rpc.Service(dojox.rpc.tests.resources.testSmd);\r\n\t\t\t\tthis.svc = dojox.rpc.tests.service;\r\n\t\t\t},\r\n\t\t\trunTest: function(){\r\n\t\t\t\tvar d = new doh.Deferred();\r\n\r\n\t\t\t\tif (window.location.protocol==\"file:\") {\r\n\t\t\t\t\tvar err= new Error(\"This Test requires a webserver and will fail intentionally if loaded from file://\");\r\n\t\t\t\t\td.errback(err);\r\n\t\t\t\t\treturn d;\r\n\t\t\t\t}\r\n\t\t\t\t//test when given named params\r\n\t\t\t\tvar td = this.svc.postEcho({message: this.name,foo:2});\r\n\t\t\t\ttd.addCallback(this, function(result){\r\n\t\t\t\t\tif (result==this.name){\r\n\t\t\t\t\t\td.callback(true);\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\td.errback(new Error(\"Unexpected Return Value: \", result));\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\r\n\t\t\t\treturn d;\r\n\t\t\t}\r\n\t\t},\r\n\t\t{\r\n\t\t\tname: \"#2 POST,URL,Ordered Parameters\",\r\n\t\t\ttimeout: 4000,\r\n\t\t\tsetUp: function(){\r\n\t\t\t\t//this.svc = new dojox.rpc.Service(dojox.rpc.tests.resources.testSmd);\r\n\t\t\t\tthis.svc = dojox.rpc.tests.service;\r\n\r\n\t\t\t},\r\n\t\t\trunTest: function(){\r\n\t\t\t\tvar d = new doh.Deferred();\r\n\r\n\t\t\t\tif (window.location.protocol==\"file:\") {\r\n\t\t\t\t\tvar err= new Error(\"This Test requires a webserver and will fail intentionally if loaded from file://\");\r\n\t\t\t\t\td.errback(err);\r\n\t\t\t\t\treturn d;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t//test when given named params\r\n\t\t\t\tvar td = this.svc.postEcho(this.name,2);\r\n\t\t\t\ttd.addCallback(this, function(result){\r\n\t\t\t\t\tif (result==this.name){\r\n\t\t\t\t\t\td.callback(true);\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\td.errback(new Error(\"Unexpected Return Value: \", result));\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\r\n\t\t\t\treturn d;\r\n\t\t\t}\r\n\t\t},\r\n\t\t{\r\n\t\t\tname: \"#3 GET,URL,Named Parameters\",\r\n\t\t\ttimeout: 4000,\r\n\t\t\tsetUp: function(){\r\n\t\t\t\t//this.svc = new dojox.rpc.Service(dojox.rpc.tests.resources.testSmd);\r\n\t\t\t\tthis.svc = dojox.rpc.tests.service;\r\n\t\t\t},\r\n\t\t\trunTest: function(){\r\n\t\t\t\tvar d = new doh.Deferred();\r\n\r\n\t\t\t\tif (window.location.protocol==\"file:\") {\r\n\t\t\t\t\tvar err= new Error(\"This Test requires a webserver and will fail intentionally if loaded from file://\");\r\n\t\t\t\t\td.errback(err);\r\n\t\t\t\t\treturn d;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t//test when given named params\r\n\t\t\t\tvar td = this.svc.getEcho({message: this.name});\r\n\t\t\t\ttd.addCallback(this, function(result){\r\n\t\t\t\t\tif (result==this.name){\r\n\t\t\t\t\t\td.callback(true);\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\td.errback(new Error(\"Unexpected Return Value: \", result));\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\r\n\t\t\t\treturn d;\r\n\t\t\t}\r\n\t\t},\r\n\t\t\r\n\t\t{\r\n\t\t\tname: \"#3.1 REST PUT,Named Parameters\",\r\n\t\t\ttimeout: 4000,\r\n\t\t\tsetUp: function(){\r\n\t\t\t\t//this.svc = new dojox.rpc.Service(dojox.rpc.tests.resources.testSmd);\r\n\t\t\t\tthis.svc = dojox.rpc.tests.service;\r\n\t\t\t},\r\n\t\t\trunTest: function(){\r\n\t\t\t\tvar d = new doh.Deferred();\r\n\r\n\t\t\t\tif (window.location.protocol==\"file:\") {\r\n\t\t\t\t\tvar err= new Error(\"This Test requires a webserver and will fail intentionally if loaded from file://\");\r\n\t\t\t\t\td.errback(err);\r\n\t\t\t\t\treturn d;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tres = this.name + Math.random();\r\n\t\t\t\t//test when given named params\r\n\t\t\t\tvar td = this.svc.restStore.put({location: \"res\"},res);\r\n\t\t\t\ttd.addCallback(this, function(result){\r\n\t\t\t\t\tvar td = this.svc.restStore({location: \"res\"});\r\n\t\t\t\t\ttd.addCallback(this, function(result){\r\n\t\t\t\t\t\tif (result==res){\r\n\t\t\t\t\t\t\td.callback(true);\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\td.errback(new Error(\"Unexpected Return Value: \", result));\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t\t\t\r\n\t\t\t\t});\r\n\r\n\t\t\t\treturn d;\r\n\t\t\t}\r\n\t\t},\r\n\t\t{\r\n\t\t\tname: \"#3.2 REST POST,Named Parameters\",\r\n\t\t\ttimeout: 4000,\r\n\t\t\tsetUp: function(){\r\n\t\t\t\t//this.svc = new dojox.rpc.Service(dojox.rpc.tests.resources.testSmd);\r\n\t\t\t\tthis.svc = dojox.rpc.tests.service;\r\n\t\t\t},\r\n\t\t\trunTest: function(){\r\n\t\t\t\tvar d = new doh.Deferred();\r\n\r\n\t\t\t\tif (window.location.protocol==\"file:\") {\r\n\t\t\t\t\tvar err= new Error(\"This Test requires a webserver and will fail intentionally if loaded from file://\");\r\n\t\t\t\t\td.errback(err);\r\n\t\t\t\t\treturn d;\r\n\t\t\t\t}\r\n\t\t\t\tvar newRes = this.name + Math.random();\r\n\t\t\t\tres += newRes;\r\n\t\t\t\t//test when given named params\r\n\t\t\t\tvar td = this.svc.restStore.post({location: \"res\"},newRes);\r\n\t\t\t\ttd.addCallback(this, function(result){\r\n\t\t\t\t\tvar td = this.svc.restStore({location: \"res\"});\r\n\t\t\t\t\ttd.addCallback(this, function(result){\r\n\t\t\t\t\t\tif (result==res){\r\n\t\t\t\t\t\t\td.callback(true);\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\td.errback(new Error(\"Unexpected Return Value: \", result));\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t\t\t\r\n\t\t\t\t});\r\n\r\n\t\t\t\treturn d;\r\n\t\t\t}\r\n\t\t},\r\n\t\t{\r\n\t\t\tname: \"#3.3 REST DELETE,Named Parameters\",\r\n\t\t\ttimeout: 4000,\r\n\t\t\tsetUp: function(){\r\n\t\t\t\t//this.svc = new dojox.rpc.Service(dojox.rpc.tests.resources.testSmd);\r\n\t\t\t\tthis.svc = dojox.rpc.tests.service;\r\n\t\t\t},\r\n\t\t\trunTest: function(){\r\n\t\t\t\tvar d = new doh.Deferred();\r\n\r\n\t\t\t\tif (window.location.protocol==\"file:\") {\r\n\t\t\t\t\tvar err= new Error(\"This Test requires a webserver and will fail intentionally if loaded from file://\");\r\n\t\t\t\t\td.errback(err);\r\n\t\t\t\t\treturn d;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t//test when given named params\r\n\t\t\t\tvar td = this.svc.restStore['delete']({location: \"res\"});\r\n\t\t\t\ttd.addCallback(this, function(result){\r\n\t\t\t\t\tvar td = this.svc.restStore({location: \"res\"});\r\n\t\t\t\t\ttd.addCallback(this, function(result){\r\n\t\t\t\t\t\tif (result==\"deleted\"){\r\n\t\t\t\t\t\t\td.callback(true);\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\td.errback(new Error(\"Unexpected Return Value: \", result));\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t\t\t\r\n\t\t\t\t});\r\n\r\n\t\t\t\treturn d;\r\n\t\t\t}\r\n\t\t},\r\n\t\t{\r\n\t\t\tname: \"#3.4 GET,URL,Named Parameters, Returning Json\",\r\n\t\t\ttimeout: 4000,\r\n\t\t\tsetUp: function(){\r\n\t\t\t\t//this.svc = new dojox.rpc.Service(dojox.rpc.tests.resources.testSmd);\r\n\t\t\t\tthis.svc = dojox.rpc.tests.service;\r\n\t\t\t},\r\n\t\t\trunTest: function(){\r\n\t\t\t\tvar d = new doh.Deferred();\r\n\r\n\t\t\t\tif (window.location.protocol==\"file:\") {\r\n\t\t\t\t\tvar err= new Error(\"This Test requires a webserver and will fail intentionally if loaded from file://\");\r\n\t\t\t\t\td.errback(err);\r\n\t\t\t\t\treturn d;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t//test when given named params\r\n\t\t\t\tvar td = this.svc.getEchoJson({message:'{\"foo\":\"bar\"}'});\r\n\t\t\t\ttd.addCallback(this, function(result){\r\n\t\t\t\t\tif (result.foo=='bar'){\r\n\t\t\t\t\t\td.callback(true);\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\td.errback(new Error(\"Unexpected Return Value: \", result));\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\r\n\t\t\t\treturn d;\r\n\t\t\t}\r\n\t\t},\r\n\t\t{\r\n\t\t\tname: \"#3.5 GET,PATH,Named Parameters\",\r\n\t\t\ttimeout: 4000,\r\n\t\t\tsetUp: function(){\r\n\t\t\t\t//this.svc = new dojox.rpc.Service(dojox.rpc.tests.resources.testSmd);\r\n\t\t\t\tthis.svc = dojox.rpc.tests.service;\r\n\t\t\t},\r\n\t\t\trunTest: function(){\r\n\t\t\t\tvar d = new doh.Deferred();\r\n\r\n\t\t\t\tif (window.location.protocol==\"file:\") {\r\n\t\t\t\t\tvar err= new Error(\"This Test requires a webserver and will fail intentionally if loaded from file://\");\r\n\t\t\t\t\td.errback(err);\r\n\t\t\t\t\treturn d;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t//test when given named params\r\n\t\t\t\tvar td = this.svc.getPathEcho({path: \"pathname\"});\r\n\t\t\t\ttd.addCallback(this, function(result){\r\n\t\t\t\t\tif (result==\"/path/pathname\"){\r\n\t\t\t\t\t\td.callback(true);\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\td.errback(new Error(\"Unexpected Return Value: \", result));\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\r\n\t\t\t\treturn d;\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t{\r\n\t\t\tname: \"#4.1 GET,URL,Ordered Parameters\",\r\n\t\t\ttimeout: 4000,\r\n\t\t\tsetUp: function(){\r\n\t\t\t\t//this.svc = new dojox.rpc.Service(dojox.rpc.tests.resources.testSmd);\r\n\t\t\t\tthis.svc = dojox.rpc.tests.service;\r\n\t\t\t},\r\n\t\t\trunTest: function(){\r\n\t\t\t\tvar d = new doh.Deferred();\r\n\r\n\t\t\t\tif (window.location.protocol==\"file:\") {\r\n\t\t\t\t\tvar err= new Error(\"This Test requires a webserver and will fail intentionally if loaded from file://\");\r\n\t\t\t\t\td.errback(err);\r\n\t\t\t\t\treturn d;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t//test when given named params\r\n\t\t\t\tvar td = this.svc.getEcho(this.name);\r\n\t\t\t\ttd.addCallback(this, function(result){\r\n\t\t\t\t\tif (result==this.name){\r\n\t\t\t\t\t\td.callback(true);\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\td.errback(new Error(\"Unexpected Return Value: \", result));\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\r\n\t\t\t\treturn d;\r\n\t\t\t}\r\n\t\t},\r\n\t\t{\r\n\t\t\tname: \"#4.2 Namespaced GET,URL,Ordered Parameters\",\r\n\t\t\ttimeout: 4000,\r\n\t\t\tsetUp: function(){\r\n\t\t\t\t//this.svc = new dojox.rpc.Service(dojox.rpc.tests.resources.testSmd);\r\n\t\t\t\tthis.svc = dojox.rpc.tests.service;\r\n\t\t\t},\r\n\t\t\trunTest: function(){\r\n\t\t\t\tvar d = new doh.Deferred();\r\n\r\n\t\t\t\tif (window.location.protocol==\"file:\") {\r\n\t\t\t\t\tvar err= new Error(\"This Test requires a webserver and will fail intentionally if loaded from file://\");\r\n\t\t\t\t\td.errback(err);\r\n\t\t\t\t\treturn d;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t//test when given named params\r\n\t\t\t\tvar td = this.svc.namespace.getEcho(this.name);\r\n\t\t\t\ttd.addCallback(this, function(result){\r\n\t\t\t\t\tif (result==this.name){\r\n\t\t\t\t\t\td.callback(true);\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\td.errback(new Error(\"Unexpected Return Value: \", result));\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\r\n\t\t\t\treturn d;\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t{\r\n\t\t\tname: \"#5 POST,URL,Named Parameters\",\r\n\t\t\ttimeout: 4000,\r\n\t\t\tsetUp: function(){\r\n\t\t\t\t//this.svc = new dojox.rpc.Service(dojox.rpc.tests.resources.testSmd);\r\n\t\t\t\tthis.svc = dojox.rpc.tests.service;\r\n\t\t\t},\r\n\t\t\trunTest: function(){\r\n\t\t\t\tvar d = new doh.Deferred();\r\n\r\n\t\t\t\tif (window.location.protocol==\"file:\") {\r\n\t\t\t\t\tvar err= new Error(\"This Test requires a webserver and will fail intentionally if loaded from file://\");\r\n\t\t\t\t\td.errback(err);\r\n\t\t\t\t\treturn d;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t//test when given named params\r\n\t\t\t\tvar td = this.svc.postJsonEcho({message: this.name});\r\n\t\t\t\ttd.addCallback(this, function(result){\r\n\t\t\t\t\tif (result && result.message && result.message==this.name){\r\n\t\t\t\t\t\td.callback(true);\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\td.errback(new Error(\"Unexpected Return Value: \", result));\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\r\n\t\t\t\treturn d;\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t{\r\n\t\t\tname: \"#6 POST,JSON,Ordered Parameters\",\r\n\t\t\ttimeout: 4000,\r\n\t\t\tsetUp: function(){\r\n\t\t\t\t//this.svc = new dojox.rpc.Service(dojox.rpc.tests.resources.testSmd);\r\n\t\t\t\tthis.svc = dojox.rpc.tests.service;\r\n\t\t\t},\r\n\t\t\trunTest: function(){\r\n\t\t\t\tvar d = new doh.Deferred();\r\n\r\n\t\t\t\tif (window.location.protocol==\"file:\") {\r\n\t\t\t\t\tvar err= new Error(\"This Test requires a webserver and will fail intentionally if loaded from file://\");\r\n\t\t\t\t\td.errback(err);\r\n\t\t\t\t\treturn d;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t//test when given named params\r\n\t\t\t\tvar td = this.svc.postJsonEcho(this.name);\r\n\t\t\t\ttd.addCallback(this, function(result){\r\n\t\t\t\t\tif (result && result[0] && result[0]==this.name){\r\n\t\t\t\t\t\td.callback(true);\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\td.errback(new Error(\"Unexpected Return Value: \", result));\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\r\n\t\t\t\treturn d;\r\n\t\t\t}\r\n\t\t},\r\n\t\t{\r\n\t\t\tname: \"#7 JSONP,URL,Named Parameters\",\r\n\t\t\ttimeout: 4000,\r\n\t\t\tsetUp: function(){\r\n\t\t\t\t//this.svc = new dojox.rpc.Service(dojox.rpc.tests.resources.testSmd);\r\n\t\t\t\tthis.svc = dojox.rpc.tests.service;\r\n\t\t\t},\r\n\t\t\trunTest: function(){\r\n\t\t\t\tvar d = new doh.Deferred();\r\n\r\n\t\t\t\tif (window.location.protocol==\"file:\") {\r\n\t\t\t\t\tvar err= new Error(\"This Test requires a webserver and will fail intentionally if loaded from file://\");\r\n\t\t\t\t\td.errback(err);\r\n\t\t\t\t\treturn d;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t//test when given named params\r\n\t\t\t\tvar td = this.svc.jsonpEcho({message: this.name});\r\n\t\t\t\ttd.addCallback(this, function(result){\r\n\t\t\t\t\tif (result==this.name){\r\n\t\t\t\t\t\td.callback(true);\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\td.errback(new Error(\"Unexpected Return Value: \", result));\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\r\n\t\t\t\treturn d;\r\n\t\t\t}\r\n\t\t},\r\n\t\t{\r\n\t\t\tname: \"#8 JSONP,URL, Ordered Parameters\",\r\n\t\t\ttimeout: 4000,\r\n\t\t\tsetUp: function(){\r\n\t\t\t\t//this.svc = new dojox.rpc.Service(dojox.rpc.tests.resources.testSmd);\r\n\t\t\t\tthis.svc = dojox.rpc.tests.service;\r\n\t\t\t},\r\n\t\t\trunTest: function(){\r\n\t\t\t\tvar d = new doh.Deferred();\r\n\r\n\t\t\t\tif (window.location.protocol==\"file:\") {\r\n\t\t\t\t\tvar err= new Error(\"This Test requires a webserver and will fail intentionally if loaded from file://\");\r\n\t\t\t\t\td.errback(err);\r\n\t\t\t\t\treturn d;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t//test when given named params\r\n\t\t\t\tvar td = this.svc.jsonpEcho(this.name);\r\n\t\t\t\ttd.addCallback(this, function(result){\r\n\t\t\t\t\tif (result==this.name){\r\n\t\t\t\t\t\td.callback(true);\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\td.errback(new Error(\"Unexpected Return Value: \", result));\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\r\n\t\t\t\treturn d;\r\n\t\t\t}\r\n\t\t},\r\n\t\t{\r\n\t\t\tname: \"#9 POST,JSON-RPC-1.0,Ordered Parameters\",\r\n\t\t\ttimeout: 4000,\r\n\t\t\tsetUp: function(){\r\n\t\t\t\t//this.svc = new dojox.rpc.Service(dojox.rpc.tests.resources.testSmd);\r\n\t\t\t\tthis.svc = dojox.rpc.tests.service;\r\n\t\t\t},\r\n\t\t\trunTest: function(){\r\n\t\t\t\tvar d = new doh.Deferred();\r\n\r\n\t\t\t\tif (window.location.protocol==\"file:\") {\r\n\t\t\t\t\tvar err= new Error(\"This Test requires a webserver and will fail intentionally if loaded from file://\");\r\n\t\t\t\t\td.errback(err);\r\n\t\t\t\t\treturn d;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t//test when given named params\r\n\t\t\t\tvar td = this.svc.postJsonRpc10Echo(this.name);\r\n\t\t\t\ttd.addCallback(this, function(result){\r\n\t\t\t\t\tif (result==this.name){\r\n\t\t\t\t\t\td.callback(true);\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\td.errback(new Error(\"Unexpected Return Value: \", result));\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\r\n\t\t\t\treturn d;\r\n\t\t\t}\r\n\t\t},\r\n\t\t{\r\n\t\t\tname: \"#10 POST,JSON-RPC-1.0,Named Parameters\",\r\n\t\t\ttimeout: 4000,\r\n\t\t\tsetUp: function(){\r\n\t\t\t\t//this.svc = new dojox.rpc.Service(dojox.rpc.tests.resources.testSmd);\r\n\t\t\t\tthis.svc = dojox.rpc.tests.service;\r\n\t\t\t},\r\n\t\t\trunTest: function(){\r\n\t\t\t\tvar d = new doh.Deferred();\r\n\r\n\t\t\t\tif (window.location.protocol==\"file:\") {\r\n\t\t\t\t\tvar err= new Error(\"This Test requires a webserver and will fail intentionally if loaded from file://\");\r\n\t\t\t\t\td.errback(err);\r\n\t\t\t\t\treturn d;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t//test when given named params\r\n\t\t\t\tvar td = this.svc.postJsonRpc10EchoNamed(this.name);\r\n\t\t\t\ttd.addCallback(this, function(result){\r\n\t\t\t\t\tif (result==this.name){\r\n\t\t\t\t\t\td.callback(true);\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\td.errback(new Error(\"Unexpected Return Value: \", result));\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\r\n\t\t\t\treturn d;\r\n\t\t\t}\r\n\t\t},\r\n\t\t{\r\n\t\t\tname: \"#11 POST,JSON-RPC 2.0, Ordered Parameters\",\r\n\t\t\ttimeout: 4000,\r\n\t\t\tsetUp: function(){\r\n\t\t\t\t//this.svc = new dojox.rpc.Service(dojox.rpc.tests.resources.testSmd);\r\n\t\t\t\tthis.svc = dojox.rpc.tests.service;\r\n\t\t\t},\r\n\t\t\trunTest: function(){\r\n\t\t\t\tvar d = new doh.Deferred();\r\n\r\n\t\t\t\tif (window.location.protocol==\"file:\") {\r\n\t\t\t\t\tvar err= new Error(\"This Test requires a webserver and will fail intentionally if loaded from file://\");\r\n\t\t\t\t\td.errback(err);\r\n\t\t\t\t\treturn d;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t//test when given named params\r\n\t\t\t\tvar td = this.svc.postJsonRpc12Echo(this.name);\r\n\t\t\t\ttd.addCallback(this, function(result){\r\n\t\t\t\t\tif (result==this.name){\r\n\t\t\t\t\t\td.callback(true);\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\td.errback(new Error(\"Unexpected Return Value: \", result));\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\r\n\t\t\t\treturn d;\r\n\t\t\t}\r\n\t\t},\r\n\t\t{\r\n\t\t\tname: \"#12 POST,JSON-RPC 2.0, Named Parameters\",\r\n\t\t\ttimeout: 4000,\r\n\t\t\tsetUp: function(){\r\n\t\t\t\t//this.svc = new dojox.rpc.Service(dojox.rpc.tests.resources.testSmd);\r\n\t\t\t\tthis.svc = dojox.rpc.tests.service;\r\n\t\t\t},\r\n\t\t\trunTest: function(){\r\n\t\t\t\tvar d = new doh.Deferred();\r\n\r\n\t\t\t\tif (window.location.protocol==\"file:\") {\r\n\t\t\t\t\tvar err= new Error(\"This Test requires a webserver and will fail intentionally if loaded from file://\");\r\n\t\t\t\t\td.errback(err);\r\n\t\t\t\t\treturn d;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t//test when given named params\r\n\t\t\t\tvar td = this.svc.postJsonRpc12Echo({message: this.name});\r\n\t\t\t\ttd.addCallback(this, function(result){\r\n\t\t\t\t\tif (result==this.name){\r\n\t\t\t\t\t\td.callback(true);\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\td.errback(new Error(\"Unexpected Return Value: \", result));\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\r\n\t\t\t\treturn d;\r\n\t\t\t}\r\n\t\t}\r\n\t/*\r\n\t\t,{\r\n\t\t\tname: \"#13 GET,JSON-RPC 2.0, Ordered Parameters\",\r\n\t\t\ttimeout: 4000,\r\n\t\t\tsetUp: function(){\r\n\t\t\t\t//this.svc = new dojox.rpc.Service(dojox.rpc.tests.resources.testSmd);\r\n\t\t\t\tthis.svc = dojox.rpc.tests.service;\r\n\t\t\t},\r\n\t\t\trunTest: function(){\r\n\t\t\t\tvar d = new doh.Deferred();\r\n\r\n\t\t\t\tif (window.location.protocol==\"file:\") {\r\n\t\t\t\t\tvar err= new Error(\"This Test requires a webserver and will fail intentionally if loaded from file://\");\r\n\t\t\t\t\td.errback(err);\r\n\t\t\t\t\treturn d;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t//test when given named params\r\n\t\t\t\tvar td = this.svc.getJsonRpc12Echo(this.name);\r\n\t\t\t\ttd.addCallback(this, function(result){\r\n\t\t\t\t\tif (result==this.name){\r\n\t\t\t\t\t\td.callback(true);\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\td.errback(new Error(\"Unexpected Return Value: \", result));\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\r\n\t\t\t\treturn d;\r\n\t\t\t}\r\n\t\t},\r\n\t\t{\r\n\t\t\tname: \"#14 GET,JSON-RPC 2.0, Named Parameters\",\r\n\t\t\ttimeout: 4000,\r\n\t\t\tsetUp: function(){\r\n\t\t\t\t//this.svc = new dojox.rpc.Service(dojox.rpc.tests.resources.testSmd);\r\n\t\t\t\tthis.svc = dojox.rpc.tests.service;\r\n\t\t\t},\r\n\t\t\trunTest: function(){\r\n\t\t\t\tvar d = new doh.Deferred();\r\n\r\n\t\t\t\tif (window.location.protocol==\"file:\") {\r\n\t\t\t\t\tvar err= new Error(\"This Test requires a webserver and will fail intentionally if loaded from file://\");\r\n\t\t\t\t\td.errback(err);\r\n\t\t\t\t\treturn d;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t//test when given named params\r\n\t\t\t\tvar td = this.svc.getJsonRpc12EchoNamed({message: this.name});\r\n\t\t\t\ttd.addCallback(this, function(result){\r\n\t\t\t\t\tif (result==this.name){\r\n\t\t\t\t\t\td.callback(true);\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\td.errback(new Error(\"Unexpected Return Value: \", result));\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\r\n\t\t\t\treturn d;\r\n\t\t\t}\r\n\t\t},\r\n\t\t,{\r\n\t\t\tname: \"#15 JSONP,JSON-RPC 2.0, Ordered Parameters\",\r\n\t\t\ttimeout: 4000,\r\n\t\t\tsetUp: function(){\r\n\t\t\t\t//this.svc = new dojox.rpc.Service(dojox.rpc.tests.resources.testSmd);\r\n\t\t\t\tthis.svc = dojox.rpc.tests.service;\r\n\t\t\t},\r\n\t\t\trunTest: function(){\r\n\t\t\t\tvar d = new doh.Deferred();\r\n\r\n\t\t\t\tif (window.location.protocol==\"file:\") {\r\n\t\t\t\t\tvar err= new Error(\"This Test requires a webserver and will fail intentionally if loaded from file://\");\r\n\t\t\t\t\td.errback(err);\r\n\t\t\t\t\treturn d;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t//test when given named params\r\n\t\t\t\tvar td = this.svc.jsonpJsonRpc12Echo(this.name);\r\n\t\t\t\ttd.addCallback(this, function(result){\r\n\t\t\t\t\tif (result==this.name){\r\n\t\t\t\t\t\td.callback(true);\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\td.errback(new Error(\"Unexpected Return Value: \", result));\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\r\n\t\t\t\treturn d;\r\n\t\t\t}\r\n\t\t}\r\n\t\t*/\r\n\t]\r\n);\r\n\r\ndoh.register(\"dojox.rpc.tests.jsonRpcForcedError\", [\r\n\t\t{\r\n\t\t\tname: \"POST,JSON-RPC 1.0, Ordered Parameters\",\r\n\t\t\ttimeout: 4000,\r\n\t\t\tsetUp: function(){\r\n\t\t\t\t//this.svc = new dojox.rpc.Service(dojox.rpc.tests.resources.testSmd);\r\n\t\t\t\tthis.svc = dojox.rpc.tests.service;\r\n\t\t\t},\r\n\t\t\trunTest: function(){\r\n\t\t\t\tvar d = new doh.Deferred();\r\n\r\n\t\t\t\tif (window.location.protocol==\"file:\") {\r\n\t\t\t\t\tvar err= new Error(\"This Test requires a webserver and will fail intentionally if loaded from file://\");\r\n\t\t\t\t\td.errback(err);\r\n\t\t\t\t\treturn d;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t//test when given named params\r\n\t\t\t\tvar td = this.svc.postJsonRpc10ForcedError(this.name);\r\n\r\n\t\t\t\ttd.addErrback(this, function(error){\r\n\t\t\t\t\td.callback(true);\r\n\t\t\t\t});\r\n\r\n\t\t\t\treturn d;\r\n\t\t\t}\r\n\t\t},\r\n\t\t{\r\n\t\t\tname: \"POST,JSON-RPC 2.0, Ordered Parameters\",\r\n\t\t\ttimeout: 4000,\r\n\t\t\tsetUp: function(){\r\n\t\t\t\t//this.svc = new dojox.rpc.Service(dojox.rpc.tests.resources.testSmd);\r\n\t\t\t\tthis.svc = dojox.rpc.tests.service;\r\n\t\t\t},\r\n\t\t\trunTest: function(){\r\n\t\t\t\tvar d = new doh.Deferred();\r\n\r\n\t\t\t\tif (window.location.protocol==\"file:\") {\r\n\t\t\t\t\tvar err= new Error(\"This Test requires a webserver and will fail intentionally if loaded from file://\");\r\n\t\t\t\t\td.errback(err);\r\n\t\t\t\t\treturn d;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t//test when given named params\r\n\t\t\t\tvar td = this.svc.postJsonRpc12ForcedError(this.name);\r\n\r\n\t\t\t\ttd.addErrback(this, function(error){\r\n\t\t\t\t\td.callback(true);\r\n\t\t\t\t});\r\n\r\n\t\t\t\treturn d;\r\n\t\t\t}\r\n\t\t},\r\n\t\t{\r\n\t\t\tname: \"POST,JSON-RPC 2.0, Named Parameters\",\r\n\t\t\ttimeout: 4000,\r\n\t\t\tsetUp: function(){\r\n\t\t\t\t//this.svc = new dojox.rpc.Service(dojox.rpc.tests.resources.testSmd);\r\n\t\t\t\tthis.svc = dojox.rpc.tests.service;\r\n\t\t\t},\r\n\t\t\trunTest: function(){\r\n\t\t\t\tvar d = new doh.Deferred();\r\n\r\n\t\t\t\tif (window.location.protocol==\"file:\") {\r\n\t\t\t\t\tvar err= new Error(\"This Test requires a webserver and will fail intentionally if loaded from file://\");\r\n\t\t\t\t\td.errback(err);\r\n\t\t\t\t\treturn d;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t//test when given named params\r\n\t\t\t\tvar td = this.svc.postJsonRpc12ForcedError({message: this.name});\r\n\r\n\t\t\t\ttd.addErrback(this, function(error){\r\n\t\t\t\t\td.callback(true);\r\n\t\t\t\t});\r\n\r\n\t\t\t\treturn d;\r\n\t\t\t}\r\n\t\t}\r\n]);\r\n"]}