{"version":3,"sources":["math/tests/stats.js"],"names":["dojo","provide","require","eq","t","a","b","isNaN","delta","Math","abs","a1","a2","a3","tests","register","assertEqual","dojox","math","stats","sd","variance","mean","min","max","median","mode","sum","points","x","y","result","bestFit","console","log","round","slope","intercept","r2","r","forecast","approxLin","s","summary","p10","p25","med","p75","p90"],"mappings":"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","file":"../../../math/tests/stats.js","sourcesContent":["dojo.provide(\"dojox.math.tests.stats\");\r\ndojo.require(\"dojox.math.stats\");\r\n\r\n(function(){\r\n\tvar epsilon = 1e-6;\r\n\t\teq = function(t, a, b){\r\n\t\t\tt.t(!isNaN(a) && ! isNaN(b));\r\n\t\t\tvar delta = Math.abs((a - b) / (a + b));\r\n\t\t\tt.t(isNaN(delta) || delta < epsilon);\r\n\t\t},\r\n\t\ta1 = [1, 2, 1],\r\n\t\ta2 = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20];\r\n\t\ta3 = [0, 5, 4, 5, 8, 20, 21, 20, 20, 8, 9, 15, 12, 11, 18, 7, 19, 13, 13, 4];\r\n\ttests.register(\"dojox.math.stats.tests\", [\r\n\t\tfunction sd(t){\r\n\t\t\tt.assertEqual(6.335613624582861, dojox.math.stats.sd(a3));\r\n\t\t},\r\n\t\tfunction variance(t){\r\n\t\t\tt.assertEqual(40.139999999999986, dojox.math.stats.variance(a3));\r\n\t\t},\r\n\t\tfunction mean(t){\r\n\t\t\tt.assertEqual(11.6, dojox.math.stats.mean(a3));\r\n\t\t},\r\n\t\tfunction min(t){\r\n\t\t\tt.assertEqual(0, dojox.math.stats.min(a3));\r\n\t\t},\r\n\t\tfunction max(t){\r\n\t\t\tt.assertEqual(21, dojox.math.stats.max(a3));\r\n\t\t},\r\n\t\tfunction median(t){\r\n\t\t\tt.assertEqual(12, dojox.math.stats.median(a3));\r\n\t\t},\r\n\t\tfunction mode(t){\r\n\t\t\tt.assertEqual(20, dojox.math.stats.mode(a3));\r\n\t\t},\r\n\t\tfunction sum(t){\r\n\t\t\tt.assertEqual(232, dojox.math.stats.sum(a3));\r\n\t\t}\r\n\t]);\r\n\r\n\tvar points = [\r\n\t\t{x:1, y:42}, {x:1, y:7}, {x:2, y:17}, {x:4, y:41},\r\n\t\t{x:5, y:60}, {x:7, y:19}, {x:7, y:16}, {x:8, y:15},\r\n\t\t{x:10, y:29}, {x:11, y:1}, {x:12, y:10}, {x:13, y:22},\r\n\t\t{x:13, y:16}, {x:14, y:29}, {x:20, y:37}, {x:21, y:10},\r\n\t\t{x:21, y:60}, {x:22, y:4}, {x:22, y:33}, {x:25, y:52},\r\n\t\t{x:25, y:32}, {x:25, y:18}, {x:27, y:46}, {x:28, y:2},\r\n\t\t{x:28, y:56}, {x:29, y:12}, {x:32, y:53}, {x:32, y:14},\r\n\t\t{x:36, y:18}, {x:37, y:23}, {x:38, y:18}, {x:45, y:37},\r\n\t\t{x:48, y:43}, {x:50, y:9}, {x:53, y:48}, {x:55, y:60},\r\n\t\t{x:55, y:28}, {x:57, y:19}, {x:58, y:48}, {x:58, y:29}\r\n\t];\r\n\ttests.register(\"dojox.math.stats.tests.bestFit\", [\r\n\t\tfunction bf(t){\r\n\t\t\tvar result = dojox.math.stats.bestFit(points);\r\n\t\t\tconsole.log(result);\r\n\t\t\tt.assertEqual(0.208, Math.round(result.slope*1000)/1000);\r\n\t\t\tt.assertEqual(22.829, Math.round(result.intercept*1000)/1000);\r\n\t\t\tt.assertEqual(0.045, Math.round(result.r2*1000)/1000);\r\n\t\t\tt.assertEqual(0.212, Math.round(result.r*1000)/1000);\r\n\t\t}\r\n\t]);\r\n\ttests.register(\"dojox.math.stats.tests.forecast\", [\r\n\t\tfunction _42(t){\r\n\t\t\tt.assertEqual(31.580951899655346, dojox.math.stats.forecast(points, 42));\r\n\t\t},\r\n\t\tfunction _54(t){\r\n\t\t\tt.assertEqual(34.08152295859065, dojox.math.stats.forecast(points, 54));\r\n\t\t},\r\n\t\tfunction _201(t){\r\n\t\t\tt.assertEqual(64.71351843054812, dojox.math.stats.forecast(points, 201));\r\n\t\t}\r\n\t]);\r\n\ttests.register(\"dojox.math.stats.tests.approx\", [\r\n\t\tfunction approx1(t){ eq(t, dojox.math.stats.approxLin(a1, 0), 1); },\r\n\t\tfunction approx2(t){ eq(t, dojox.math.stats.approxLin(a1, 0.5), 2); },\r\n\t\tfunction approx3(t){ eq(t, dojox.math.stats.approxLin(a1, 1), 1); },\r\n\t\tfunction approx4(t){ eq(t, dojox.math.stats.approxLin(a1, 0.25), 1.5); },\r\n\t\tfunction approx5(t){ eq(t, dojox.math.stats.approxLin(a1, 0.75), 1.5); },\r\n\t\tfunction approx6(t){ eq(t, dojox.math.stats.approxLin(a1, 0.1), 1.2); },\r\n\t\tfunction summary1(t){\r\n\t\t\tvar s = dojox.math.stats.summary(a1);\r\n\t\t\teq(t, s.min, 1);\r\n\t\t\teq(t, s.p10, 1);\r\n\t\t\teq(t, s.p25, 1);\r\n\t\t\teq(t, s.med, 1);\r\n\t\t\teq(t, s.p75, 1.5);\r\n\t\t\teq(t, s.p90, 1.8);\r\n\t\t\teq(t, s.max, 2);\r\n\t\t},\r\n\t\tfunction summary2(t){\r\n\t\t\tvar s = dojox.math.stats.summary(a2, true);\r\n\t\t\teq(t, s.min, 0);\r\n\t\t\teq(t, s.p10, 2);\r\n\t\t\teq(t, s.p25, 5);\r\n\t\t\teq(t, s.med, 10);\r\n\t\t\teq(t, s.p75, 15);\r\n\t\t\teq(t, s.p90, 18);\r\n\t\t\teq(t, s.max, 20);\r\n\t\t}\r\n\t]);\r\n})();\r\n"]}