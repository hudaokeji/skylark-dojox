{"version":3,"sources":["gfx/filters.js"],"names":["define","lang","array","filters","defaultFilterBBox","x","y","width","height","lib","createFilter","args","primitives","filter","mixin","Array","prototype","push","apply","_createFePrimitive","tag","children","fe","forEach","feMerge","toMerge","i","arguments","length","feMergeNode","in","convolutions","_gfxName","feConvolveMatrix","order","divisor","kernelMatrix","filterUnits","result","feComponentTransfer","feFuncA","type","tableValues","f","shadows","feColorMatrix","values","feOffset","dx","dy","feGaussianBlur","stdDeviation","slope","defaultDropShadowBBox","category","blurs","colors","feFuncR","feFuncG","feFuncB","intercept","miscs","feSpecularLighting","surfaceScale","specularConstant","specularExponent","fePointLight","z","feComposite","in2","operator","k1","k2","k3","k4","lighting-color","feTurbulence","baseFrequency","numOctaves","feDisplacementMap","scale","xChannelSelector","yChannelSelector","feMorphology","radius","reliefs","feDiffuseLighting","feDistantLight","azimuth","elevation","textures","diffuseConstant","hasOwnProperty","cat","delegate"],"mappings":"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","file":"../../gfx/filters.js","sourcesContent":["define([\r\n\t\"dojo/_base/lang\",\r\n\t\"dojo/_base/array\"\r\n], function(lang, array){\r\n\r\n\t/*=====\r\n\treturn {\r\n\t// summary:\r\n\t//\t\tA module that defines a minimal API to create SVG filter definition objects to be used with the\r\n\t//\t\tdojox/gfx/svgext/Shape.setFilter() API, as well as a set of predefined filters.\r\n\t// description:\r\n\t//\t\tThe module defines the following API:\r\n\t//\t\t- filters.createFilter(config, primitives) : Creates a filter object from the specified config and the\r\n\t//\t\tgiven filter primitives.\r\n\t//\t\t- a set of methods to create the corresponding SVG filter primitives, based on the same\r\n\t//\t\tnaming as the specification (e.g. filters.feGaussianBlur() ). A filter primitive method follows the\r\n\t//\t\tfollowing signature (taking feGaussianBlur as an example):\r\n\t//\t\t\tfilters.feGaussianBlur(properties, children?)\r\n\t//\t\t\tfilters.feGaussianBlur(children)\r\n\t//\t\tThe \"properties\" parameter must define the primitive attributes as defined by the specification.\r\n\t//\t\tThe \"children\" array parameter is an array of child filter primitives.\r\n\t//\t\tIn addition to this API, the module provides the following predefined filters:\r\n\t//\t\t- filters.convolutions.boxBlur3,\r\n\t//\t\t- filters.convolutions.boxBlur5,\r\n\t//\t\t- filters.convolutions.verticalEdges,\r\n\t//\t\t- filters.convolutions.horizontalEdges,\r\n\t//\t\t- filters.convolutions.allEdges3,\r\n\t//\t\t- filters.convolutions.edgeEnhance,\r\n\t//\t\t- filters.shadows.fastSmallDropShadow,\r\n\t//\t\t- filters.shadows.fastDropShadow,\r\n\t//\t\t- filters.shadows.fastDropShadowLight,\r\n\t//\t\t- filters.shadows.dropShadow,\r\n\t//\t\t- filters.shadows.dropShadowLight,\r\n\t//\t\t- filters.shadows.smallDropShadow,\r\n\t//\t\t- filters.shadows.smallDropShadowLight,\r\n\t//\t\t- filters.blurs.blur1,\r\n\t//\t\t- filters.blurs.blur2,\r\n\t//\t\t- filters.blurs.blur4,\r\n\t//\t\t- filters.blurs.blur8,\r\n\t//\t\t- filters.blurs.glow,\r\n\t//\t\t- filters.colors.negate,\r\n\t//\t\t- filters.colors.sepia,\r\n\t//\t\t- filters.colors.grayscale,\r\n\t//\t\t- filters.colors.showRed,\r\n\t//\t\t- filters.colors.showGreen,\r\n\t//\t\t- filters.colors.showBlue,\r\n\t//\t\t- filters.colors.hueRotate60,\r\n\t//\t\t- filters.colors.hueRotate120,\r\n\t//\t\t- filters.colors.hueRotate180,\r\n\t//\t\t- filters.colors.hueRotate270,\r\n\t//\t\t- filters.miscs.thinEmbossDropShadow,\r\n\t//\t\t- filters.miscs.embossDropShadow,\r\n\t//\t\t- filters.miscs.largeEmbossDropShadow,\r\n\t//\t\t- filters.miscs.thinEmbossDropShadowLight,\r\n\t//\t\t- filters.miscs.embossDropShadowLight,\r\n\t//\t\t- filters.miscs.largeEmbossDropShadowLight,\r\n\t//\t\t- filters.miscs.fuzzy,\r\n\t//\t\t- filters.miscs.veryFuzzy,\r\n\t//\t\t- filters.miscs.melting,\r\n\t//\t\t- filters.miscs.impressionist,\r\n\t//\t\t- filters.miscs.holes,\r\n\t//\t\t- filters.miscs.holesComplement,\r\n\t//\t\t- filters.reliefs.bumpIn,\r\n\t//\t\t- filters.reliefs.bumpOut,\r\n\t//\t\t- filters.reliefs.thinEmboss,\r\n\t//\t\t- filters.reliefs.emboss,\r\n\t//\t\t- filters.reliefs.largeEmboss,\r\n\t//\t\t- filters.textures.paper,\r\n\t//\t\t- filters.textures.swirl,\r\n\t//\t\t- filters.textures.swirl2,\r\n\t//\t\t- filters.textures.gold\r\n\t//\t\tNote: the dojox/gfx/tests/test_filter.html test shows the rendering of all the predefined filters.\r\n\t}\r\n\t=====*/\r\n\r\n\tvar filters = {}, defaultFilterBBox = {x:\"0%\", y:\"0%\", width:\"100%\", height:\"100%\"}, lib = {};\r\n\r\n\t//\r\n\t// A minimal facade API to create primitives\r\n\t//\r\n\r\n\tfilters.createFilter = function(/*Object*/args, /*Array*/primitives){\r\n\t\t// summary:\r\n\t\t//\t\tCreates a filter with the specified primitives.\r\n\t\t// description:\r\n\t\t//\t\tThis function creates a new filter object configured with the optional 'args' parameter, and\r\n\t\t//\t\tadds the filter primitives specified in the 'primitives' array'. The dojox/gfx/filters module\r\n\t\t//\t\tprovides convenient methods to create the corresponding SVG filter primitives, based on the same\r\n\t\t//\t\tnaming as the specification (e.g. filters.feGaussianBlur() ).\r\n\t\t//\t\tA filter primitive method follows the following signature (taking feGaussianBlur as an example):\r\n\t\t//\t\t\tfilters.feGaussianBlur(/*Object*/properties, /*Array?*/children)\r\n\t\t//\t\t\tfilters.feGaussianBlur(/*Array?*/children)\r\n\t\t//\t\tThe \"properties\" parameter must define the primitive attributes as defined by the specification.\r\n\t\t//\t\tThe optional \"children\" array parameter is an array of child filter primitives.\r\n\t\t// args: Object\r\n\t\t//\t\tThe configuration object for the filter.\r\n\t\t// primitives: Array\r\n\t\t//\t\tAn array of primitives object.\r\n\r\n\t\tvar filter = lang.mixin({}, defaultFilterBBox, args);\r\n\t\tif(!filter.primitives){\r\n\t\t\tfilter.primitives = [];\r\n\t\t}\r\n\t\tif(primitives){\r\n\t\t\tArray.prototype.push.apply(filter.primitives, primitives);\r\n\t\t}\r\n\t\treturn filter; /*Object*/\r\n\t};\r\n\r\n\tvar _createFePrimitive = function(tag, args, children){\r\n\t\tif(args instanceof Array){\r\n\t\t\tchildren = args;\r\n\t\t\targs = null;\r\n\t\t}\r\n\t\tvar fe = lang.mixin({}, args);\r\n\t\tfe.children = children;\r\n\t\tfe.tag = tag;\r\n\t\treturn fe;\r\n\t};\r\n\tvar _createFeMerge = function(args, children){\r\n\t\tif(typeof args === \"string\"){\r\n\t\t\t// list of primitives to merge via the 'in' property\r\n\t\t\tvar toMerge = [];\r\n\t\t\tfor(var i=0; i<arguments.length; ++i){\r\n\t\t\t\ttoMerge.push(filters.feMergeNode({\"in\":arguments[i]}));\r\n\t\t\t}\r\n\t\t\treturn _createFePrimitive(\"feMerge\", {}, toMerge);\r\n\t\t}\r\n\t\treturn _createFePrimitive(\"feMerge\", args, children);\r\n\t};\r\n\r\n\tarray.forEach([\"feBlend\", \"feColorMatrix\", \"feComponentTransfer\", \"feComposite\", \"feConvolveMatrix\", \"feDiffuseLighting\",\r\n\t\t\"feDisplacementMap\", \"feFlood\", \"feGaussianBlur\", \"feImage\", \"feMorphology\", \"feOffset\", \"feSpecularLighting\",\r\n\t\t\"feTile\", \"feTurbulence\", \"feDistantLight\", \"fePointLight\", \"feSpotLight\", \"feMergeNode\", \"feFuncA\", \"feFuncR\",\r\n\t\t\"feFuncG\", \"feFuncB\"], function(fe){\r\n\t\tfilters[fe] = function(args, children){\r\n\t\t\treturn _createFePrimitive(fe, args, children);\r\n\t\t};\r\n\t});\r\n\t// special case for feMarge to ease syntax\r\n\tfilters.feMerge = _createFeMerge;\r\n\r\n\r\n\tvar createFilter = filters.createFilter;\r\n\r\n\t//\r\n\t// Convolution-based filters\r\n\t//\r\n\tlib.convolutions = [\r\n\t\tcreateFilter({_gfxName:\"boxBlur3\"}, [\r\n\t\t\tfilters.feConvolveMatrix({\r\n\t\t\t\t\"in\":\"SourceGraphic\",\"order\":3,\"divisor\":9,\"kernelMatrix\":\"1,1,1,1,1,1,1,1,1\"\r\n\t\t\t})\r\n\t\t]),\r\n\t\tcreateFilter({_gfxName:\"boxBlur5\"}, [\r\n\t\t\tfilters.feConvolveMatrix({\r\n\t\t\t\t\"in\":\"SourceGraphic\",\"order\":5,\"divisor\":25,\"kernelMatrix\":\"1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1\"\r\n\t\t\t})\r\n\t\t]),\r\n\t\tcreateFilter({_gfxName:\"verticalEdges\", filterUnits:\"objectBoundingBox\"}, [\r\n\t\t\tfilters.feConvolveMatrix({\r\n\t\t\t\t\"in\":\"SourceGraphic\",\"result\":\"kernel\",\"order\":3,\"divisor\":1,\"kernelMatrix\":\"-1 0 1 -1 0 1 -1 0 1\"\r\n\t\t\t}),\r\n\t\t\tfilters.feComponentTransfer({\r\n\t\t\t\t\"in\":\"kernel\"\r\n\t\t\t}, [\r\n\t\t\t\tfilters.feFuncA({\"type\":\"table\",\"tableValues\":\"1,1\"})\r\n\t\t\t])\r\n\t\t]),\r\n\t\tcreateFilter({_gfxName:\"horizontalEdges\", filterUnits:\"objectBoundingBox\"}, [\r\n\t\t\tfilters.feConvolveMatrix({\r\n\t\t\t\t\"in\":\"SourceGraphic\",\"result\":\"kernel\",\"order\":3,\"divisor\":1,\"kernelMatrix\":\"1 1 1 0 0 0 -1 -1 -1\"\r\n\t\t\t}),\r\n\t\t\tfilters.feComponentTransfer({\r\n\t\t\t\t\"in\":\"kernel\"\r\n\t\t\t}, [\r\n\t\t\t\tfilters.feFuncA({\"type\":\"table\",\"tableValues\":\"1,1\"})\r\n\t\t\t])\r\n\t\t]),\r\n\t\tcreateFilter({_gfxName:\"allEdges3\", filterUnits:\"objectBoundingBox\"}, [\r\n\t\t\tfilters.feConvolveMatrix({\r\n\t\t\t\t\"in\":\"SourceGraphic\",\"result\":\"kernel\",\"order\":3,\"divisor\":1,\"kernelMatrix\":\"-1 -1 -1 -1 8 -1 -1 -1 -1\"\r\n\t\t\t}),\r\n\t\t\tfilters.feComponentTransfer({\r\n\t\t\t\t\"in\":\"kernel\"\r\n\t\t\t},[\r\n\t\t\t\tfilters.feFuncA({\"type\":\"table\",\"tableValues\":\"1,1\"})\r\n\t\t\t])\r\n\t\t]),\r\n\t\tcreateFilter({_gfxName: \"edgeEnhance\", filterUnits:\"objectBoundingBox\"}, [\r\n\t\t\tfilters.feConvolveMatrix({\r\n\t\t\t\t\"in\": \"SourceGraphic\",\"result\": \"kernel\",\"order\": 3,\"divisor\": -1,\"kernelMatrix\": \"0 1 0 1 -5 1 0 1 0\"\r\n\t\t\t}),\r\n\t\t\tfilters.feComponentTransfer({\r\n\t\t\t\t\"in\": \"kernel\"\r\n\t\t\t},[\r\n\t\t\t\tfilters.feFuncA({\"type\":\"table\",\"tableValues\": \"1,1\"})\r\n\t\t\t])\r\n\t\t])\r\n\t];\r\n\tarray.forEach(lib.convolutions, function(f){\r\n\t\tlang.mixin(f, defaultFilterBBox);\r\n\t});\r\n\r\n\t//\r\n\t// Drop Shadow filters\r\n\t//\r\n\tlib.shadows = [\r\n\t\tcreateFilter({_gfxName:\"fastSmallDropShadow\"}, [\r\n\t\t\tfilters.feColorMatrix({\r\n\t\t\t\t\"in\":\"SourceAlpha\",\"type\":\"matrix\",\"result\":\"grey\",\r\n\t\t\t\t\"values\":\"0.2125,0.7154,0.0721,0,0,0.2125,0.7154,0.0721,0,0,0.2125,0.7154,0.0721,0,0,0,0,0,0.7,0\"\r\n\t\t\t}),\r\n\t\t\tfilters.feOffset({\"dx\":3,\"dy\":3,\"result\":\"offsetBlur\"}),\r\n\t\t\tfilters.feMerge(\"offsetBlur\", \"SourceGraphic\")\r\n\t\t]),\r\n\t\tcreateFilter({_gfxName:\"fastDropShadow\"}, [\r\n\t\t\tfilters.feColorMatrix({\r\n\t\t\t\t\"in\":\"SourceAlpha\",\"type\":\"matrix\",\"result\":\"grey\",\r\n\t\t\t\t\"values\":\"0.2125,0.7154,0.0721,0,0,0.2125,0.7154,0.0721,0,0,0.2125,0.7154,0.0721,0,0,0,0,0,0.7,0\"\r\n\t\t\t}),\r\n\t\t\tfilters.feOffset({\"dx\":5,\"dy\":5,\"result\":\"offsetBlur\"}),\r\n\t\t\tfilters.feMerge(\"offsetBlur\", \"SourceGraphic\")\r\n\t\t]),\r\n\t\tcreateFilter({_gfxName:\"fastDropShadowLight\"}, [\r\n\t\t\tfilters.feColorMatrix({\r\n\t\t\t\t\"in\":\"SourceAlpha\",\"type\":\"matrix\",\"result\":\"grey\",\r\n\t\t\t\t\"values\":\"0.2125,0.7154,0.0721,0,0,0.2125,0.7154,0.0721,0,0,0.2125,0.7154,0.0721,0,0,0,0,0,0.4,0\"\r\n\t\t\t}),\r\n\t\t\tfilters.feOffset({\"dx\":5,\"dy\":5,\"result\":\"offsetBlur\"}),\r\n\t\t\tfilters.feMerge(\"offsetBlur\", \"SourceGraphic\")\r\n\t\t]),\r\n\t\tcreateFilter({_gfxName:\"dropShadow\"}, [\r\n\t\t\tfilters.feGaussianBlur({\"in\":\"SourceAlpha\",\"stdDeviation\":4}),\r\n\t\t\tfilters.feOffset({\"dx\":5,\"dy\":5,\"result\":\"offsetBlur\"}),\r\n\t\t\tfilters.feMerge(\"offsetBlur\",\"SourceGraphic\")\r\n\t\t]),\r\n\t\tcreateFilter({_gfxName:\"dropShadowLight\"}, [\r\n\t\t\tfilters.feGaussianBlur({\"in\":\"SourceAlpha\",\"stdDeviation\":4,\"result\":\"blur\"}),\r\n\t\t\tfilters.feComponentTransfer({\r\n\t\t\t\t\"in\":\"blur\",\"result\":\"lessblur\"\r\n\t\t\t},[\r\n\t\t\t\tfilters.feFuncA({\"type\":\"linear\",\"slope\":0.5})\r\n\t\t\t]),\r\n\t\t\tfilters.feOffset({\"in\":\"lessblur\",\"dx\":5,\"dy\":5,\"result\":\"offsetBlur\"}),\r\n\t\t\tfilters.feMerge(\"offsetBlur\", \"SourceGraphic\")\r\n\t\t]),\r\n\t\tcreateFilter({_gfxName:\"smallDropShadow\"}, [\r\n\t\t\tfilters.feGaussianBlur({\"in\":\"SourceAlpha\",\"stdDeviation\":3}),\r\n\t\t\tfilters.feOffset({\"dx\":2,\"dy\":2,\"result\":\"offsetBlur\"}),\r\n\t\t\tfilters.feMerge(\"offsetBlur\", \"SourceGraphic\")\r\n\t\t]),\r\n\t\tcreateFilter({_gfxName:\"smallDropShadowLight\"}, [\r\n\t\t\tfilters.feGaussianBlur({\"in\":\"SourceAlpha\",\"stdDeviation\":3,\"result\":\"blur\"}),\r\n\t\t\tfilters.feComponentTransfer({\r\n\t\t\t\t\"in\":\"blur\",\"result\":\"lessblur\"\r\n\t\t\t},[\r\n\t\t\t\tfilters.feFuncA({\"type\":\"linear\",\"slope\":0.5})\r\n\t\t\t]),\r\n\t\t\tfilters.feOffset({\"in\":\"lessblur\",\"dx\":2,\"dy\":2,\"result\":\"offsetBlur\"}),\r\n\t\t\tfilters.feMerge(\"offsetBlur\",\"SourceGraphic\")\r\n\t\t])\r\n\t];\r\n\tvar defaultDropShadowBBox = {\r\n\t\tx:\"-10%\",\r\n\t\ty:\"-10%\",\r\n\t\twidth:\"125%\",\r\n\t\theight:\"125%\"\r\n\t};\r\n\tarray.forEach(lib.shadows, function(f){\r\n\t\tlang.mixin(f, defaultDropShadowBBox);\r\n\t});\r\n\r\n\t//\r\n\t// Blur effects\r\n\t//\r\n\tlib.blurs = [\r\n\t\tcreateFilter({\r\n\t\t\t_gfxName: \"blur1\",x:\"-5%\",y:\"-5%\",width:\"110%\",height:\"110%\"\r\n\t\t},[\r\n\t\t\tfilters.feGaussianBlur({\"in\":\"SourceGraphic\",stdDeviation:1})\r\n\t\t]),\r\n\t\tcreateFilter({\r\n\t\t\t_gfxName: \"blur2\",x:\"-15%\",y:\"-15%\",width:\"130%\",height:\"130%\"\r\n\t\t},[\r\n\t\t\tfilters.feGaussianBlur({\"in\": \"SourceGraphic\",\"stdDeviation\": 2})\r\n\t\t]),\r\n\t\tcreateFilter({\r\n\t\t\t_gfxName: \"blur4\",x:\"-15%\",y:\"-15%\",width:\"130%\",height:\"130%\"\r\n\t\t},[\r\n\t\t\tfilters.feGaussianBlur({\"in\": \"SourceGraphic\",\"stdDeviation\": 4})\r\n\t\t]),\r\n\t\tcreateFilter({\r\n\t\t\t_gfxName: \"blur8\",x:\"-20%\",y:\"-20%\",width:\"140%\",height:\"140%\"\r\n\t\t},[\r\n\t\t\tfilters.feGaussianBlur({\"in\": \"SourceGraphic\",\"stdDeviation\": 8})\r\n\t\t]),\r\n\t\tcreateFilter({\r\n\t\t\t_gfxName: \"glow\",x:\"-10%\",y:\"-10%\",width:\"120%\",height:\"120%\"\r\n\t\t},[\r\n\t\t\tfilters.feGaussianBlur({\"in\": \"SourceGraphic\",\"stdDeviation\": 2}),\r\n\t\t\tfilters.feComponentTransfer([\r\n\t\t\t\tfilters.feFuncA({\"type\":\"linear\",\"slope\":10})\r\n\t\t\t])\r\n\t\t])\r\n\t];\r\n\r\n\t//\r\n\t// Colors filters\r\n\t//\r\n\tlib.colors = [\r\n\t\tcreateFilter({_gfxName:\"negate\"}, [\r\n\t\t\tfilters.feComponentTransfer([\r\n\t\t\t\tfilters.feFuncR({\"type\":\"table\",\"tableValues\":\"1,0\"}),\r\n\t\t\t\tfilters.feFuncG({\"type\":\"table\",\"tableValues\":\"1,0\"}),\r\n\t\t\t\tfilters.feFuncB({\"type\":\"table\",\"tableValues\":\"1,0\"})\r\n\t\t\t])\r\n\t\t]),\r\n\t\tcreateFilter({_gfxName:\"sepia\"}, [\r\n\t\t\tfilters.feColorMatrix({\r\n\t\t\t\t\"result\":\"grey\",\r\n\t\t\t\t\"values\":\"0.2125,0.7154,0.0721,0,0,0.2125,0.7154,0.0721,0,0,0.2125,0.7154,0.0721,0,0,0,0,0,1,0\"\r\n\t\t\t}),\r\n\t\t\tfilters.feComponentTransfer({\r\n\t\t\t\t\"in\":\"grey\"\r\n\t\t\t},[\r\n\t\t\t\tfilters.feFuncR({\"type\":\"linear\",\"slope\":0.5,\"intercept\":0.5}),\r\n\t\t\t\tfilters.feFuncB({\"type\":\"table\",\"tableValues\":\"0,0\"})\r\n\t\t\t])\r\n\t\t]),\r\n\t\tcreateFilter({_gfxName:\"grayscale\"}, [\r\n\t\t\tfilters.feColorMatrix({\r\n\t\t\t\t\"values\":\"0.2125,0.7154,0.0721,0,0,0.2125,0.7154,0.0721,0,0,0.2125,0.7154,0.0721,0,0,0,0,0,1,0\"\r\n\t\t\t})\r\n\t\t]),\r\n\t\tcreateFilter({_gfxName:\"showRed\"}, [\r\n\t\t\tfilters.feComponentTransfer([\r\n\t\t\t\tfilters.feFuncG({\"type\":\"table\",\"tableValues\":\"0,0\"}),\r\n\t\t\t\tfilters.feFuncB({\"type\":\"table\",\"tableValues\":\"0,0\"})\r\n\t\t\t])\r\n\t\t]),\r\n\t\tcreateFilter({_gfxName:\"showGreen\"}, [\r\n\t\t\tfilters.feComponentTransfer([\r\n\t\t\t\tfilters.feFuncR({\"type\":\"table\",\"tableValues\":\"0,0\"}),\r\n\t\t\t\tfilters.feFuncB({\"type\":\"table\",\"tableValues\":\"0,0\"})\r\n\t\t\t])\r\n\t\t]),\r\n\t\tcreateFilter({_gfxName:\"showBlue\"}, [\r\n\t\t\tfilters.feComponentTransfer([\r\n\t\t\t\tfilters.feFuncR({\"type\":\"table\",\"tableValues\":\"0,0\"}),\r\n\t\t\t\tfilters.feFuncG({\"type\":\"table\",\"tableValues\":\"0,0\"})\r\n\t\t\t])\r\n\t\t]),\r\n\t\tcreateFilter({_gfxName:\"hueRotate60\"}, [\r\n\t\t\tfilters.feColorMatrix({\"type\":\"hueRotate\",\"values\":60})\r\n\t\t]),\r\n\t\tcreateFilter({_gfxName:\"hueRotate120\"}, [\r\n\t\t\tfilters.feColorMatrix({\"type\":\"hueRotate\",\"values\":120})\r\n\t\t]),\r\n\t\tcreateFilter({_gfxName:\"hueRotate180\"}, [\r\n\t\t\tfilters.feColorMatrix({\"type\":\"hueRotate\",\"values\":180})\r\n\t\t]),\r\n\t\tcreateFilter({_gfxName:\"hueRotate270\"}, [\r\n\t\t\tfilters.feColorMatrix({\"type\":\"hueRotate\",\"values\":270})\r\n\t\t])\r\n\t];\r\n\tarray.forEach(lib.colors, function(f){\r\n\t\tlang.mixin(f, defaultFilterBBox);\r\n\t});\r\n\r\n\tlib.miscs = [\r\n\t\tcreateFilter({\r\n\t\t\t_gfxName:\"thinEmbossDropShadow\",\r\n\t\t\tx:\"-5%\",y:\"-5%\",width:\"120%\",height:\"120%\"\r\n\t\t}, [\r\n\t\t\tfilters.feGaussianBlur({\"in\":\"SourceAlpha\",\"stdDeviation\":1,\"result\":\"blur\"}),\r\n\t\t\tfilters.feOffset({\"in\":\"blur\",dx:6,dy:6,\"result\":\"offsetBlur\"}),\r\n\t\t\tfilters.feSpecularLighting({\r\n\t\t\t\t\"in\":\"blur\",\"surfaceScale\":8,\"specularConstant\":1,\"specularExponent\":12,\"result\":\"specOut\"\r\n\t\t\t}, [\r\n\t\t\t\tfilters.fePointLight({x:\"-5000\",y:\"-10000\",z:\"12000\"})\r\n\t\t\t]),\r\n\t\t\tfilters.feComposite({\"in\":\"specOut\",\"in2\":\"SourceAlpha\",\"operator\":\"in\",\"result\":\"specOut\"}),\r\n\t\t\tfilters.feComposite({\r\n\t\t\t\t\"in\":\"SourceGraphic\",\"in2\":\"specOut\",\"operator\":\"arithmetic\",\"result\":\"litPaint\",\r\n\t\t\t\t\"k1\":0,\"k2\":1,\"k3\":1,\"k4\":0}),\r\n\t\t\tfilters.feMerge(\"offsetBlur\", \"litPaint\")\r\n\t\t]),\r\n\t\tcreateFilter({\r\n\t\t\t_gfxName:\"embossDropShadow\",\r\n\t\t\tx:\"-5%\",y:\"-5%\",width:\"120%\",height:\"120%\"\r\n\t\t}, [\r\n\t\t\tfilters.feGaussianBlur({\"in\": \"SourceAlpha\",\"stdDeviation\":\"4\",\"result\":\"blur\"}),\r\n\t\t\tfilters.feOffset({\"in\":\"blur\",\"dx\":4,\"dy\":4,\"result\":\"offsetBlur\"}),\r\n\t\t\tfilters.feSpecularLighting({\r\n\t\t\t\t\"in\":\"blur\",\"surfaceScale\":5,\"specularConstant\":0.75,\"specularExponent\":20,\r\n\t\t\t\t\"lighting-color\":\"#bbbbbb\",\"result\":\"specOut\"\r\n\t\t\t}, [filters.fePointLight({x:-5000,y:-10000,z:20000})]),\r\n\t\t\tfilters.feComposite({\"in\":\"specOut\",\"in2\":\"SourceAlpha\",\"operator\":\"in\",\"result\":\"specOut\"}),\r\n\t\t\tfilters.feComposite({\r\n\t\t\t\t\"in\":\"SourceGraphic\",\"in2\":\"specOut\",\"operator\":\"arithmetic\",k1:0,k2:1,k3:1,k4:0,\"result\":\"litPaint\"\r\n\t\t\t}),\r\n\t\t\tfilters.feMerge(\"offsetBlur\",\"litPaint\")\r\n\t\t]),\r\n\t\tcreateFilter({\r\n\t\t\t_gfxName:\"largeEmbossDropShadow\",\r\n\t\t\tx:\"-20%\",y:\"-20%\",width:\"140%\",height:\"140%\"\r\n\t\t}, [\r\n\t\t\tfilters.feGaussianBlur({\"in\":\"SourceAlpha\",\"stdDeviation\":5,\"result\":\"blur\"}),\r\n\t\t\tfilters.feOffset({\"in\":\"blur\",dx:6,dy:6,\"result\":\"offsetBlur\"}),\r\n\t\t\tfilters.feSpecularLighting({\r\n\t\t\t\t\"in\":\"blur\",\"surfaceScale\":8,\"specularConstant\":1,\"specularExponent\":12,\"result\":\"spec\"\r\n\t\t\t},[\r\n\t\t\t\tfilters.fePointLight({x:\"-5000\",y:\"-10000\",z:\"12000\"})\r\n\t\t\t]),\r\n\t\t\tfilters.feComposite({\"in\":\"spec\",\"in2\":\"SourceGraphic\",\"operator\":\"in\",\"result\":\"specOut\"}),\r\n\t\t\tfilters.feComposite({\r\n\t\t\t\t\"in\":\"SourceGraphic\",\"in2\":\"specOut\",\"operator\":\"arithmetic\",\"result\":\"litPaint\",\r\n\t\t\t\t\"k1\":0,\"k2\":1,\"k3\":1,\"k4\":0\r\n\t\t\t}),\r\n\t\t\tfilters.feMerge(\"offsetBlur\", \"litPaint\")\r\n\t\t]),\r\n\t\tcreateFilter({\r\n\t\t\t_gfxName:\"thinEmbossDropShadowLight\",\r\n\t\t\tx:\"-5%\",y:\"-5%\",width:\"120%\",height:\"120%\"\r\n\t\t}, [\r\n\t\t\tfilters.feGaussianBlur({\"in\":\"SourceAlpha\",\"stdDeviation\":1,\"result\":\"blur\"}),\r\n\t\t\tfilters.feComponentTransfer({\"in\":\"blur\",result:\"lessblur\"\r\n\t\t\t},[\r\n\t\t\t\tfilters.feFuncA({type:\"linear\",slope:\"0.5\"})\r\n\t\t\t]),\r\n\t\t\tfilters.feOffset({\"in\":\"lessblur\",\"dx\":\"6\",\"dy\":\"6\",\"result\":\"offsetBlur\"}),\r\n\t\t\tfilters.feSpecularLighting({\r\n\t\t\t\t\"in\":\"lessblur\",\"surfaceScale\":8,\"specularConstant\":1,\"specularExponent\":\"12\",\"result\":\"specOut\"\r\n\t\t\t},[\r\n\t\t\t\tfilters.fePointLight({x:\"-5000\",y:\"-10000\",z:\"12000\"})\r\n\t\t\t]),\r\n\t\t\tfilters.feComposite({\"in\":\"specOut\",\"in2\":\"SourceAlpha\",\"operator\":\"in\",\"result\":\"specOut\"}),\r\n\t\t\tfilters.feComposite({\r\n\t\t\t\t\"in\":\"SourceGraphic\",\"in2\":\"specOut\",\"result\":\"litPaint\",\"operator\":\"arithmetic\",\r\n\t\t\t\t\"k1\":0,\"k2\":1,\"k3\":1,\"k4\":0\r\n\t\t\t}),\r\n\t\t\tfilters.feMerge(\"offsetBlur\", \"litPaint\")\r\n\t\t]),\r\n\t\tcreateFilter({\r\n\t\t\t_gfxName: \"embossDropShadowLight\",\r\n\t\t\tx: \"-5%\",y: \"-5%\",width: \"120%\",height: \"120%\"\r\n\t\t}, [\r\n\t\t\tfilters.feGaussianBlur({\"in\": \"SourceAlpha\",stdDeviation:\"3\",result:\"blur\"}),\r\n\t\t\tfilters.feComponentTransfer({\r\n\t\t\t\t\"in\": \"blur\",result: \"lessblur\"\r\n\t\t\t},[\r\n\t\t\t\tfilters.feFuncA({type: \"linear\",slope: \"0.5\"})\r\n\t\t\t]),\r\n\t\t\tfilters.feOffset({\"in\": \"lessblur\",dx: \"6\",dy: \"6\",result: \"offsetBlur\"}),\r\n\t\t\tfilters.feSpecularLighting({\r\n\t\t\t\t\"in\": \"lessblur\",surfaceScale: \"8\",specularConstant: \"1\",specularExponent: \"12\",result: \"specOut\"\r\n\t\t\t},[\r\n\t\t\t\tfilters.fePointLight({x: \"-5000\",y: \"-10000\",z: \"12000\"})\r\n\t\t\t]),\r\n\t\t\tfilters.feComposite({\"in\": \"specOut\",in2: \"SourceAlpha\",operator: \"in\",result: \"specOut\"}),\r\n\t\t\tfilters.feComposite({\r\n\t\t\t\t\"in\": \"SourceGraphic\",in2: \"specOut\",result: \"litPaint\",operator: \"arithmetic\",\r\n\t\t\t\tk1: \"0\",k2: \"1\",k3: \"1\",k4: \"0\"\r\n\t\t\t}),\r\n\t\t\tfilters.feMerge(\"offsetBlur\", \"litPaint\")\r\n\t\t]),\r\n\t\tcreateFilter({\r\n\t\t\t_gfxName: \"largeEmbossDropShadowLight\",\r\n\t\t\tx: \"-20%\",y: \"-20%\",width: \"140%\",height: \"140%\"\r\n\t\t},[\r\n\t\t\tfilters.feGaussianBlur({\"in\": \"SourceAlpha\",stdDeviation: \"5\",result: \"blur\"}),\r\n\t\t\tfilters.feComponentTransfer({\"in\": \"blur\",result: \"lessblur\"\r\n\t\t\t},[\r\n\t\t\t\tfilters.feFuncA({type: \"linear\",slope: \"0.5\"})\r\n\t\t\t]),\r\n\t\t\tfilters.feOffset({\"in\": \"lessblur\",dx: \"6\",dy: \"6\",result: \"offsetBlur\"}),\r\n\t\t\tfilters.feSpecularLighting({\r\n\t\t\t\t\"in\": \"blur\",surfaceScale: \"8\",specularConstant: \"1\",specularExponent: \"12\",result: \"spec\"\r\n\t\t\t},[\r\n\t\t\t\tfilters.fePointLight({x: \"-5000\",y: \"-10000\",z: \"12000\"})\r\n\t\t\t]),\r\n\t\t\tfilters.feComposite({\"in\": \"spec\",in2: \"SourceGraphic\",operator: \"in\",result: \"specOut\"}),\r\n\t\t\tfilters.feComposite({\r\n\t\t\t\t\"in\": \"SourceGraphic\",in2: \"specOut\",operator: \"arithmetic\",k1: \"0\",k2: \"1\",k3: \"1\",k4: \"0\",\r\n\t\t\t\tresult: \"litPaint\"\r\n\t\t\t}),\r\n\t\t\tfilters.feMerge(\"offsetBlur\", \"litPaint\")\r\n\t\t]),\r\n\t\tcreateFilter({\r\n\t\t\t_gfxName:\"fuzzy\",\r\n\t\t\tx:\"-10%\", y:\"-10%\", width:\"120%\", height:\"120%\"\r\n\t\t},[\r\n\t\t\tfilters.feTurbulence({type:\"fractalNoise\",baseFrequency:\"0.1\",numOctaves:\"1\",result:\"turb2\"}),\r\n\t\t\tfilters.feDisplacementMap({\r\n\t\t\t\t\"in\":\"SourceGraphic\",in2:\"turb2\",result:\"turb2\",scale:\"20\",xChannelSelector:\"R\",yChannelSelector:\"G\"\r\n\t\t\t})\r\n\t\t]),\r\n\t\tcreateFilter({\r\n\t\t\t_gfxName:\"veryFuzzy\",\r\n\t\t\tx:\"-20%\", y:\"-20%\", width:\"140%\", height:\"140%\"\r\n\t\t},[\r\n\t\t\tfilters.feTurbulence({type:\"fractalNoise\",baseFrequency:\"0.1\",numOctaves:\"1\",result:\"turb2\"}),\r\n\t\t\tfilters.feDisplacementMap({\r\n\t\t\t\t\"in\":\"SourceGraphic\",in2:\"turb2\",result:\"turb2\",scale:\"35\",xChannelSelector:\"R\",yChannelSelector:\"G\"\r\n\t\t\t})\r\n\t\t]),\r\n\t\tcreateFilter({\r\n\t\t\t_gfxName:\"melting\",\r\n\t\t\tx:\"-10%\", y:\"-10%\", width:\"120%\", height:\"120%\"\r\n\t\t}, [\r\n\t\t\tfilters.feTurbulence({type:\"fractalNoise\",baseFrequency:\"0.1\",numOctaves:\"2\",result:\"turb\"}),\r\n\t\t\tfilters.feDisplacementMap({\r\n\t\t\t\tresult:\"bended\",\"in\":\"SourceGraphic\",in2:\"turb\",scale:\"25\",xChannelSelector:\"R\",yChannelSelector:\"G\"\r\n\t\t\t}),\r\n\t\t\tfilters.feGaussianBlur({\"in\":\"bended\",stdDeviation:\"1\",result:\"bb\"}),\r\n\t\t\tfilters.feComponentTransfer({\"in\": \"bb\",result: \"BendedSource\"\r\n\t\t\t},[\r\n\t\t\t\tfilters.feFuncA({type: \"linear\",slope: 10,intercept: \"-1\"})\r\n\t\t\t]),\r\n\t\t\tfilters.feComponentTransfer({\r\n\t\t\t\t\"in\": \"BendedSource\",\r\n\t\t\t\tresult: \"BendedAlpha\"\r\n\t\t\t}, [\r\n\t\t\t\tfilters.feFuncR({ type: \"linear\", slope: \"0\", intercept: \"0\"}),\r\n\t\t\t\tfilters.feFuncG({ type: \"linear\", slope: \"0\", intercept: \"0\"}),\r\n\t\t\t\tfilters.feFuncB({ type: \"linear\", slope: \"0\", intercept: \"0\"}),\r\n\t\t\t\tfilters.feFuncA({ type: \"linear\", slope: \"1\", intercept: \"0\"})\r\n\t\t\t]),\r\n\t\t\tfilters.feGaussianBlur({\r\n\t\t\t\t\"in\": \"BendedAlpha\", stdDeviation: \"1\", result: \"blur\"\r\n\t\t\t}),\r\n\t\t\tfilters.feSpecularLighting({\r\n\t\t\t\t\"in\": \"blur\",\"lighting-color\": \"rgb(80%, 80%, 80%)\",\"surfaceScale\": \"5\",\r\n\t\t\t\tspecularConstant: \"1\",specularExponent: \"10\",result: \"specularOut\"\r\n\t\t\t},[\r\n\t\t\t\tfilters.fePointLight({ x: \"-5000\", y: \"-10000\", z: \"20000\"})\r\n\t\t\t]),\r\n\t\t\tfilters.feComposite({\r\n\t\t\t\t\"in\": \"specularOut\", in2: \"BendedAlpha\", operator: \"in\", result: \"specularOut\"\r\n\t\t\t}),\r\n\t\t\tfilters.feComposite({\r\n\t\t\t\t\"in\": \"BendedSource\",in2: \"specularOut\",operator: \"arithmetic\",k1: \"0\", k2: \"1\", k3: \"1\", k4: \"0\",\r\n\t\t\t\tresult: \"litPaint\"\r\n\t\t\t})\r\n\t\t]),\r\n\t\tcreateFilter({\r\n\t\t\t_gfxName:\"impressionist\", x:\"0%\", y:\"0%\", width:\"100%\", height:\"100%\"\r\n\t\t},[\r\n\t\t\tfilters.feMorphology({\r\n\t\t\t\t\"in\":\"SourceGraphic\", operator:\"dilate\", radius:\"2\"\r\n\t\t\t})\r\n\t\t]),\r\n\t\tcreateFilter({\r\n\t\t\t_gfxName:\"holes\", x:\"0%\", y:\"0%\", width:\"100%\", height:\"100%\"\r\n\t\t},[\r\n\t\t\tfilters.feTurbulence({\r\n\t\t\t\ttype:\"fractalNoise\", baseFrequency:\"0.1\", numOctaves:\"1\", result:\"texture\"\r\n\t\t\t}),\r\n\t\t\tfilters.feComponentTransfer({\r\n\t\t\t\t\"in\":\"texture\", result:\"holes\"\r\n\t\t\t},[\r\n\t\t\t\tfilters.feFuncA({type:\"discrete\", tableValues:\"0,1\"})\r\n\t\t\t]),\r\n\t\t\tfilters.feComposite({\r\n\t\t\t\t\"in\":\"SourceGraphic\", in2:\"holes\", operator:\"out\"\r\n\t\t\t})\r\n\t\t]),\r\n\t\tcreateFilter({\r\n\t\t\t_gfxName:\"holesComplement\", x:\"0%\", y:\"0%\", width:\"100%\", height:\"100%\"\r\n\t\t},[\r\n\t\t\tfilters.feTurbulence({\r\n\t\t\t\ttype:\"fractalNoise\", baseFrequency:\"0.1\", numOctaves:\"1\", result:\"texture\"\r\n\t\t\t}),\r\n\t\t\tfilters.feComponentTransfer({\r\n\t\t\t\t\"in\":\"texture\", result:\"holes\"\r\n\t\t\t},[\r\n\t\t\t\tfilters.feFuncA({ type:\"discrete\", tableValues:\"1,0\"})\r\n\t\t\t]),\r\n\t\t\tfilters.feComposite({\"in\":\"SourceGraphic\", in2:\"holes\", operator:\"out\"})\r\n\t\t])\r\n\t];\r\n\t\r\n\tlib.reliefs = [\r\n\t\tcreateFilter({\r\n\t\t\t_gfxName:\"bumpIn\", x:\"0%\", y:\"0%\", width:\"100%\", height:\"100%\"\r\n\t\t},[\r\n\t\t\tfilters.feColorMatrix({\"in\":\"SourceGraphic\", type:\"luminanceToAlpha\",result:\"lumalpha\"}),\r\n\t\t\tfilters.feComponentTransfer({\r\n\t\t\t\t\"in\":\"lumalpha\", result:\"invertedalpha\"\r\n\t\t\t},[\r\n\t\t\t\tfilters.feFuncA({ type:\"table\",tableValues:\"1,0\"})\r\n\t\t\t]),\r\n\t\t\tfilters.feDiffuseLighting({\r\n\t\t\t\t\"in\":\"invertedalpha\",\"lighting-color\":\"rgb(60%, 60%, 60%)\",result:\"diffuse\",surfaceScale:\"5\"\r\n\t\t\t},[\r\n\t\t\t\tfilters.feDistantLight({ azimuth:\"135\",elevation:\"60\"})\r\n\t\t\t]),\r\n\t\t\tfilters.feSpecularLighting({\r\n\t\t\t\t\"in\":\"invertedalpha\", result:\"specular\", surfaceScale:\"5\",specularExponent:\"6\"\r\n\t\t\t},[\r\n\t\t\t\tfilters.feDistantLight({ azimuth:\"135\",elevation:\"30\"})\r\n\t\t\t]),\r\n\t\t\tfilters.feComposite({ \"in\":\"diffuse\",in2:\"specular\",operator:\"arithmetic\",k2:\"1.0\",k3:\"1.0\"})\r\n\t\t]),\r\n\t\tcreateFilter({\r\n\t\t\t_gfxName:\"bumpOut\", x:\"0%\", y:\"0%\", width:\"100%\", height:\"100%\"\r\n\t\t},[\r\n\t\t\tfilters.feColorMatrix({ \"in\":\"SourceGraphic\", type:\"luminanceToAlpha\", result:\"lumalpha\"}),\r\n\t\t\tfilters.feDiffuseLighting({\r\n\t\t\t\t\"in\":\"lumalpha\", \"lighting-color\":\"rgb(60%, 60%, 60%)\", result:\"diffuse\", surfaceScale:\"5\"\r\n\t\t\t},[\r\n\t\t\t\tfilters.feDistantLight({ azimuth:\"135\", elevation:\"60\"})\r\n\t\t\t]),\r\n\t\t\tfilters.feSpecularLighting({\r\n\t\t\t\t\"in\":\"lumalpha\", result:\"specular\", surfaceScale:\"5\", specularExponent:\"6\"\r\n\t\t\t},[\r\n\t\t\t\tfilters.feDistantLight({ azimuth:\"135\", elevation:\"30\"})\r\n\t\t\t]),\r\n\t\t\tfilters.feComposite({ \"in\":\"diffuse\", in2:\"specular\", operator:\"arithmetic\", k2:\"1.0\", k3:\"1.0\"})\r\n\t\t]),\r\n\t\tcreateFilter({\r\n\t\t\t_gfxName:\"thinEmboss\", x:\"-5%\", y:\"-5%\", width:\"110%\", height:\"110%\"\r\n\t\t},[\r\n\t\t\tfilters.feGaussianBlur({ \"in\":\"SourceAlpha\", stdDeviation:\"1\", result:\"blur\"}),\r\n\t\t\tfilters.feSpecularLighting({\r\n\t\t\t\t\"in\":\"blur\", surfaceScale:\"8\", specularConstant:\"1\", specularExponent:\"12\", result:\"specOut\"\r\n\t\t\t},[\r\n\t\t\t\tfilters.fePointLight({ x:\"-5000\", y:\"-10000\", z:\"12000\"})\r\n\t\t\t]),\r\n\t\t\tfilters.feComposite({ \"in\":\"specOut\", in2:\"SourceAlpha\", operator:\"in\",  result:\"specOut\"}),\r\n\t\t\tfilters.feComposite({\r\n\t\t\t\t\"in\":\"SourceGraphic\", in2:\"specOut\", operator:\"arithmetic\", k1:\"0\", k2:\"1\", k3:\"1\", k4:\"0\"\r\n\t\t\t})\r\n\t\t]),\r\n\t\tcreateFilter({\r\n\t\t\t_gfxName:\"emboss\", x:\"-5%\", y:\"-5%\", width:\"110%\", height:\"110%\"\r\n\t\t},[\r\n\t\t\tfilters.feGaussianBlur({ \"in\":\"SourceAlpha\", stdDeviation:\"3\", result:\"blur\"}),\r\n\t\t\tfilters.feSpecularLighting({\r\n\t\t\t\t\"in\":\"blur\", surfaceScale:\"8\", specularConstant:\"1\", specularExponent:\"12\", result:\"specOut\"\r\n\t\t\t},[\r\n\t\t\t\tfilters.fePointLight({ x:\"-5000\", y:\"-10000\", z:\"12000\"})\r\n\t\t\t]),\r\n\t\t\tfilters.feComposite({ \"in\":\"specOut\", in2:\"SourceAlpha\", operator:\"in\",  result:\"specOut\"}),\r\n\t\t\tfilters.feComposite({\r\n\t\t\t\t\"in\":\"SourceGraphic\", in2:\"specOut\", operator:\"arithmetic\", k1:\"0\", k2:\"1\", k3:\"1\", k4:\"0\"\r\n\t\t\t})\r\n\t\t]),\r\n\t\tcreateFilter({\r\n\t\t\t_gfxName:\"largeEmboss\", x:\"-5%\", y:\"-5%\", width:\"110%\", height:\"110%\"\r\n\t\t},[\r\n\t\t\tfilters.feGaussianBlur({ \"in\":\"SourceAlpha\", stdDeviation:\"5\", result:\"blur\"}),\r\n\t\t\tfilters.feSpecularLighting({\r\n\t\t\t\t\"in\":\"blur\", surfaceScale:\"8\", specularConstant:\"1\", specularExponent:\"12\", result:\"specOut\"\r\n\t\t\t},[\r\n\t\t\t\tfilters.fePointLight({ x:\"-5000\", y:\"-10000\", z:\"12000\"})\r\n\t\t\t]),\r\n\t\t\tfilters.feComposite({ \"in\":\"specOut\", in2:\"SourceAlpha\", operator:\"in\",  result:\"specOut\"}),\r\n\t\t\tfilters.feComposite({\r\n\t\t\t\t\"in\":\"SourceGraphic\", in2:\"specOut\", operator:\"arithmetic\", k1:\"0\", k2:\"1\", k3:\"1\", k4:\"0\"\r\n\t\t\t})\r\n\t\t])\r\n\t];\r\n\t\r\n\tlib.textures = [\r\n\t\tcreateFilter({\r\n\t\t\t_gfxName: \"paper\", x:\"0%\", y:\"0%\", width:\"100%\", height:\"100%\"\r\n\t\t},[\r\n\t\t\tfilters.feTurbulence({ type:\"turbulence\", baseFrequency:\"0.01\", numOctaves:\"5\",result:\"texture\"}),\r\n\t\t\tfilters.feDiffuseLighting({\r\n\t\t\t\t\"in\":\"texture\", result:\"diffuse\", surfaceScale:\"-10\"\r\n\t\t\t},[\r\n\t\t\t\tfilters.feDistantLight({ azimuth:\"135\", elevation:\"60\"})\r\n\t\t\t]),\r\n\t\t\tfilters.feComposite({ \"in\":\"diffuse\", in2:\"SourceGraphic\", operator:\"arithmetic\", k1:\"1\", k2:\"0\", k3:\"0\", k4:\"0\"})\r\n\t\t]),\r\n\t\tcreateFilter({\r\n\t\t\t_gfxName:\"swirl\", x:\"0%\", y:\"0%\", width:\"100%\", height:\"100%\"\r\n\t\t},[\r\n\t\t\tfilters.feTurbulence({ type:\"turbulence\",baseFrequency:\"0.05\",numOctaves:\"1\",result:\"texture\"}),\r\n\t\t\tfilters.feDiffuseLighting({\r\n\t\t\t\t\"in\":\"texture\",result:\"diffuse\",surfaceScale:\"-10\"\r\n\t\t\t},[\r\n\t\t\t\tfilters.feDistantLight({ azimuth:\"135\",elevation:\"60\"})\r\n\t\t\t]),\r\n\t\t\tfilters.feComposite({\"in\":\"diffuse\",in2:\"SourceGraphic\",operator:\"arithmetic\",k1:\"1\",k2:\"0\",k3:\"0\",k4:\"0\"})\r\n\t\t]),\r\n\t\tcreateFilter({\r\n\t\t\t_gfxName:\"swirl2\", x:\"0%\", y:\"0%\", width:\"100%\", height:\"100%\"\r\n\t\t},[\r\n\t\t\tfilters.feTurbulence({ type:\"turbulence\",baseFrequency:\"0.15\",numOctaves:\"1\",result:\"texture\"}),\r\n\t\t\tfilters.feDiffuseLighting({\r\n\t\t\t\t\"in\":\"texture\",result:\"diffuse\",surfaceScale:\"-10\"\r\n\t\t\t},[\r\n\t\t\t\tfilters.feDistantLight({ azimuth:\"135\",elevation:\"60\"})\r\n\t\t\t]),\r\n\t\t\tfilters.feComposite({\"in\":\"diffuse\",in2:\"SourceGraphic\",operator:\"arithmetic\",k1:\"1\",k2:\"0\",k3:\"0\",k4:\"0\"})\r\n\t\t]),\r\n\t\tcreateFilter({\r\n\t\t\t_gfxName:\"gold\", x:\"-5%\", y:\"-5%\", width:\"115%\", height:\"110%\"\r\n\t\t},[\r\n\t\t\tfilters.feTurbulence({ baseFrequency:\"0.2\", numOctaves:\"1\", type:\"turbulence\", result:\"turb\"}),\r\n\t\t\tfilters.feComposite({\r\n\t\t\t\t\"in\":\"SourceGraphic\", in2:\"turb\", operator:\"arithmetic\", k2:\"0.6\", k3:\"0.4\", result:\"turb\"\r\n\t\t\t}),\r\n\t\t\tfilters.feComposite({ \"in\":\"turb\", in2:\"SourceGraphic\", operator:\"in\", result:\"bump\"}),\r\n\t\t\tfilters.feDiffuseLighting({\r\n\t\t\t\t\"in\":\"turb\", surfaceScale:\"6.0\", \"lighting-color\":\"rgb(60%, 50%, 0%)\", diffuseConstant:\"1.0\", result:\"diffuse\"\r\n\t\t\t},[\r\n\t\t\t\tfilters.feDistantLight({ azimuth:\"135\", elevation:\"60\"})\r\n\t\t\t]),\r\n\t\t\tfilters.feSpecularLighting({\r\n\t\t\t\t\"in\":\"bump\", surfaceScale:\"6.0\", specularConstant:\"1.0\", specularExponent:\"10.0\", result:\"specularOut\"\r\n\t\t\t},[\r\n\t\t\t\tfilters.feDistantLight({ azimuth:\"135\", elevation:\"60\"})\r\n\t\t\t]),\r\n\t\t\tfilters.feComposite({ \"in\":\"specularOut\", in2:\"SourceGraphic\", operator:\"in\", result:\"specularOut\"}),\r\n\t\t\tfilters.feComposite({ \"in\":\"bump\", in2:\"diffuse\", operator:\"arithmetic\", k1:\"0.7\", k2:\"0.3\", result:\"litPaint\"}),\r\n\t\t\tfilters.feComposite({ \"in\":\"litPaint\", in2:\"specularOut\", operator:\"arithmetic\", k2:\"1.0\", k3:\"0.7\", result:\"litPaint\"})\r\n\t\t])\r\n\t];\r\n\r\n\t// exports filters defined in lib as function via the returned object\r\n\t// i.e. var filter = filters.convolution.verticalEdge({x:.., y:..., width:..., height:...})\r\n\tfor(var category in lib){\r\n\t\tif(lib.hasOwnProperty(category)){\r\n\t\t\tfilters[category] = {};\r\n\t\t\tvar  cat = lib[category];\r\n\t\t\tfor(var i=0; i<cat.length;++i){\r\n\t\t\t\t(function(){\r\n\t\t\t\t\tvar f = cat[i];\r\n\t\t\t\t\tfilters[category][f._gfxName] = function(args){\r\n\t\t\t\t\t\treturn lang.delegate(f, args);\r\n\t\t\t\t\t};\r\n\t\t\t\t})();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\treturn filters;\r\n});\r\n"]}