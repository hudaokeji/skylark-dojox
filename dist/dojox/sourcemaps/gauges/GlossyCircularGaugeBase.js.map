{"version":3,"sources":["gauges/GlossyCircularGaugeBase.js"],"names":["define","declare","lang","connect","gfx","AnalogGauge","AnalogCircleIndicator","TextIndicator","GlossyCircularGaugeNeedle","_defaultIndicator","_needle","_textIndicator","_textIndicatorAdded","_range","value","color","needleColor","textIndicatorFont","textIndicatorVisible","textIndicatorColor","_majorTicksOffset","majorTicksInterval","_majorTicksLength","majorTicksColor","majorTicksLabelPlacement","_minorTicksOffset","minorTicksInterval","_minorTicksLength","minorTicksColor","noChange","title","font","scalePrecision","textIndicatorPrecision","_font","constructor","this","startAngle","endAngle","min","max","startup","inherited","arguments","scale","Math","width","_designWidth","height","_designHeight","cx","_designCx","cy","_designCy","low","high","addRange","setMajorTicks","fixedPrecision","precision","offset","interval","length","labelPlacement","setMinorTicks","hideValue","addIndicator","x","_designTextIndicatorX","y","_designTextIndicatorY","align","_textIndicatorFont","hitch","update","onValueChanged","_setColorAttr","_gaugeBackground","parent","remove","_foreground","draw","_setNeedleColorAttr","removeIndicator","shape","_setTextIndicatorColorAttr","_setTextIndicatorFontAttr","splitFontString","setMajorTicksOffset","_setMajorTicksProperty","getMajorTicksOffset","_setMajorTicksIntervalAttr","setMajorTicksLength","getMajorTicksLength","_setMajorTicksColorAttr","_setMajorTicksLabelPlacementAttr","placement","prop","majorTicks","mixin","setMinorTicksOffset","_setMinorTicksProperty","getMinorTicksOffset","_setMinorTicksIntervalAttr","setMinorTicksLength","getMinorTicksLength","_setMinorTicksColorAttr","minorTicks","_setMinAttr","_updateNeedle","_setMaxAttr","_setScalePrecisionAttr","_setTextIndicatorPrecisionAttr","_setValueAttr","_setNoChangeAttr","_setTextIndicatorVisibleAttr","moveIndicatorToFront","_setTitleAttr","_setOrientationAttr","orientation","_setFontAttr"],"mappings":"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","file":"../../gauges/GlossyCircularGaugeBase.js","sourcesContent":["define([\"dojo/_base/declare\",\"dojo/_base/lang\",\"dojo/_base/connect\",\"dojox/gfx\",\"./AnalogGauge\",\"./AnalogCircleIndicator\",\"./TextIndicator\",\"./GlossyCircularGaugeNeedle\"],\r\nfunction(declare, lang, connect, gfx, AnalogGauge, AnalogCircleIndicator, TextIndicator, GlossyCircularGaugeNeedle) {\r\n\r\nreturn declare(\"dojox.gauges.GlossyCircularGaugeBase\", [AnalogGauge], {\r\n\t// summary:\r\n\t//\t\tThe base class for GlossyCircularGauge and GlossySemiCircularGauge.\r\n\t\r\n\t\r\n\t//_defaultIndicator : _Indicator\r\n\t//\t\tthe type of default indicator to create\r\n\t_defaultIndicator: AnalogCircleIndicator,\r\n\t\r\n\t// _needle: dojox.gauges.GlossyCircularGaugeNeedle\r\n\t//\t \tthe needle of this circular gauge\r\n\t_needle: null,\r\n\t\r\n\t// _textIndicator: dojox.gauges.TextIndicator\r\n\t//\t\tthe text displaying the gauge's value\r\n\t_textIndicator: null,\r\n\t\r\n\t_textIndicatorAdded: false,\r\n\t\r\n\t// _range: Object\r\n\t//\t\tthe range of this gauge\r\n\t_range: null,\r\n\t\r\n\t// value: Number\r\n\t//\t\tThe value of the gauge.\r\n\tvalue: 0,\r\n\t\r\n\t// color: String\r\n\t//\t\tThe main color of the gauge.\r\n\tcolor: 'black',\r\n\t\r\n\t// needleColor: Color\r\n\t//\t\tThe main color of the needle.\r\n\tneedleColor: '#c4c4c4',\r\n\t\r\n\t// textIndicatorFont: String\r\n\t//\t\tThe font of the text indicator\r\n\ttextIndicatorFont: \"normal normal normal 20pt serif\",\r\n\t\r\n\t// textIndicatorVisible: Boolean\r\n\t//\t\tIndicates if the text indicator is visible\r\n\ttextIndicatorVisible: true,\r\n\t\r\n\t// textIndicatorColor: Color\r\n\t//\t\t The color of the text indicator\r\n\ttextIndicatorColor: '#c4c4c4',\r\n\t\r\n\t// _majorTicksOffset: Number\r\n\t//\t\tDistance, at design, from gauge's center to major ticks\r\n\t_majorTicksOffset: 130,\r\n\t\r\n\t// majorTicksInterval: Number\r\n\t//\t\tInterval between major ticks\r\n\tmajorTicksInterval: 10,\r\n\t\r\n\t// _majorTicksLength: Number\r\n\t//\t\tMajor tick size, at design\r\n\t_majorTicksLength: 5,\r\n\t\r\n\t// majorTicksColor: Color\r\n\t//\t\tColor of major tick marks\r\n\tmajorTicksColor: '#c4c4c4',\r\n\t\r\n\t// majorTicksLabelPlacement: String\r\n\t//\t\tPlacement of major tick labels\r\n\tmajorTicksLabelPlacement: 'inside',\r\n\t\r\n\t// _minorTicksOffset: Number\r\n\t//\t\tDistance, at design, from gauge's center to minor ticks\r\n\t_minorTicksOffset: 130,\r\n\t\r\n\t// minorTicksInterval: Number\r\n\t//\t\tInterval between minor ticks\r\n\tminorTicksInterval: 5,\r\n\t\r\n\t// _minorTicksLength: Number\r\n\t//\t\tMinor tick size, at design\r\n\t_minorTicksLength: 3,\r\n\t\r\n\t// minorTicksColor: Color\r\n\t//\t\tColor of minor tick marks\r\n\tminorTicksColor: '#c4c4c4',\r\n\t\r\n\t// noChange: Boolean\r\n\t//\t\tIndicates if the gauge reacts to touch events\r\n\tnoChange: false,\r\n\t\r\n\t// title: String\r\n\t//\t\tThe title displayed in the needle's tooltip\r\n\ttitle: \"\",\r\n\t\r\n\t// font: Object\r\n\t//\t\t The font of the gauge\r\n\tfont: \"normal normal normal 10pt serif\",\r\n\t\r\n\t// scalePrecision: Number\r\n\t//\t\tThe precision for the formatting of numbers in the scale (default is 0)\r\n\tscalePrecision: 0,\r\n\t\r\n\t// textIndicatorPrecision: Number\r\n\t//\t\t The precision for the formatting of numbers in the text indicator (default is 0)\r\n\ttextIndicatorPrecision: 0,\r\n\t\r\n\t_font: null,\r\n\t\r\n\t\r\n\tconstructor: function(){\r\n\t\tthis.startAngle = -135;\r\n\t\tthis.endAngle = 135;\r\n\t\tthis.min = 0;\r\n\t\tthis.max = 100;\r\n\t},\r\n\t\r\n\tstartup: function(){\r\n\t\t// summary:\r\n\t\t//\t\tOverrides AnalogGauge.startup\r\n\t\tthis.inherited(arguments);\r\n\t\t\r\n\t\t//just in case someone calls the startup twice.\r\n\r\n\t\tif (this._needle) return; \r\n\t\t\r\n\t\tvar scale = Math.min((this.width / this._designWidth), (this.height / this._designHeight));\r\n\t\tthis.cx = scale * this._designCx + (this.width - scale * this._designWidth) / 2;\r\n\t\tthis.cy = scale * this._designCy + (this.height - scale * this._designHeight) / 2;\r\n\t\t\r\n\t\tthis._range = {\r\n\t\t\tlow: this.min ? this.min : 0,\r\n\t\t\thigh: this.max ? this.max : 100,\r\n\t\t\tcolor: [255, 255, 255, 0]\r\n\t\t};\r\n\t\tthis.addRange(this._range);\r\n\t\t\r\n\t\tthis._majorTicksOffset = this._minorTicksOffset = scale * this._majorTicksOffset;\r\n\t\tthis._majorTicksLength = scale * this._majorTicksLength;\r\n\t\tthis._minorTicksLength = scale * this._minorTicksLength;\r\n\t\t\r\n\t\t// creates and add the major ticks\r\n\t\tthis.setMajorTicks({\r\n\t\t\tfixedPrecision: true,\r\n\t\t\tprecision: this.scalePrecision,\r\n\t\t\tfont: this._font,\r\n\t\t\toffset: this._majorTicksOffset,\r\n\t\t\tinterval: this.majorTicksInterval,\r\n\t\t\tlength: this._majorTicksLength,\r\n\t\t\tcolor: this.majorTicksColor,\r\n\t\t\tlabelPlacement: this.majorTicksLabelPlacement\r\n\t\t});\r\n\t\t\r\n\t\t// creates and add the minor ticks\r\n\t\tthis.setMinorTicks({\r\n\t\t\toffset: this._minorTicksOffset,\r\n\t\t\tinterval: this.minorTicksInterval,\r\n\t\t\tlength: this._minorTicksLength,\r\n\t\t\tcolor: this.minorTicksColor\r\n\t\t});\r\n\t\t\r\n\t\t// creates and adds the needle\r\n\t\tthis._needle = new GlossyCircularGaugeNeedle({\r\n\t\t\thideValue: true,\r\n\t\t\ttitle: this.title,\r\n\t\t\tnoChange: this.noChange,\r\n\t\t\tcolor: this.needleColor,\r\n\t\t\tvalue: this.value\r\n\t\t});\r\n\t\tthis.addIndicator(this._needle);\r\n\t\t\r\n\t\t// creates and add the text indicator\r\n\t\tthis._textIndicator = new TextIndicator({\r\n\t\t\tx: scale * this._designTextIndicatorX + (this.width - scale * this._designWidth) / 2,\r\n\t\t\ty: scale * this._designTextIndicatorY + (this.height - scale * this._designHeight) / 2,\r\n\t\t\tfixedPrecision: true,\r\n\t\t\tprecision: this.textIndicatorPrecision,\r\n\t\t\tcolor: this.textIndicatorColor,\r\n\t\t\tvalue: this.value ? this.value : this.min,\r\n\t\t\talign: \"middle\",\r\n\t\t\tfont: this._textIndicatorFont\r\n\t\t});\r\n\t\t\r\n\t\tif (this.textIndicatorVisible){\r\n\t\t\tthis.addIndicator(this._textIndicator);\r\n\t\t\tthis._textIndicatorAdded = true;\r\n\t\t}\r\n\t\t\r\n\t\t// connect needle and text\r\n\t\tconnect.connect(this._needle, \"valueChanged\", lang.hitch(this, function(){\r\n\t\t\tthis.value = this._needle.value;\r\n\t\t\tthis._textIndicator.update(this._needle.value);\r\n\t\t\tthis.onValueChanged();\r\n\t\t}));\r\n\t\t\r\n\t},\r\n\t\r\n\t\r\n\tonValueChanged: function(){\r\n\t\t// summary:\r\n\t\t//\t\tInvoked when the value of the gauge has changed.\r\n\t\r\n\t},\r\n\t\r\n\t//*******************************************************************************************\r\n\t//* Property getters and setters\r\n\t//*******************************************************************************************\r\n\t\r\n\t_setColorAttr: function(color){\r\n\t\t// summary:\r\n\t\t//\t\tSets the main color of the gauge\r\n\t\t// color: String\r\n\t\t//\t\tThe color\r\n\t\tthis.color = color ? color : 'black';\r\n\t\tif (this._gaugeBackground && this._gaugeBackground.parent) \r\n\t\t\tthis._gaugeBackground.parent.remove(this._gaugeBackground);\r\n\t\tif (this._foreground && this._foreground.parent) \r\n\t\t\tthis._foreground.parent.remove(this._foreground);\r\n\t\tthis._gaugeBackground = null;\r\n\t\tthis._foreground = null;\r\n\t\tthis.draw();\r\n\t},\r\n\t\r\n\t_setNeedleColorAttr: function(color){\r\n\t\t// summary:\r\n\t\t//\t\tSets the main color of the needle\r\n\t\t// color: String\r\n\t\t//\t\tThe color\r\n\t\tthis.needleColor = color;\r\n\t\tif (this._needle){\r\n\t\t\tthis.removeIndicator(this._needle);\r\n\t\t\tthis._needle.color = this.needleColor;\r\n\t\t\tthis._needle.shape = null;\r\n\t\t\tthis.addIndicator(this._needle);\r\n\t\t}\r\n\t},\r\n\t\r\n\t_setTextIndicatorColorAttr: function(color){\r\n\t\t// summary:\r\n\t\t//\t\tSets the color of text indicator display the gauge's value\r\n\t\t// color: String\r\n\t\t//\t\tThe color\r\n\t\tthis.textIndicatorColor = color;\r\n\t\tif (this._textIndicator){\r\n\t\t\tthis._textIndicator.color = this.textIndicatorColor;\r\n\t\t\tthis.draw();\r\n\t\t}\r\n\t},\r\n\t\r\n\t_setTextIndicatorFontAttr: function(font){\r\n\t\t// summary:\r\n\t\t//\t\tSets the font of the text indicator\r\n\t\t// font: String\r\n\t\t//\t\tAn string representing the font such as 'normal normal normal 10pt Helvetica,Arial,sans-serif'\t\r\n\t\t//\r\n\t\t\r\n\t\tthis.textIndicatorFont = font;\r\n\t\tthis._textIndicatorFont = gfx.splitFontString(font);\r\n\t\tif (this._textIndicator){\r\n\t\t\tthis._textIndicator.font = this._textIndicatorFont;\r\n\t\t\tthis.draw();\r\n\t\t}\r\n\t},\r\n\t\r\n\tsetMajorTicksOffset: function(offset){\r\n\t\t// summary:\r\n\t\t//\t\tSets the distance from gauge's center to major ticks\r\n\t\tthis._majorTicksOffset = offset;\r\n\t\tthis._setMajorTicksProperty({\r\n\t\t\t'offset': this._majorTicksOffset\r\n\t\t});\r\n\t\treturn this;\r\n\t},\r\n\t\r\n\tgetMajorTicksOffset: function(){\r\n\t\t// summary:\r\n\t\t//\t\tReturn the distance from gauge's center to major ticks\r\n\t\treturn this._majorTicksOffset;\r\n\t},\r\n\t\r\n\t_setMajorTicksIntervalAttr: function(interval){\r\n\t\t// summary:\r\n\t\t//\t\tSets the interval between major ticks\r\n\t\tthis.majorTicksInterval = interval;\r\n\t\tthis._setMajorTicksProperty({\r\n\t\t\t'interval': this.majorTicksInterval\r\n\t\t});\r\n\t},\r\n\t\r\n\tsetMajorTicksLength: function(length){\r\n\t\t// summary:\r\n\t\t//\t\tSets the size of the major ticks.\r\n\t\tthis._majorTicksLength = length;\r\n\t\tthis._setMajorTicksProperty({\r\n\t\t\t'length': this._majorTicksLength\r\n\t\t});\r\n\t\treturn this;\r\n\t},\r\n\t\r\n\tgetMajorTicksLength: function(){\r\n\t\t// summary:\r\n\t\t//\t\tReturns the size of the major ticks.\r\n\t\treturn this._majorTicksLength;\r\n\t},\r\n\t\r\n\t_setMajorTicksColorAttr: function(color){\r\n\t\t// summary:\r\n\t\t//\t\tSets the color of the major ticks.\r\n\t\tthis.majorTicksColor = color;\r\n\t\tthis._setMajorTicksProperty({\r\n\t\t\t'color': this.majorTicksColor\r\n\t\t});\r\n\t},\r\n\t\r\n\t_setMajorTicksLabelPlacementAttr: function(placement){\r\n\t\t// summary:\r\n\t\t//\t\tSets the placement of labels relatively to major ticks.\r\n\t\t// placement: String\r\n\t\t//\t\t'inside' or 'outside'\r\n\t\tthis.majorTicksLabelPlacement = placement;\r\n\t\tthis._setMajorTicksProperty({\r\n\t\t\t'labelPlacement': this.majorTicksLabelPlacement\r\n\t\t});\r\n\t},\r\n\t\r\n\t_setMajorTicksProperty: function(prop){\r\n\t\tif (this.majorTicks){\r\n\t\t\tlang.mixin(this.majorTicks, prop);\r\n\t\t\tthis.setMajorTicks(this.majorTicks);\r\n\t\t}\r\n\t},\r\n\t\r\n\tsetMinorTicksOffset: function(offset){\r\n\t\t// summary:\r\n\t\t//\t\tSets the distance from gauge's center to minor ticks\r\n\t\tthis._minorTicksOffset = offset;\r\n\t\tthis._setMinorTicksProperty({\r\n\t\t\t'offset': this._minorTicksOffset\r\n\t\t});\r\n\t\treturn this;\r\n\t},\r\n\t\r\n\tgetMinorTicksOffset: function(){\r\n\t\t// summary:\r\n\t\t//\t\tReturns the distance from gauge's center to minor ticks\r\n\t\treturn this._minorTicksOffset;\r\n\t},\r\n\t\r\n\t_setMinorTicksIntervalAttr: function(interval){\r\n\t\t// summary:\r\n\t\t//\t\tSets the interval between minor ticks\r\n\t\tthis.minorTicksInterval = interval;\r\n\t\tthis._setMinorTicksProperty({\r\n\t\t\t'interval': this.minorTicksInterval\r\n\t\t});\r\n\t},\r\n\t\r\n\tsetMinorTicksLength: function(length){\r\n\t\t// summary:\r\n\t\t//\t\tSets the size of the minor ticks.\r\n\t\tthis._minorTicksLength = length;\r\n\t\tthis._setMinorTicksProperty({\r\n\t\t\t'length': this._minorTicksLength\r\n\t\t});\r\n\t\treturn this;\r\n\t},\r\n\t\r\n\tgetMinorTicksLength: function(){\r\n\t\t// summary:\r\n\t\t//\t\tReturn the size of the minor ticks.\r\n\t\treturn this._minorTicksLength;\r\n\t},\r\n\t\r\n\t_setMinorTicksColorAttr: function(color){\r\n\t\t// summary:\r\n\t\t//\t\tSets the color of the minor ticks.\r\n\t\tthis.minorTicksColor = color;\r\n\t\tthis._setMinorTicksProperty({\r\n\t\t\t'color': this.minorTicksColor\r\n\t\t});\r\n\t},\r\n\t\r\n\t_setMinorTicksProperty: function(prop){\r\n\t\tif (this.minorTicks){\r\n\t\t\tlang.mixin(this.minorTicks, prop);\r\n\t\t\tthis.setMinorTicks(this.minorTicks);\r\n\t\t}\r\n\t},\r\n\t\r\n\t_setMinAttr: function(min){\r\n\t\tthis.min = min;\r\n\t\r\n\t\tif (this.majorTicks != null) \r\n\t\t\tthis.setMajorTicks(this.majorTicks);\r\n\t\tif (this.minorTicks != null) \r\n\t\t\tthis.setMinorTicks(this.minorTicks);\r\n\t\tthis.draw();\r\n\t\tthis._updateNeedle();\r\n\t},\r\n\t\r\n\t_setMaxAttr: function(max){\r\n\t\tthis.max = max;\r\n\t\r\n\t\tif (this.majorTicks != null) \r\n\t\t\tthis.setMajorTicks(this.majorTicks);\r\n\t\tif (this.minorTicks != null) \r\n\t\t\tthis.setMinorTicks(this.minorTicks);\r\n\t\tthis.draw();\r\n\t\tthis._updateNeedle();\r\n\t},\r\n\t\r\n\t_setScalePrecisionAttr: function(value){\r\n\t\t// summary:\r\n\t\t//\t\tChanges precision of the numbers in the scale of the gauge\r\n\t\t// value: Number\r\n\t\t//\t\tThe new value\r\n\t\tthis.scalePrecision = value;\r\n\t\tthis._setMajorTicksProperty({\r\n\t\t\t'precision': value\r\n\t\t});\r\n\t},\r\n\t\r\n\t_setTextIndicatorPrecisionAttr: function(value){\r\n\t\t// summary:\r\n\t\t//\t\tChanges precision of the numbers in the text indicator\r\n\t\t// value: Number\r\n\t\t//\t\tThe new value\r\n\t\tthis.textIndicatorPrecision = value;\r\n\t\tthis._setMajorTicksProperty({\r\n\t\t\t'precision': value\r\n\t\t});\r\n\t},\r\n\t\r\n\t_setValueAttr: function(value){\r\n\t\t// summary:\r\n\t\t//\t\tChanges the value of the gauge\r\n\t\t// value: Number\r\n\t\t//\t\tThe new value for the gauge.\t\t\t\r\n\t\t\r\n\t\tvalue = Math.min(this.max, value);\r\n\t\tvalue = Math.max(this.min, value);\r\n\t\tthis.value = value;\r\n\t\tif (this._needle){\r\n\t\t\t// update will not work if noChange is true.\r\n\t\t\tvar noChange = this._needle.noChange;\r\n\t\t\tthis._needle.noChange = false;\r\n\t\t\tthis._needle.update(value);\r\n\t\t\tthis._needle.noChange = noChange;\r\n\t\t}\r\n\t},\r\n\t\r\n\t_setNoChangeAttr: function(value){\r\n\t\t// summary:\r\n\t\t//\t\tIndicates if the value of the gauge can be changed or not\r\n\t\t// value: boolean\r\n\t\t//\t\ttrue indicates that the gauge's value cannot be changed\t\r\n\t\tthis.noChange = value;\r\n\t\tif (this._needle) \r\n\t\t\tthis._needle.noChange = this.noChange;\r\n\t},\r\n\t\r\n\t_setTextIndicatorVisibleAttr: function(value){\r\n\t\t// summary:\r\n\t\t//\t\tChanges the visibility of the text indicator displaying the gauge's value.\r\n\t\t// value: boolean\r\n\t\t//\t\ttrue to show the indicator, false to hide.\r\n\t\t\r\n\t\tthis.textIndicatorVisible = value;\r\n\t\tif (this._textIndicator && this._needle){\r\n\t\t\tif (this.textIndicatorVisible && !this._textIndicatorAdded){\r\n\t\t\t\tthis.addIndicator(this._textIndicator);\r\n\t\t\t\tthis._textIndicatorAdded = true;\r\n\t\t\t\tthis.moveIndicatorToFront(this._needle);\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\telse \r\n\t\t\t\tif (!this.textIndicatorVisible && this._textIndicatorAdded){\r\n\t\t\t\t\tthis.removeIndicator(this._textIndicator);\r\n\t\t\t\t\tthis._textIndicatorAdded = false;\r\n\t\t\t\t}\r\n\t\t}\r\n\t},\r\n\t\r\n\t_setTitleAttr: function(value){\r\n\t\t// summary:\r\n\t\t//\t\tSets the title displayed by the needle's tooltip .\r\n\t\t// value: String\r\n\t\t//\t\tthe title\r\n\t\t\r\n\t\tthis.title = value;\r\n\t\tif (this._needle){\r\n\t\t\tthis._needle.title = this.title;\r\n\t\t}\r\n\t},\r\n\t\r\n\t_setOrientationAttr: function(orientation){\r\n\t\t// summary:\r\n\t\t//\t\tSets the orientation of the gauge\r\n\t\t// orientation: String\r\n\t\t//\t\tEither \"clockwise\" or \"cclockwise\"\t\r\n\t\t\r\n\t\tthis.orientation = orientation;\r\n\t\tif (this.majorTicks != null) \r\n\t\t\tthis.setMajorTicks(this.majorTicks);\r\n\t\tif (this.minorTicks != null) \r\n\t\t\tthis.setMinorTicks(this.minorTicks);\r\n\t\tthis.draw();\r\n\t\tthis._updateNeedle();\r\n\t\r\n\t},\r\n\t\r\n\t_updateNeedle: function(){\r\n\t\t// updates the needle with no animation \r\n\t\tthis.value = Math.max(this.min, this.value);\r\n\t\tthis.value = Math.min(this.max, this.value);\r\n\t\t\r\n\t\tif (this._needle){\r\n\t\t\t// update will not work if noChange is true.\r\n\t\t\tvar noChange = this._needle.noChange;\r\n\t\t\tthis._needle.noChange = false;\r\n\t\t\tthis._needle.update(this.value, false);\r\n\t\t\tthis._needle.noChange = noChange;\r\n\t\t} // to redraw the needle\r\n\t},\r\n\t\r\n\t_setFontAttr: function(font){\r\n\t\t// summary:\r\n\t\t//\t\tSets the font of the gauge\r\n\t\t// font: String\r\n\t\t//\t\tAn string representing the font such as 'normal normal normal 10pt Helvetica,Arial,sans-serif'\r\n\t\t\r\n\t\tthis.font = font;\r\n\t\tthis._font = gfx.splitFontString(font);\r\n\t\tthis._setMajorTicksProperty({\r\n\t\t\t'font': this._font\r\n\t\t});\r\n\t}});\r\n});\r\n"]}