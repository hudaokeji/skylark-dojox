{"version":3,"sources":["calendar/tests/ExtendedCalendar.js"],"names":["define","declare","lang","on","Calendar","MonthColumnView","VerticalRenderer","Mouse","Keyboard","template","templateString","verticalRenderer","_createDefaultViews","this","inherited","arguments","monthColumnView","hitch","e","set","date","columnView","matrixView","_computeCurrentView","startDate","endDate","duration","_configureView","view","index","timeInterval","viewKind","m","getMonth","d","newDate","setMonth","configureButtons","sixMonthButton","own","matrixViewRowHeaderClick"],"mappings":";;;;;;;AAAAA,QACC,qBACA,kBACA,UACA,0BACA,iCACA,kCACA,uBACA,0BACA,wCAED,SACCC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,GAEA,OAAOR,EAAQ,wBAAyBG,GAKvCM,eAAgBD,EAEhBE,iBAAkBL,EAElBM,oBAAqB,WAapB,OAZAC,KAAKC,UAAUC,WAEfF,KAAKG,gBAAkBf,GAASI,EAAiBG,EAAUD,GAApCN,EACtBU,iBAAkBL,IAGnBO,KAAKG,gBAAgBb,GAAG,oBAAqBD,EAAKe,MAAMJ,KAAM,SAASK,GACtEL,KAAKM,IAAI,eAAgB,SACzBN,KAAKM,IAAI,oBAAqB,GAC9BN,KAAKM,IAAI,OAAQD,EAAEE,UAGZP,KAAKQ,WAAYR,KAAKS,WAAYT,KAAKG,kBAGhDO,oBAAqB,SAASC,EAAWC,EAASC,GAEjD,OAAGA,EAAS,GACJb,KAAKG,gBAELH,KAAKC,UAAUC,YAIxBY,eAAgB,SAASC,EAAMC,EAAOC,EAAcJ,GAEnD,GAAoB,gBAAjBE,EAAKG,SAA2B,CAClC,IAAIC,EAAIF,EAAa,GAAGG,WACpBC,EAAIrB,KAAKsB,QAAQL,EAAa,IAClCI,EAAEE,SAASJ,EAAE,EAAE,EAAE,GACjBJ,EAAKT,IAAI,YAAae,GACtBN,EAAKT,IAAI,cAAe,QAExBN,KAAKC,UAAUC,YAIjBsB,iBAAkB,WAEjBxB,KAAKC,UAAUC,WACZF,KAAKyB,gBAEPzB,KAAK0B,IACJpC,EAAGU,KAAKyB,eAAgB,QAASpC,EAAKe,MAAMJ,KAAM,WACjDA,KAAKM,IAAI,oBAAqB,GAC9BN,KAAKM,IAAI,eAAgB,cAM7BqB,yBAA0B,SAAStB,GAClCL,KAAKM,IAAI,eAAgB,QACzBN,KAAKM,IAAI,oBAAqB,GAC9BN,KAAKM,IAAI,OAAQD,EAAEE","file":"../../../calendar/tests/ExtendedCalendar.js","sourcesContent":["define([\r\n\t\"dojo/_base/declare\",\r\n\t\"dojo/_base/lang\",\r\n\t\"dojo/on\", \r\n\t\"dojox/calendar/Calendar\", \r\n\t\"dojox/calendar/MonthColumnView\", \r\n\t\"dojox/calendar/VerticalRenderer\", \r\n\t\"dojox/calendar/Mouse\",\r\n\t\"dojox/calendar/Keyboard\",\r\n\t\"dojo/text!./CalendarMonthColumn.html\"],\r\n\r\nfunction(\r\n\tdeclare,\r\n\tlang,\r\n\ton,\r\n\tCalendar, \r\n\tMonthColumnView,\t\t\r\n\tVerticalRenderer, \r\n\tMouse,\r\n\tKeyboard,\r\n\ttemplate){\r\n\t\t\t\t\t\r\n\treturn declare(\"demo.ExtendedCalendar\", Calendar, {\r\n\t\t\r\n\t\t// summary:\r\n\t\t//\t\tA Calendar subclass that embeds a month column view.\t\r\n\t\t\r\n\t\ttemplateString: template,\r\n\t\t\r\n\t\tverticalRenderer: VerticalRenderer,\r\n\t\t\r\n\t\t_createDefaultViews: function(){\r\n\t\t\tthis.inherited(arguments);\r\n\t\t\t// create the month column view.\r\n\t\t\tthis.monthColumnView = declare([MonthColumnView, Keyboard, Mouse])({\r\n\t\t\t\tverticalRenderer: VerticalRenderer\t\t\t\t\r\n\t\t\t});\r\n\t\t\t\r\n\t\t\tthis.monthColumnView.on(\"columnHeaderClick\", lang.hitch(this, function(e){\r\n\t\t\t\tthis.set(\"dateInterval\", \"month\");\r\n\t\t\t\tthis.set(\"dateIntervalSteps\", 1);\r\n\t\t\t\tthis.set(\"date\", e.date);\r\n\t\t\t}));\t\t\t\r\n\t\t\t\r\n\t\t\treturn [this.columnView, this.matrixView, this.monthColumnView];\r\n\t\t},\r\n\t\t\r\n\t\t_computeCurrentView: function(startDate, endDate, duration){\r\n\t\t\t// show the month column view if the duration is greater than 31x2 days\r\n\t\t\tif(duration>62){\r\n\t\t\t\treturn this.monthColumnView;\r\n\t\t\t}else{\r\n\t\t\t\treturn this.inherited(arguments);\r\n\t\t\t}\r\n\t\t},\r\n\t\t\r\n\t\t_configureView: function(view, index, timeInterval, duration){\r\n\t\t\t// show only from January to June or from July to December\r\n\t\t\tif(view.viewKind == \"monthColumns\"){\r\n\t\t\t\tvar m = timeInterval[0].getMonth();\r\n\t\t\t\tvar d = this.newDate(timeInterval[0]);\r\n\t\t\t\td.setMonth(m<6?0:6);\r\n\t\t\t\tview.set(\"startDate\", d);\r\n\t\t\t\tview.set(\"columnCount\", 6);\r\n\t\t\t}else{\r\n\t\t\t\tthis.inherited(arguments);\r\n\t\t\t}\r\n\t\t},\r\n\t\t\r\n\t\tconfigureButtons: function(){\r\n\t\t\t// configure the 6 months button\r\n\t\t\tthis.inherited(arguments);\r\n\t\t\tif(this.sixMonthButton){\r\n\t\t\t\t// should set label from resource bundle here!\r\n\t\t\t\tthis.own(\r\n\t\t\t\t\ton(this.sixMonthButton, \"click\", lang.hitch(this, function(){\t\t\t\t\t\t\r\n\t\t\t\t\t\tthis.set(\"dateIntervalSteps\", 6);\r\n\t\t\t\t\t\tthis.set(\"dateInterval\", \"month\");\r\n\t\t\t\t\t}))\r\n\t\t\t\t);\t\r\n\t\t\t}\r\n\t\t},\r\n\t\t\r\n\t\tmatrixViewRowHeaderClick: function(e){\r\n\t\t\tthis.set(\"dateInterval\", \"week\");\r\n\t\t\tthis.set(\"dateIntervalSteps\", 1);\r\n\t\t\tthis.set(\"date\", e.date);\r\n\t\t}\r\n\t\t\r\n\t});\r\n});\r\n"]}