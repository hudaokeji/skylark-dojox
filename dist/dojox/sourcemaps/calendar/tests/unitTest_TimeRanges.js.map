{"version":3,"sources":["calendar/tests/unitTest_TimeRanges.js"],"names":["define","doh","Calendar","register","res","o","cal","dateModule","startDate","Date","set","validateRendering","is","compare","get","_timeInterval","destroyRecursive","firstDayOfWeek"],"mappings":"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","file":"../../../calendar/tests/unitTest_TimeRanges.js","sourcesContent":["define([\"doh\", \"../Calendar\"], \r\n\tfunction(doh, Calendar){\r\n\tdoh.register(\"tests.unitTest_TimeRanges\", [\r\n\t\r\n\t\t/* Should work but does not. Unfortunately I don't have time to investigate why...\r\n\t\t {\r\n\t\t\tname: \"TotoTest\",\r\n\t\t\tsetUp: function(){\r\n\t\t\t\tthis.toto = 10;\r\n\t\t\t},\r\n\t\t\ttearDown: function(){\r\n\t\t\t\tdelete this.toto;\r\n\t\t\t},\r\n\t\t\ttest1: function(){\r\n\t\t\t\tdoh.is(this.toto, 10);\r\n\t\t\t},\r\n\t\t\ttest2: function(){\r\n\t\t\t\tdoh.is(this.toto, 10);\r\n\t\t\t}\r\n\t\t},*/\r\n\t\r\n\t\tfunction test_DayInterval(doh){\r\n\t\t\tvar o = new Calendar();\r\n\t\t\tvar cal = o.dateModule;\r\n\t\t\tvar startDate = new Date(2011, 0, 5);\r\n\t\t\tvar res;\r\n\t\t\t\r\n\t\t\to.set(\"date\", startDate);\r\n\t\t\to.set(\"dateInterval\", \"day\");\r\n\t\t\to.set(\"dateIntervalSteps\", 1);\r\n\t\t\to.validateRendering();\r\n\t\t\tdoh.is(cal.compare(o.get(\"date\"), startDate), 0);\r\n\t\t\t\r\n\t\t\tres = o._timeInterval;\r\n\t\t\tdoh.is(cal.compare(res[0], new Date(2011, 0, 5)), 0);\r\n\t\t\tdoh.is(cal.compare(res[1], new Date(2011, 0, 6)), 0);\r\n\t\t\to.destroyRecursive();\t\t\t\t\t\r\n\t\t},\r\n\t\t\r\n\t\tfunction test_MultiDayInterval(doh){\r\n\t\t\tvar o = new Calendar();\r\n\t\t\tvar cal = o.dateModule;\r\n\t\t\tvar startDate = new Date(2011, 0, 5);\r\n\t\t\tvar res;\r\n\t\t\t\r\n\t\t\to.set(\"date\", startDate);\r\n\t\t\to.set(\"dateInterval\", \"day\");\r\n\t\t\to.set(\"dateIntervalSteps\", 3);\r\n\t\t\to.validateRendering();\r\n\t\t\tdoh.is(cal.compare(o.get(\"date\"), startDate), 0);\r\n\t\t\t\r\n\t\t\tres = o._timeInterval;\r\n\t\t\tdoh.is(cal.compare(res[0], new Date(2011, 0, 5)), 0);\r\n\t\t\tdoh.is(cal.compare(res[1], new Date(2011, 0, 8)), 0);\r\n\t\t\to.destroyRecursive();\t\t\t\t\t\r\n\t\t},\r\n\t\t\r\n\t\tfunction test_WeekInterval(doh){\r\n\t\t\tvar o = new Calendar({\r\n\t\t\t\tfirstDayOfWeek: 0 // do not depend on locale\r\n\t\t\t});\r\n\t\t\tvar cal = o.dateModule;\r\n\t\t\tvar startDate = new Date(2011, 0, 5);\r\n\t\t\tvar res;\r\n\t\t\t\r\n\t\t\to.set(\"date\", startDate);\r\n\t\t\to.set(\"dateInterval\", \"week\");\r\n\t\t\to.set(\"dateIntervalSteps\", 1);\r\n\t\t\to.validateRendering();\r\n\t\t\tdoh.is(cal.compare(o.get(\"date\"), startDate), 0);\r\n\t\t\t\r\n\t\t\tres = o._timeInterval;\r\n\t\t\tdoh.is(cal.compare(res[0], new Date(2011, 0, 2)), 0);\r\n\t\t\tdoh.is(cal.compare(res[1], new Date(2011, 0, 9)), 0);\r\n\t\t\t\r\n\t\t\to.set(\"firstDayOfWeek\", 1);\r\n\t\t\to.validateRendering();\r\n\t\t\tdoh.is(cal.compare(o.get(\"date\"), startDate), 0);\r\n\t\t\t\r\n\t\t\tres = o._timeInterval;\r\n\t\t\tdoh.is(cal.compare(res[0], new Date(2011, 0, 3)), 0);\r\n\t\t\tdoh.is(cal.compare(res[1], new Date(2011, 0, 10)), 0);\t\t\r\n\t\t\to.destroyRecursive();\t\t\r\n\t\t},\r\n\t\t\r\n\t\tfunction test_MultiWeekInterval(doh){\r\n\t\t\tvar o = new Calendar({\r\n\t\t\t\tfirstDayOfWeek: 0 // do not depend on locale\r\n\t\t\t});\r\n\t\t\tvar cal = o.dateModule;\r\n\t\t\tvar startDate = new Date(2011, 0, 5);\r\n\t\t\tvar res;\r\n\t\t\t\r\n\t\t\to.set(\"date\", startDate);\r\n\t\t\to.set(\"dateInterval\", \"week\");\r\n\t\t\to.set(\"dateIntervalSteps\", 2);\r\n\t\t\to.validateRendering();\r\n\t\t\tdoh.is(cal.compare(o.get(\"date\"), startDate), 0);\r\n\t\t\t\r\n\t\t\tres = o._timeInterval;\r\n\t\t\tdoh.is(cal.compare(res[0], new Date(2011, 0, 2)), 0);\r\n\t\t\tdoh.is(cal.compare(res[1], new Date(2011, 0, 16)), 0);\r\n\t\t\t\r\n\t\t\to.set(\"firstDayOfWeek\", 1);\r\n\t\t\to.validateRendering();\r\n\t\t\tdoh.is(cal.compare(o.get(\"date\"), startDate), 0);\r\n\t\t\t\r\n\t\t\tres = o._timeInterval;\r\n\t\t\tdoh.is(cal.compare(res[0], new Date(2011, 0, 3)), 0);\r\n\t\t\tdoh.is(cal.compare(res[1], new Date(2011, 0, 17)), 0);\r\n\t\t\to.destroyRecursive();\t\t\t\t\r\n\t\t},\r\n\t\t\r\n\t\tfunction test_MonthInterval(doh){\r\n\t\t\tvar o = new Calendar();\r\n\t\t\tvar cal = o.dateModule;\r\n\t\t\tvar startDate = new Date(2011, 0, 5);\r\n\t\t\tvar res;\r\n\t\t\t\r\n\t\t\to.set(\"date\", startDate);\r\n\t\t\to.set(\"dateInterval\", \"month\");\r\n\t\t\to.set(\"dateIntervalSteps\", 1);\r\n\t\t\to.validateRendering();\r\n\t\t\tdoh.is(cal.compare(o.get(\"date\"), startDate), 0);\r\n\t\t\t\r\n\t\t\tres = o._timeInterval;\r\n\t\t\tdoh.is(cal.compare(res[0], new Date(2011, 0, 1)), 0);\r\n\t\t\tdoh.is(cal.compare(res[1], new Date(2011, 1, 1)), 0);\r\n\t\t\to.destroyRecursive();\t\t\t\t\t\r\n\t\t},\r\n\t\t\r\n\t\tfunction test_MultiMonthInterval(doh){\r\n\t\t\tvar o = new Calendar();\r\n\t\t\tvar cal = o.dateModule;\r\n\t\t\tvar startDate = new Date(2011, 0, 5);\r\n\t\t\tvar res;\r\n\t\t\t\r\n\t\t\to.set(\"date\", startDate);\r\n\t\t\to.set(\"dateInterval\", \"month\");\r\n\t\t\to.set(\"dateIntervalSteps\", 2);\r\n\t\t\to.validateRendering();\r\n\t\t\tdoh.is(cal.compare(o.get(\"date\"), startDate), 0);\r\n\t\t\t\r\n\t\t\tres = o._timeInterval;\r\n\t\t\tdoh.is(cal.compare(res[0], new Date(2011, 0, 1)), 0);\r\n\t\t\tdoh.is(cal.compare(res[1], new Date(2011, 2, 1)), 0);\r\n\t\t\to.destroyRecursive();\t\t\t\t\t\r\n\t\t}\r\n\t\t\r\n\t]);\r\n});\r\n"]}