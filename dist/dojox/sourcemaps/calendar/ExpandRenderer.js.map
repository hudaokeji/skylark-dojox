{"version":3,"sources":["calendar/ExpandRenderer.js"],"names":["define","declare","lang","event","win","on","domClass","domStyle","_WidgetBase","_TemplatedMixin","template","templateString","baseClass","owner","focused","up","down","date","items","rowIndex","columnIndex","_setExpandedAttr","value","set","this","expand","collapse","_set","_setDownAttr","_setState","_setUpAttr","_setFocusedAttr","prop","cssClass","tn","stateNode","domNode","_onClick","e","expandRendererClickHandler","_onMouseDown","stop","_onMouseUp","_onMouseOver","buttonDown","button","_onMouseOut","node","relatedTarget","currentTarget","doc","body","parentNode"],"mappings":";;;;;;;AAAAA,QACA,qBACA,kBACA,mBACA,oBACA,UACA,iBACA,iBACA,oBACA,wBACA,6CAEA,SACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,GAEC,OAAOT,EAAQ,iCAAkCO,EAAaC,IAK7DE,eAAgBD,EAEhBE,UAAW,sBAIXC,MAAO,KAIPC,SAAS,EAITC,IAAI,EAIJC,MAAM,EAINC,KAAM,KAINC,MAAO,KAIPC,UAAW,EAIXC,aAAc,EAEdC,iBAAkB,SAASC,GAC1Bf,EAASgB,IAAIC,KAAKC,OAAQ,UAAWH,EAAQ,OAAS,gBACtDf,EAASgB,IAAIC,KAAKE,SAAU,UAAWJ,EAAQ,eAAiB,QAChEE,KAAKG,KAAK,WAAYL,IAGvBM,aAAc,SAASN,GACtBE,KAAKK,UAAU,OAAQP,EAAO,SAG/BQ,WAAY,SAASR,GACpBE,KAAKK,UAAU,KAAMP,EAAO,OAG7BS,gBAAiB,SAAST,GACzBE,KAAKK,UAAU,UAAWP,EAAO,YAGlCO,UAAW,SAASG,EAAMV,EAAOW,GAChC,GAAIT,KAAKQ,IAASV,EAAM,CACvB,IAAIY,EAAKV,KAAKW,WAAaX,KAAKY,QAChC9B,EAASgB,EAAQ,MAAQ,UAAUY,EAAID,GACvCT,KAAKG,KAAKK,EAAMV,KAIlBe,SAAU,SAASC,GAIfd,KAAKX,OAASW,KAAKX,MAAM0B,4BAC3Bf,KAAKX,MAAM0B,2BAA2BD,EAAGd,OAI3CgB,aAAc,SAASF,GAItBnC,EAAMsC,KAAKH,GACXd,KAAKD,IAAI,QAAQ,IAGlBmB,WAAY,SAASJ,GAIpBd,KAAKD,IAAI,QAAQ,IAGlBoB,aAAc,SAASL,GAItB,IAAId,KAAKT,GAAG,CACX,IAAI6B,EAAyB,GAAZN,EAAEO,OACnBrB,KAAKD,IAAI,MAAOqB,GAChBpB,KAAKD,IAAI,OAAQqB,KAInBE,YAAa,SAASR,GAKrB,IADA,IAAIS,EAAOT,EAAEU,cACPD,GAAQT,EAAEW,eAAiBF,GAAQ3C,EAAI8C,IAAIC,MAAgB,MAARJ,GACxDA,EAAOA,EAAKK,WAEVL,GAAQT,EAAEW,gBAGbzB,KAAKD,IAAI,MAAM,GACfC,KAAKD,IAAI,QAAQ","file":"../../calendar/ExpandRenderer.js","sourcesContent":["define([\r\n\"dojo/_base/declare\", \r\n\"dojo/_base/lang\", \r\n\"dojo/_base/event\", \r\n\"dojo/_base/window\", \r\n\"dojo/on\", \r\n\"dojo/dom-class\", \r\n\"dojo/dom-style\",\r\n\"dijit/_WidgetBase\", \r\n\"dijit/_TemplatedMixin\", \r\n\"dojo/text!./templates/ExpandRenderer.html\"],\r\n\t \r\nfunction(\r\ndeclare, \r\nlang, \r\nevent, \r\nwin, \r\non, \r\ndomClass, \r\ndomStyle, \r\n_WidgetBase, \r\n_TemplatedMixin, \r\ntemplate){\r\n\t\r\n\treturn declare(\"dojox.calendar.ExpandRenderer\", [_WidgetBase, _TemplatedMixin], {\r\n\t\t\r\n\t\t// summary:\r\n\t\t//\t\tThe default renderer display in MatrixView cells where some item renderers cannot be displayed because of size constraints.\r\n\t\t\r\n\t\ttemplateString: template,\r\n\t\t\r\n\t\tbaseClass: \"dojoxCalendarExpand\",\r\n\t\t\r\n\t\t// owner: dojox/calendar/_ViewBase\r\n\t\t//\t\tThe view that contains this renderer.\r\n\t\towner: null,\r\n\r\n\t\t// focused: Boolean\r\n\t\t//\t\tIndicates that the renderer is focused.\r\n\t\tfocused: false,\r\n\r\n\t\t// up: Boolean\r\n\t\t//\t\tIndicates that the mouse cursor is over renderer.\r\n\t\tup: false,\r\n\r\n\t\t// down: Boolean\r\n\t\t//\t\tIndicates that the renderer is pressed.\r\n\t\tdown: false,\r\n\r\n\t\t// date: Date\r\n\t\t//\t\tThe date displayed by the cell where this renderer is used.\r\n\t\tdate: null,\r\n\r\n\t\t// items: Object[]\r\n\t\t//\t\tList of items that are not displayed in the cell because of the size constraints.\r\n\t\titems: null,\r\n\t\t\r\n\t\t// rowIndex: Integer\r\n\t\t//\t\tRow index where this renderer is used.\r\n\t\trowIndex: -1,\r\n\t\t\r\n\t\t// columnIndex: Integer\r\n\t\t//\t\tColumn index where this renderer is used.\r\n\t\tcolumnIndex: -1,\r\n\t\t\r\n\t\t_setExpandedAttr: function(value){\r\n\t\t\tdomStyle.set(this.expand, \"display\", value ? \"none\" : \"inline-block\");\r\n\t\t\tdomStyle.set(this.collapse, \"display\", value ? \"inline-block\" : \"none\"); \r\n\t\t\tthis._set(\"expanded\", value);\r\n\t\t},\r\n\r\n\t\t_setDownAttr: function(value){\r\n\t\t\tthis._setState(\"down\", value, \"Down\");\r\n\t\t},\r\n\r\n\t\t_setUpAttr: function(value){\r\n\t\t\tthis._setState(\"up\", value, \"Up\");\r\n\t\t},\r\n\r\n\t\t_setFocusedAttr: function(value){\r\n\t\t\tthis._setState(\"focused\", value, \"Focused\");\r\n\t\t},\r\n\r\n\t\t_setState: function(prop, value, cssClass){\r\n\t\t\tif (this[prop] != value){\r\n\t\t\t\tvar tn = this.stateNode || this.domNode;\r\n\t\t\t\tdomClass[value ? \"add\" : \"remove\"](tn, cssClass);\r\n\t\t\t\tthis._set(prop, value);\r\n\t\t\t}\t\r\n\t\t},\r\n\r\n\t\t_onClick: function(e){\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprivate\r\n\r\n\t\t\tif(this.owner && this.owner.expandRendererClickHandler){\r\n\t\t\t\tthis.owner.expandRendererClickHandler(e, this);\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t_onMouseDown: function(e){\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprivate\r\n\r\n\t\t\tevent.stop(e);\r\n\t\t\tthis.set(\"down\", true);\r\n\t\t},\r\n\r\n\t\t_onMouseUp: function(e){\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprivate\r\n\r\n\t\t\tthis.set(\"down\", false);\r\n\t\t},\r\n\r\n\t\t_onMouseOver: function(e){\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprivate\r\n\r\n\t\t\tif(!this.up){\r\n\t\t\t\tvar buttonDown = e.button == 1;\r\n\t\t\t\tthis.set(\"up\", !buttonDown);\r\n\t\t\t\tthis.set(\"down\", buttonDown);\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t_onMouseOut: function(e){\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprivate\r\n\r\n\t\t\tvar node = e.relatedTarget;\r\n\t\t\twhile(node != e.currentTarget && node != win.doc.body && node != null){\r\n\t\t\t\tnode = node.parentNode;\r\n\t\t\t}\r\n\t\t\tif(node == e.currentTarget){\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tthis.set(\"up\", false);\r\n\t\t\tthis.set(\"down\", false);\r\n\t\t}\r\n\r\n\t});\r\n\r\n});\r\n"]}