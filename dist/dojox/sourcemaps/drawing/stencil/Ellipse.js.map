{"version":3,"sources":["drawing/stencil/Ellipse.js"],"names":["define","lang","oo","Base","registry","Ellipse","declare","options","type","anchorType","baseRender","dataToPoints","o","x","this","data","cx","rx","y","cy","ry","w","h","points","pointsToData","p","s","e","_create","shp","d","sty","remove","container","createEllipse","setStroke","setFill","fill","_setNodeAtts","render","onBeforeRender","renderHit","style","currentHit","current","setObject","register","name"],"mappings":";;;;;;;AAAAA,QAAQ,kBAAmB,aAAc,UAAW,wBACpD,SAASC,EAAMC,EAAIC,EAAMC,GAiBzB,IAAIC,EAAUH,EAAGI,QAChBH,EACA,SAASI,MAQRC,KAAK,gCACLC,WAAY,QACZC,YAAW,EACXC,aAAc,SAAmBC,GAIhC,IAAIC,GADJD,EAAIA,GAAKE,KAAKC,MACJC,GAAKJ,EAAEK,GAChBC,EAAIN,EAAEO,GAAKP,EAAEQ,GACbC,EAAS,EAALT,EAAEK,GACNK,EAAS,EAALV,EAAEQ,GAOP,OANAN,KAAKS,SACHV,EAAEA,EAAGK,EAAEA,IACPL,EAAEA,EAAEQ,EAAGH,EAAEA,IACTL,EAAEA,EAAEQ,EAAGH,EAAEA,EAAEI,IACXT,EAAEA,EAAGK,EAAEA,EAAEI,IAEJR,KAAKS,QAGbC,aAAc,SAAkBC,GAI/B,IAAIC,GADJD,EAAIA,GAAKX,KAAKS,QACJ,GACNI,EAAIF,EAAE,GAOV,OANAX,KAAKC,MACJC,GAAIU,EAAEb,GAAKc,EAAEd,EAAIa,EAAEb,GAAG,EACtBM,GAAIO,EAAER,GAAKS,EAAET,EAAIQ,EAAER,GAAG,EACtBD,GAAgB,IAAXU,EAAEd,EAAIa,EAAEb,GACbO,GAAgB,IAAXO,EAAET,EAAIQ,EAAER,IAEPJ,KAAKC,MAIba,QAAS,SAAmBC,EAAsBC,EAAaC,GAM9DjB,KAAKkB,OAAOlB,KAAKe,IACjBf,KAAKe,GAAOf,KAAKmB,UAAUC,cAAcJ,GACvCK,UAAUJ,GACVK,QAAQL,EAAIM,MACdvB,KAAKwB,aAAaxB,KAAKe,KAGxBU,OAAQ,WAMPzB,KAAK0B,eAAe1B,MACpBA,KAAK2B,WAAa3B,KAAKc,QAAQ,MAAOd,KAAKC,KAAMD,KAAK4B,MAAMC,YAC5D7B,KAAKc,QAAQ,QAASd,KAAKC,KAAMD,KAAK4B,MAAME,YAW/C,OALA3C,EAAK4C,UAAU,gCAAiCxC,GAChDD,EAAS0C,UACRC,KAAK,iCACH,WAEI1C","file":"../../../drawing/stencil/Ellipse.js","sourcesContent":["define([\"dojo/_base/lang\", \"../util/oo\", \"./_Base\", \"../manager/_registry\"], \r\nfunction(lang, oo, Base, registry){\r\n\r\n/*=====\r\nvar __StencilData = {\r\n\t// summary:\r\n\t//\t\tthe data used to create the dojox.gfx Shape\r\n\t// cx: Number\r\n\t//\t\tCenter point x\r\n\t// cy: Number\r\n\t//\t\tCenter point y\r\n\t// rx: Number\r\n\t//\t\tHorizontal radius\r\n\t// ry: Number\r\n\t//\t\tVertical radius\r\n};\r\n=====*/\r\n\r\nvar Ellipse = oo.declare(\r\n\tBase,\r\n\tfunction(options){\r\n\t\t// summary:\r\n\t\t//\t\tconstructor\r\n\t},\r\n\t{\r\n\t\t// summary:\r\n\t\t//\t\tCreates a dojox.gfx Ellipse based on data or points provided.\r\n\r\n\t\ttype:\"dojox.drawing.stencil.Ellipse\",\r\n\t\tanchorType: \"group\",\r\n\t\tbaseRender:true,\r\n\t\tdataToPoints: function(/*Object*/o){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tConverts data to points.\r\n\t\t\to = o || this.data;\r\n\t\t\tvar x = o.cx - o.rx,\r\n\t\t\t\ty = o.cy - o.ry,\r\n\t\t\t\tw = o.rx*2,\r\n\t\t\t\th = o.ry*2\r\n\t\t\tthis.points = [\r\n\t\t\t\t{x:x, y:y}, \t// TL\r\n\t\t\t\t{x:x+w, y:y},\t// TR\r\n\t\t\t\t{x:x+w, y:y+h},\t// BR\r\n\t\t\t\t{x:x, y:y+h}\t// BL\r\n\t\t\t];\r\n\t\t\treturn this.points; //Array\r\n\t\t},\r\n\t\t\r\n\t\tpointsToData: function(/*Array*/p){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tConverts points to data\r\n\t\t\tp = p || this.points;\r\n\t\t\tvar s = p[0];\r\n\t\t\tvar e = p[2];\r\n\t\t\tthis.data = {\r\n\t\t\t\tcx: s.x + (e.x - s.x)/2,\r\n\t\t\t\tcy: s.y + (e.y - s.y)/2,\r\n\t\t\t\trx: (e.x - s.x)*.5,\r\n\t\t\t\try: (e.y - s.y)*.5\r\n\t\t\t};\r\n\t\t\treturn this.data; //Object\r\n\t\t\r\n\t\t},\r\n\t\t\r\n\t\t_create: function(/*String*/shp, /*__StencilData*/d, /*Object*/sty){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tCreates a dojox.gfx.shape based on passed arguments.\r\n\t\t\t//\t\tCan be called many times by implementation to create\r\n\t\t\t//\t\tmultiple shapes in one stencil.\r\n\r\n\t\t\tthis.remove(this[shp]);\r\n\t\t\tthis[shp] = this.container.createEllipse(d)\r\n\t\t\t\t.setStroke(sty)\r\n\t\t\t\t.setFill(sty.fill);\r\n\t\t\tthis._setNodeAtts(this[shp]);\r\n\t\t},\r\n\t\t\r\n\t\trender: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tRenders the 'hit' object (the shape used for an expanded\r\n\t\t\t//\t\thit area and for highlighting) and the'shape' (the actual\r\n\t\t\t//\t\tdisplay object).\r\n\r\n\t\t\tthis.onBeforeRender(this);\r\n\t\t\tthis.renderHit && this._create(\"hit\", this.data, this.style.currentHit);\r\n\t\t\tthis._create(\"shape\", this.data, this.style.current);\r\n\t\t}\r\n\t\t\r\n\t}\r\n);\r\n\r\nlang.setObject(\"dojox.drawing.stencil.Ellipse\", Ellipse);\r\nregistry.register({\r\n\tname:\"dojox.drawing.stencil.Ellipse\"\r\n}, \"stencil\");\r\n\r\nreturn Ellipse;\r\n});\r\n"]}