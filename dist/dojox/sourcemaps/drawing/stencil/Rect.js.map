{"version":3,"sources":["drawing/stencil/Rect.js"],"names":["define","lang","oo","Base","registry","Rect","declare","options","this","points","length","type","anchorType","baseRender","dataToPoints","d","data","x","y","width","height","pointsToData","p","s","e","r","_create","shp","sty","remove","container","createRect","setStroke","setFill","fill","_setNodeAtts","render","onBeforeRender","renderHit","style","currentHit","current","setObject","register","name"],"mappings":";;;;;;;AAAAA,QAAQ,kBAAmB,aAAc,UAAW,wBACpD,SAASC,EAAMC,EAAIC,EAAMC,GAEzB,IAAIC,EAAOH,EAAGI,QACbH,EACA,SAASI,GAGLC,KAAKC,OAAOC,SAQfC,KAAK,6BACLC,WAAY,QACZC,YAAW,EAEXC,aAAc,SAAmBC,GAUhC,OAPAA,EAAIA,GAAKP,KAAKQ,KACdR,KAAKC,SACHQ,EAAEF,EAAEE,EAAGC,EAAEH,EAAEG,IACXD,EAAEF,EAAEE,EAAIF,EAAEI,MAAOD,EAAEH,EAAEG,IACrBD,EAAEF,EAAEE,EAAIF,EAAEI,MAAOD,EAAEH,EAAEG,EAAIH,EAAEK,SAC3BH,EAAEF,EAAEE,EAAGC,EAAEH,EAAEG,EAAIH,EAAEK,SAEZZ,KAAKC,QAGbY,aAAc,SAAkBC,GAI/B,IAAIC,GADJD,EAAIA,GAAKd,KAAKC,QACJ,GACNe,EAAIF,EAAE,GAQV,OAPAd,KAAKQ,MACJC,EAAGM,EAAEN,EACLC,EAAGK,EAAEL,EACLC,MAAOK,EAAEP,EAAEM,EAAEN,EACbG,OAAQI,EAAEN,EAAEK,EAAEL,EACdO,EAAEjB,KAAKQ,KAAKS,GAAK,GAEXjB,KAAKQ,MAIbU,QAAS,SAAmBC,EAAoBZ,EAAaa,GAQ5DpB,KAAKqB,OAAOrB,KAAKmB,IACjBnB,KAAKmB,GAAOnB,KAAKsB,UAAUC,WAAWhB,GACpCiB,UAAUJ,GACVK,QAAQL,EAAIM,MAEd1B,KAAK2B,aAAa3B,KAAKmB,KAGxBS,OAAQ,WAMP5B,KAAK6B,eAAe7B,MACpBA,KAAK8B,WAAa9B,KAAKkB,QAAQ,MAAOlB,KAAKQ,KAAMR,KAAK+B,MAAMC,YAC5DhC,KAAKkB,QAAQ,QAASlB,KAAKQ,KAAMR,KAAK+B,MAAME,YAU/C,OALAxC,EAAKyC,UAAU,6BAA8BrC,GAC7CD,EAASuC,UACRC,KAAK,8BACH,WAEIvC","file":"../../../drawing/stencil/Rect.js","sourcesContent":["define([\"dojo/_base/lang\", \"../util/oo\", \"./_Base\", \"../manager/_registry\"], \r\nfunction(lang, oo, Base, registry){\r\n\r\nvar Rect = oo.declare(\r\n\tBase,\r\n\tfunction(options){\r\n\t\t// summary:\r\n\t\t//\t\tconstructor\r\n\t\tif(this.points.length){\r\n\t\t\t//this.render();\r\n\t\t}\r\n\t},\r\n\t{\r\n\t\t// summary:\r\n\t\t//\t\tCreates a dojox.gfx rectangle based on data or points provided.\r\n\r\n\t\ttype:\"dojox.drawing.stencil.Rect\",\r\n\t\tanchorType: \"group\",\r\n\t\tbaseRender:true,\r\n\t\t\r\n\t\tdataToPoints: function(/*Object*/d){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tConverts data to points.\r\n\t\t\td = d || this.data;\r\n\t\t\tthis.points = [\r\n\t\t\t\t{x:d.x, y:d.y}, \t\t\t\t\t\t// TL\r\n\t\t\t\t{x:d.x + d.width, y:d.y},\t\t\t\t// TR\r\n\t\t\t\t{x:d.x + d.width, y:d.y + d.height},\t// BR\r\n\t\t\t\t{x:d.x, y:d.y + d.height}\t\t\t\t// BL\r\n\t\t\t];\r\n\t\t\treturn this.points;\r\n\t\t},\r\n\t\t\r\n\t\tpointsToData: function(/*Array*/p){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tConverts points to data\r\n\t\t\tp = p || this.points;\r\n\t\t\tvar s = p[0];\r\n\t\t\tvar e = p[2];\r\n\t\t\tthis.data = {\r\n\t\t\t\tx: s.x,\r\n\t\t\t\ty: s.y,\r\n\t\t\t\twidth: e.x-s.x,\r\n\t\t\t\theight: e.y-s.y,\r\n\t\t\t\tr:this.data.r || 0\r\n\t\t\t};\r\n\t\t\treturn this.data;\r\n\t\t\t\r\n\t\t},\r\n\t\t\r\n\t\t_create: function(/*String*/shp, /*StencilData*/d, /*Object*/sty){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tCreates a dojox.gfx.shape based on passed arguments.\r\n\t\t\t//\t\tCan be called many times by implementation to create\r\n\t\t\t//\t\tmultiple shapes in one stencil.\r\n\r\n\t\t\t//console.log(\"render rect\", d)\r\n\t\t\t//console.log(\"rect sty:\", sty)\r\n\t\t\tthis.remove(this[shp]);\r\n\t\t\tthis[shp] = this.container.createRect(d)\r\n\t\t\t\t.setStroke(sty)\r\n\t\t\t\t.setFill(sty.fill);\r\n\t\t\t\r\n\t\t\tthis._setNodeAtts(this[shp]);\r\n\t\t},\r\n\t\t\r\n\t\trender: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tRenders the 'hit' object (the shape used for an expanded\r\n\t\t\t//\t\thit area and for highlighting) and the'shape' (the actual\r\n\t\t\t//\t\tdisplay object).\r\n\r\n\t\t\tthis.onBeforeRender(this);\r\n\t\t\tthis.renderHit && this._create(\"hit\", this.data, this.style.currentHit);\r\n\t\t\tthis._create(\"shape\", this.data, this.style.current);\r\n\t\t}\r\n\t}\r\n);\r\n\r\nlang.setObject(\"dojox.drawing.stencil.Rect\", Rect);\r\nregistry.register({\r\n\tname:\"dojox.drawing.stencil.Rect\"\r\n}, \"stencil\");\r\n\r\nreturn Rect;\r\n});\r\n"]}