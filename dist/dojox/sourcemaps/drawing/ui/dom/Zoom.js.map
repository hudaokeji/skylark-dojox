{"version":3,"sources":["drawing/ui/dom/Zoom.js"],"names":["define","dojo","oo","Plugin","Zoom","declare","options","node","className","innerHTML","this","domNode","create","id","class","makeButton","topClass","midClass","botClass","type","zoomInc","maxZoom","minZoom","zoomFactor","baseClass","name","cls","connect","document","evt","stopEvent","removeClass","addClass","onZoomIn","Math","min","canvas","setZoom","mouse","onZoom100","onZoomOut","max","setObject"],"mappings":";;;;;;;AAAAA,QAAQ,OAAQ,gBAAiB,yBACjC,SAASC,EAAMC,EAAIC,GAEnB,IAAIC,EAAOF,EAAGG,QAgBbF,EACA,SAASG,GACEA,EAAQC,KAAKC,UACbF,EAAQC,KAAKE,UACvBC,KAAKC,QAAUV,EAAKW,OAAO,OAAQC,GAAG,UAAWC,MAAQ,aAAcR,EAAQC,KAAM,WAErFG,KAAKK,WAAW,SAAUL,KAAKM,UAC/BN,KAAKK,WAAW,UAAWL,KAAKO,UAChCP,KAAKK,WAAW,UAAWL,KAAKQ,YAIhCC,KAAK,4BAILC,QAAQ,GAIRC,QAAQ,GAIRC,QAAQ,GAIRC,WAAW,EAIXC,UAAU,gBAIVR,SAAS,eAITC,SAAS,eAITC,SAAS,eAETH,WAAY,SAASU,EAAMC,GAI1B,IAAInB,EAAON,EAAKW,OAAO,OAAQC,GAAG,MAAMY,EAAMX,MAAQJ,KAAKc,UAAU,IAAIE,EACxEjB,UAAU,wCAAwCgB,EAAK,YAAaf,KAAKC,SAE1EV,EAAK0B,QAAQC,SAAU,UAAW,SAASC,GAC1C5B,EAAK6B,UAAUD,GACf5B,EAAK8B,YAAYxB,EAAM,YAExBN,EAAK0B,QAAQpB,EAAM,UAAWG,KAAM,SAASmB,GAC5C5B,EAAK6B,UAAUD,GACf5B,EAAK8B,YAAYxB,EAAM,UACvBG,KAAK,KAAKe,OAEXxB,EAAK0B,QAAQpB,EAAM,YAAa,SAASsB,GACxC5B,EAAK6B,UAAUD,GACf5B,EAAK+B,SAASzB,EAAM,WAErBN,EAAK0B,QAAQpB,EAAM,YAAaG,KAAM,SAASmB,GAC9C5B,EAAK6B,UAAUD,GACf5B,EAAK+B,SAASzB,EAAM,YAGrBN,EAAK0B,QAAQpB,EAAM,WAAYG,KAAM,SAASmB,GAC7C5B,EAAK6B,UAAUD,GACf5B,EAAK8B,YAAYxB,EAAM,YAKzB0B,SAAU,SAAwBJ,GAIjCnB,KAAKa,YAAcb,KAAKU,QACxBV,KAAKa,WAAaW,KAAKC,IAAIzB,KAAKa,WAAYb,KAAKW,SACjDX,KAAK0B,OAAOC,QAAQ3B,KAAKa,YACzBb,KAAK4B,MAAMD,QAAQ3B,KAAKa,aAEzBgB,UAAW,SAAwBV,GAIlCnB,KAAKa,WAAa,EAClBb,KAAK0B,OAAOC,QAAQ3B,KAAKa,YACzBb,KAAK4B,MAAMD,QAAQ3B,KAAKa,aAEzBiB,UAAW,SAAwBX,GAIlCnB,KAAKa,YAAcb,KAAKU,QACxBV,KAAKa,WAAaW,KAAKO,IAAI/B,KAAKa,WAAYb,KAAKY,SACjDZ,KAAK0B,OAAOC,QAAQ3B,KAAKa,YACzBb,KAAK4B,MAAMD,QAAQ3B,KAAKa,eAQ3B,OAHAtB,EAAKyC,UAAU,4BAA6BtC,GAGrCA","file":"../../../../drawing/ui/dom/Zoom.js","sourcesContent":["define([\"dojo\", \"../../util/oo\", \"../../plugins/_Plugin\"], \r\nfunction(dojo, oo, Plugin){\r\n\r\nvar Zoom = oo.declare(\r\n\t// NOTE:\r\n\t//\t\tdojox.drawing.ui.dom.Zoom is DEPRECATED.\r\n\t//\t\tThis was a temporary DOM solution. Use the non-dom\r\n\t//\t\ttools for Toolbar and Plugins.\r\n\r\n\t// summary:\r\n\t//\t\tA plugin that allows for zooming the canvas in and out. An\r\n\t//\t\taction-tool is added to the toolbar with plus, minus and 100%\r\n\t//\t\tbuttons.\r\n\t// example:\r\n\t//\t\t|\t<div dojoType=\"dojox.drawing.Toolbar\" drawingId=\"drawingNode\" class=\"drawingToolbar vertical\">\r\n\t//\t\t|\t\t<div tool=\"dojox.drawing.tools.Line\" selected=\"true\">Line</div>\r\n\t//\t\t|\t\t<div plugin=\"dojox.drawing.ui.dom.Zoom\" options=\"{zoomInc:.1,minZoom:.5,maxZoom:2}\">Zoom</div>\r\n\t//\t\t|\t</div>\r\n\r\n\tPlugin,\r\n\tfunction(options){\r\n\t\tvar cls = options.node.className;\r\n\t\tvar txt = options.node.innerHTML;\r\n\t\tthis.domNode = dojo.create(\"div\", {id:\"btnZoom\", \"class\":\"toolCombo\"}, options.node, \"replace\");\r\n\t\t\r\n\t\tthis.makeButton(\"ZoomIn\", this.topClass);\r\n\t\tthis.makeButton(\"Zoom100\", this.midClass);\r\n\t\tthis.makeButton(\"ZoomOut\", this.botClass);\r\n\t\t\r\n\t},\r\n\t{\r\n\t\ttype:\"dojox.drawing.ui.dom.Zoom\",\r\n\r\n\t\t// zoomInc: Float\r\n\t\t//\t\tThe amount of zoom that will occur upon each click.\r\n\t\tzoomInc:.1,\r\n\r\n\t\t// maxZoom: Number\r\n\t\t//\t\tThe maximum the canvas can be zoomed in. 10 = 1000%\r\n\t\tmaxZoom:10,\r\n\r\n\t\t// minZoom: Float\r\n\t\t//\t\tThe most the canvas can be zoomed out. .1 = 10%\r\n\t\tminZoom:.1,\r\n\r\n\t\t// zoomFactor: [readonly] Float\r\n\t\t//\t\tThe current zoom amount\r\n\t\tzoomFactor:1,\r\n\r\n\t\t// baseClass: String\r\n\t\t//\t\tThe CSS class added to the Toolbar buttons\r\n\t\tbaseClass:\"drawingButton\",\r\n\r\n\t\t// topClass: String\r\n\t\t//\t\tThe CSS class added to the top (or left) Toolbar button\r\n\t\ttopClass:\"toolComboTop\",\r\n\r\n\t\t// midClass: String\r\n\t\t//\t\tThe CSS class added to the middle Toolbar button\r\n\t\tmidClass:\"toolComboMid\",\r\n\r\n\t\t// botClass: String\r\n\t\t//\t\tThe CSS class added to the bottom (or right) Toolbar button\r\n\t\tbotClass:\"toolComboBot\",\r\n\r\n\t\tmakeButton: function(name, cls){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tInternal. Creates one of the buttons in the zoom-button set.\r\n\r\n\t\t\tvar node = dojo.create(\"div\", {id:\"btn\"+name, \"class\":this.baseClass+\" \"+cls,\r\n\t\t\t\tinnerHTML:'<div title=\"Zoom In\" class=\"icon icon'+name+'\"></div>'}, this.domNode);\r\n\t\t\t\r\n\t\t\tdojo.connect(document, \"mouseup\", function(evt){\r\n\t\t\t\tdojo.stopEvent(evt);\r\n\t\t\t\tdojo.removeClass(node, \"active\");\r\n\t\t\t});\r\n\t\t\tdojo.connect(node, \"mouseup\", this, function(evt){\r\n\t\t\t\tdojo.stopEvent(evt);\r\n\t\t\t\tdojo.removeClass(node, \"active\");\r\n\t\t\t\tthis[\"on\"+name](); // this is what calls the methods below\r\n\t\t\t});\r\n\t\t\tdojo.connect(node, \"mouseover\", function(evt){\r\n\t\t\t\tdojo.stopEvent(evt);\r\n\t\t\t\tdojo.addClass(node, \"hover\");\r\n\t\t\t});\r\n\t\t\tdojo.connect(node, \"mousedown\", this, function(evt){\r\n\t\t\t\tdojo.stopEvent(evt);\r\n\t\t\t\tdojo.addClass(node, \"active\");\r\n\t\t\t});\r\n\t\t\t\r\n\t\t\tdojo.connect(node, \"mouseout\", this, function(evt){\r\n\t\t\t\tdojo.stopEvent(evt);\r\n\t\t\t\tdojo.removeClass(node, \"hover\");\r\n\t\t\t});\r\n\t\t\r\n\t\t},\r\n\t\t\r\n\t\tonZoomIn: function(/*Mouse Event*/evt){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tHandles zoom in.\r\n\r\n\t\t\tthis.zoomFactor += this.zoomInc;\r\n\t\t\tthis.zoomFactor = Math.min(this.zoomFactor, this.maxZoom);\r\n\t\t\tthis.canvas.setZoom(this.zoomFactor);\r\n\t\t\tthis.mouse.setZoom(this.zoomFactor);\r\n\t\t},\r\n\t\tonZoom100: function(/*Mouse Event*/evt){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tZooms to 100%\r\n\r\n\t\t\tthis.zoomFactor = 1;\r\n\t\t\tthis.canvas.setZoom(this.zoomFactor);\r\n\t\t\tthis.mouse.setZoom(this.zoomFactor);\r\n\t\t},\r\n\t\tonZoomOut: function(/*Mouse Event*/evt){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tHandles zoom out.\r\n\r\n\t\t\tthis.zoomFactor -= this.zoomInc;\r\n\t\t\tthis.zoomFactor = Math.max(this.zoomFactor, this.minZoom);\r\n\t\t\tthis.canvas.setZoom(this.zoomFactor);\r\n\t\t\tthis.mouse.setZoom(this.zoomFactor);\r\n\t\t}\r\n\t}\r\n);\r\n\r\ndojo.setObject(\"dojox.drawing.ui.dom.Zoom\", Zoom);\r\n//dojox.drawing.register(dojox.drawing.plugins.tools.Pan, \"plugin\");\r\n\r\nreturn Zoom;\r\n});\r\n"]}