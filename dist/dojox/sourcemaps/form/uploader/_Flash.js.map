{"version":3,"sources":["form/uploader/_Flash.js"],"names":["define","domForm","domStyle","domConstruct","domAttr","declare","config","connect","lang","arrayUtil","embedFlash","swfPath","uploaderPath","require","toUrl","preventCache","skipServerCheck","serverTimeout","isDebug","devMode","deferredUploading","postMixInProperties","this","uploadType","_files","_fileMap","_createInput","_createFlashUploader","getFileList","getFlashFileList","reset","flashReset","upload","uploadFlash","fieldname","inherited","arguments","onReady","uploader","onLoad","onFileChange","fileArray","onFileProgress","flashMovie","formData","onBegin","returnType","console","log","doUpload","_change","concat","forEach","f","bytesLoaded","bytesTotal","size","name","onChange","_complete","_getCustomEvent","type","onComplete","_progress","o","onProgress","_error","err","onError","_onFlashBlur","timeStamp","Date","getTime","nm","decimal","percent","Math","ceil","_connectFlash","_subs","_cons","doSub","hitch","s","funcStr","push","subscribe","id","domNode","focus","doFocus","tabIndex","set","w","btnSize","h","url","getUrl","toLowerCase","indexOf","loc","window","location","href","split","pop","join","warn","inputNode","create","className","position","top","width","height","opacity","args","expressInstall","path","uri","allowScriptAccess","allowNetworking","vars","uploadDataFieldName","flashFieldName","uploadUrl","uploadOnSelect","selectMultipleFiles","multiple","noReturnCheck","params","scale","wmode","flashObject","msg","error","mov","flashReady","setTimeout","dojo","_getButtonStyle"],"mappings":"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","file":"../../../form/uploader/_Flash.js","sourcesContent":["define([\r\n\t\"dojo/dom-form\",\r\n\t\"dojo/dom-style\",\r\n\t\"dojo/dom-construct\",\r\n\t\"dojo/dom-attr\",\r\n\t\"dojo/_base/declare\",\r\n\t\"dojo/_base/config\",\r\n\t\"dojo/_base/connect\",\r\n\t\"dojo/_base/lang\",\r\n\t\"dojo/_base/array\",\r\n\t\"dojox/embed/Flash\"\r\n],function(domForm, domStyle, domConstruct, domAttr, declare, config, connect, lang, arrayUtil, embedFlash){\r\n\r\n\r\n\treturn declare(\"dojox.form.uploader._Flash\", [], {\r\n\t\t// summary:\r\n\t\t//\t\tA mixin for dojox/form/Uploader that utilizes a Flash SWF for handling to upload in IE.\r\n\t\t//\t\tAll other browsers will use the HTML5 plugin, unless force=\"flash\" is used, then Flash\r\n\t\t//\t\twill be used in all browsers. force=\"flash\"\tis provided because Flash has some features\r\n\t\t//\t\tthat HTML5 does not yet have. But it is still not recommended because of the many problems\r\n\t\t//\t\tthat Firefox and Webkit have with the Flash plugin.\r\n\t\t//\r\n\t\t// description:\r\n\t\t//\t\tAll properties and methods listed here are specific to the Flash version only.\r\n\t\t//\r\n\t\t//\r\n\t\t// swfPath:String\r\n\t\t//\t\tPath to SWF. Can be overwritten or provided in djConfig.\r\n\t\tswfPath:config.uploaderPath || require.toUrl(\"dojox/form/resources/uploader.swf\"),\r\n\r\n\t\t// preventCache: Boolean\r\n\t\t//\t\tIf true, then flash request is sent with a value that changes with each request (timestamp)\r\n\t\tpreventCache: true,\r\n\t\r\n\t\t// skipServerCheck: Boolean\r\n\t\t//\t\tIf true, will not verify that the server was sent the correct format.\r\n\t\t//\t\tThis can be safely set to true. The purpose of the server side check\r\n\t\t//\t\tis mainly to show the dev if they've implemented the different returns\r\n\t\t//\t\tcorrectly.\r\n\t\tskipServerCheck:true,\r\n\t\r\n\t\t// serverTimeout:Number (milliseconds)\r\n\t\t//\t\tThe amount of time given to the uploaded file\r\n\t\t//\t\tto wait for a server response. After this amount\r\n\t\t//\t\tof time, the onComplete is fired but with a 'server timeout'\r\n\t\t//\t\terror in the returned item.\r\n\t\tserverTimeout: 2000,\r\n\t\r\n\t\t// isDebug: Boolean\r\n\t\t//\t\tIf true, outputs traces from the SWF to console. What exactly gets passed\r\n\t\t//\t\tis very relative, and depends upon what traces have been left in the DEFT SWF.\r\n\t\tisDebug:false,\r\n\t\r\n\t\t// devMode: Boolean.\r\n\t\t//\t\tRe-implemented. devMode increases the logging, adding style tracing from the SWF.\r\n\t\tdevMode:false,\r\n\t\r\n\t\t// deferredUploading: Number (1 - X)\r\n\t\t//\t\t(Flash only) throttles the upload to a certain amount of files at a time.\r\n\t\t//\t\tBy default, Flash uploads file one at a time to the server, but in parallel.\r\n\t\t//\t\tFirefox will try to queue all files at once, leading to problems. Set this\r\n\t\t//\t\tto the amount to upload in parallel at a time.\r\n\t\t//\t\tGenerally, 1 should work fine, but you can experiment with queuing more than\r\n\t\t//\t\tone at a time.\r\n\t\t//\t\tThis is of course ignored if selectMultipleFiles equals false.\r\n\t\tdeferredUploading:0,\r\n\t\r\n\t\tpostMixInProperties: function(){\r\n\t\t\tif(this.uploadType === 'flash'){\r\n\t\t\t\tthis._files = [];\r\n\t\t\t\tthis._fileMap = {};\r\n\t\t\t\tthis._createInput = this._createFlashUploader;\r\n\t\t\t\tthis.getFileList = this.getFlashFileList;\r\n\t\t\t\tthis.reset = this.flashReset;\r\n\t\t\t\tthis.upload = this.uploadFlash;\r\n\t\t\t\tthis.fieldname = \"flashUploadFiles\"; ///////////////////// this.name\r\n\t\t\t}\r\n\t\t\tthis.inherited(arguments);\r\n\t\t},\r\n\t\r\n\t\t/*************************\r\n\t\t *\t   Public Events\t *\r\n\t\t *************************/\r\n\t\r\n\t\tonReady: function(/*dojox/form/FileUploader*/ uploader){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tStub - Fired when embedFlash has created the\r\n\t\t\t//\t\tFlash object, but it has not necessarilly finished\r\n\t\t\t//\t\tdownloading, and is ready to be communicated with.\r\n\t\t},\r\n\t\r\n\t\tonLoad: function(/*dojox/form/FileUploader*/ uploader){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tStub - SWF has been downloaded 100%.\r\n\t\t},\r\n\t\r\n\t\tonFileChange: function(fileArray){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tStub - Flash-specific event. Fires on each selection of files\r\n\t\t\t//\t\tand only provides the files selected on that event - not all files\r\n\t\t\t//\t\tselected, as with HTML5\r\n\t\t},\r\n\t\r\n\t\tonFileProgress: function(fileArray){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tStub - Flash-specific event. Fires on progress of upload\r\n\t\t\t//\t\tand only provides a file-specific event\r\n\t\t},\r\n\t\r\n\t\r\n\t\t/*************************\r\n\t\t *\t   Public Methods\t *\r\n\t\t *************************/\r\n\t\r\n\t\tgetFlashFileList: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tReturns list of currently selected files\r\n\t\t\treturn this._files; // Array\r\n\t\t},\r\n\t\r\n\t\tflashReset: function(){\r\n\t\t\tthis.flashMovie.reset();\r\n\t\t\tthis._files = [];\r\n\t\t\tthis._fileMap = {};\r\n\t\t},\r\n\t\r\n\t\t/*************************\r\n\t\t *\t   Private Methods\t *\r\n\t\t *************************/\r\n\t\r\n\t\tuploadFlash: function(/*Object ? */ formData){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tUploads selected files. Alias \"upload()\" should be used instead.\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprivate\r\n\t\t\tthis.onBegin(this.getFileList());\r\n\t\t\tformData = formData || {};\r\n\t\t\tformData.returnType = \"F\";\r\n\t\t\tformData.uploadType = this.uploadType;\r\n\t\t\tconsole.log('flas upload', formData);\r\n\t\t\tthis.flashMovie.doUpload(formData);\r\n\t\t},\r\n\t\r\n\t\t_change: function(fileArray){\r\n\t\t\tthis._files = this._files.concat(fileArray);\r\n\t\t\tarrayUtil.forEach(fileArray, function(f){\r\n\t\t\t\tf.bytesLoaded = 0;\r\n\t\t\t\tf.bytesTotal = f.size;\r\n\t\t\t\tthis._fileMap[f.name+\"_\"+f.size] = f;\r\n\t\t\t}, this);\r\n\t\t\tthis.onChange(this._files);\r\n\t\t\tthis.onFileChange(fileArray);\r\n\t\t},\r\n\t\t_complete: function(fileArray){\r\n\t\t\tvar o = this._getCustomEvent();\r\n\t\t\to.type = \"load\";\r\n\t\t\tthis.onComplete(fileArray);\r\n\t\t},\r\n\t\t_progress: function(f){\r\n\t\t\tthis._fileMap[f.name+\"_\"+f.bytesTotal].bytesLoaded = f.bytesLoaded;\r\n\t\t\tvar o = this._getCustomEvent();\r\n\t\t\tthis.onFileProgress(f);\r\n\t\t\tthis.onProgress(o);\r\n\t\t},\r\n\t\t_error: function(err){\r\n\t\t\tthis.onError(err);\r\n\t\t},\r\n\t\t_onFlashBlur: function(fileArray){\r\n\t\t\t//console.log(\"UploaderFlash._onFlashBlur\");\r\n\t\t},\r\n\t\r\n\t\t_getCustomEvent: function(){\r\n\t\t\tvar o = {\r\n\t\t\t\tbytesLoaded:0,\r\n\t\t\t\tbytesTotal:0,\r\n\t\t\t\ttype:\"progress\",\r\n\t\t\t\ttimeStamp:new Date().getTime()\r\n\t\t\t};\r\n\t\r\n\t\r\n\t\t\tfor(var nm in this._fileMap){\r\n\t\t\t\to.bytesTotal += this._fileMap[nm].bytesTotal;\r\n\t\t\t\to.bytesLoaded += this._fileMap[nm].bytesLoaded;\r\n\t\t\t}\r\n\t\t\to.decimal = o.bytesLoaded / o.bytesTotal;\r\n\t\t\to.percent = Math.ceil((o.bytesLoaded / o.bytesTotal)*100)+\"%\";\r\n\t\t\treturn o; // Object\r\n\t\t},\r\n\t\r\n\t\t_connectFlash: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tSubscribing to published topics coming from the\r\n\t\t\t//\t\tFlash uploader.\r\n\t\r\n\t\t\t// Sacrificing some readability for compactness. this.id\r\n\t\t\t// will be on the beginning of the topic, so more than\r\n\t\t\t// one uploader can be on a page and can have unique calls.\r\n\t\r\n\t\t\tthis._subs = [];\r\n\t\t\tthis._cons = [];\r\n\t\r\n\t\t\tvar doSub = lang.hitch(this, function(s, funcStr){\r\n\t\t\t\tthis._subs.push(connect.subscribe(this.id + s, this, funcStr));\r\n\t\t\t});\r\n\t\r\n\t\t\tdoSub(\"/filesSelected\", \"_change\");\r\n\t\t\tdoSub(\"/filesUploaded\", \"_complete\");\r\n\t\t\tdoSub(\"/filesProgress\", \"_progress\");\r\n\t\t\tdoSub(\"/filesError\", \"_error\");\r\n\t\t\tdoSub(\"/filesCanceled\", \"onCancel\");\r\n\t\t\tdoSub(\"/stageBlur\", \"_onFlashBlur\");\r\n\t\r\n\t\t\tthis.connect(this.domNode, \"focus\", function(){\r\n\t\t\t\t// TODO: some kind of indicator that the Flash button is in focus\r\n\t\t\t\tthis.flashMovie.focus();\r\n\t\t\t\tthis.flashMovie.doFocus();\r\n\t\t\t});\r\n\t\t\tif(this.tabIndex>=0){\r\n\t\t\t\tdomAttr.set(this.domNode, \"tabIndex\", this.tabIndex);\r\n\t\t\t}\r\n\t\t},\r\n\t\t_createFlashUploader: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tInternal. Creates Flash Uploader\r\n\t\r\n\t\t\tvar w = this.btnSize.w;\r\n\t\t\tvar h = this.btnSize.h;\r\n\t\t\tif(!w){\r\n\t\t\t\t// FIXME: Commit this\r\n\t\t\t\tsetTimeout(dojo.hitch(this, function(){\r\n\t\t\t\t\tthis._getButtonStyle(this.domNode);\r\n\t\t\t\t\tthis._createFlashUploader();\r\n\t\t\t\t}), 200);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tvar url = this.getUrl();\r\n\t\t\tif(url){\r\n\t\t\t\tif(url.toLowerCase().indexOf(\"http\")<0 && url.indexOf(\"/\")!=0){\r\n\t\t\t\t\t// Appears to be a relative path. Attempt to\r\n\t\t\t\t\t// convert it to absolute, so it will better\r\n\t\t\t\t\t// target the SWF.\r\n\t\t\t\t\tvar loc = window.location.href.split(\"/\");\r\n\t\t\t\t\tloc.pop();\r\n\t\t\t\t\tloc = loc.join(\"/\")+\"/\";\r\n\t\t\t\t\turl = loc+url;\r\n\t\t\t\t}\r\n\t\t\t}else{\r\n\t\t\t\tconsole.warn(\"Warning: no uploadUrl provided.\");\r\n\t\t\t}\r\n\t\r\n\t\t\tthis.inputNode = domConstruct.create(\"div\", {className:\"dojoxFlashNode\"}, this.domNode, \"first\");\r\n\t\t\tdomStyle.set(this.inputNode, {\r\n\t\t\t\tposition:\"absolute\",\r\n\t\t\t\ttop:\"-2px\",\r\n\t\t\t\twidth:w+\"px\",\r\n\t\t\t\theight:h+\"px\",\r\n\t\t\t\topacity:0\r\n\t\t\t});\r\n\t\r\n\t\r\n\t\r\n\t\t\tvar args = {\r\n\t\t\t\texpressInstall:true,\r\n\t\t\t\tpath: (this.swfPath.uri || this.swfPath) + ((this.preventCache)?(\"?cb_\" + (new Date().getTime())):\"\"),\r\n\t\t\t\twidth: w,\r\n\t\t\t\theight: h,\r\n\t\t\t\tallowScriptAccess:\"always\",\r\n\t\t\t\tallowNetworking:\"all\",\r\n\t\t\t\tvars: {\r\n\t\t\t\t\tuploadDataFieldName: this.flashFieldName || this.name+\"Flash\",\r\n\t\t\t\t\tuploadUrl: url,\r\n\t\t\t\t\tuploadOnSelect: this.uploadOnSelect,\r\n\t\t\t\t\tdeferredUploading:this.deferredUploading || 0,\r\n\t\t\t\t\tselectMultipleFiles: this.multiple,\r\n\t\t\t\t\tid: this.id,\r\n\t\t\t\t\tisDebug: this.isDebug,\r\n\t\t\t\t\tnoReturnCheck: this.skipServerCheck,\r\n\t\t\t\t\tserverTimeout:this.serverTimeout\r\n\t\t\t\t},\r\n\t\t\t\tparams: {\r\n\t\t\t\t\tscale:\"noscale\",\r\n\t\t\t\t\t//wmode:\"transparent\",\r\n\t\t\t\t\twmode:\"opaque\",\r\n\t\t\t\t\tallowScriptAccess:\"always\",\r\n\t\t\t\t\tallowNetworking:\"all\"\r\n\t\t\t\t}\r\n\t\r\n\t\t\t};\r\n\t\r\n\t\t\tthis.flashObject = new embedFlash(args, this.inputNode);\r\n\t\t\tthis.flashObject.onError = lang.hitch(function(msg){\r\n\t\t\t\tconsole.error(\"Flash Error: \" + msg);\r\n\t\t\t});\r\n\t\t\tthis.flashObject.onReady = lang.hitch(this, function(){\r\n\t\t\t\tthis.onReady(this);\r\n\t\t\t});\r\n\t\t\tthis.flashObject.onLoad = lang.hitch(this, function(mov){\r\n\t\t\t\tthis.flashMovie = mov;\r\n\t\t\t\tthis.flashReady = true;\r\n\t\r\n\t\t\t\tthis.onLoad(this);\r\n\t\t\t});\r\n\t\t\tthis._connectFlash();\r\n\t\t}\r\n\t});\r\n});\r\n"]}