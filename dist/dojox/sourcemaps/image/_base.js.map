{"version":3,"sources":["image/_base.js"],"names":["define","dojo","dojox","getObject","cacheNode","d","image","preload","urls","create","style","position","top","height","overflow","body","map","url","src","config","preloadImages","addOnLoad"],"mappings":";;;;;;;AAAAA,QAAQ,OAAQ,SAAU,SAASC,EAAMC,GAExCD,EAAKE,UAAU,SAAS,EAAMD,GAC9B,IAEIE,EAFAC,EAAIJ,EAGRC,EAAMI,MAAMC,QAAU,SAAoBC,GAuBzC,OAPIJ,IACHA,EAAYC,EAAEI,OAAO,OACpBC,OAAQC,SAAS,WAAYC,IAAI,UAAWC,OAAO,MAAOC,SAAS,WACjET,EAAEU,SAICV,EAAEW,IAAIR,EAAM,SAASS,GAC3B,OAAOZ,EAAEI,OAAO,OAASS,IAAKD,GAAOb,MAcpCC,EAAEc,OAAOC,eACXf,EAAEgB,UAAU,WACXnB,EAAMI,MAAMC,QAAQF,EAAEc,OAAOC","file":"../../image/_base.js","sourcesContent":["define([\"dojo\", \"dojox\"], function(dojo, dojox){\r\n\t\r\n\tdojo.getObject(\"image\", true, dojox);\r\n\tvar d = dojo;\r\n\t\r\n\tvar cacheNode;\r\n\tdojox.image.preload = function(/* Array */urls){\r\n\t\t// summary:\r\n\t\t//\t\tPreload a list of images in the dom.\r\n\t\t// urls: Array\r\n\t\t//\t\tThe list of urls to load. Can be any valid .src attribute.\r\n\t\t// example:\r\n\t\t//\t\tLoad two images into cache:\r\n\t\t//\t|\tdojox.image.preload([\"foo.png\", \"bar.gif\"]);\r\n\t\t// example:\r\n\t\t//\t\tUsing djConfig:\r\n\t\t//\t|\tvar djConfig = {\r\n\t\t//\t|\t\tpreloadImages:[\"bar.png\", \"baz.png\", \"http://example.com/icon.gif\"]\r\n\t\t//\t|\t};\r\n\t\t// returns: Array\r\n\t\t//\t\tAn Array of DomNodes that have been cached.\r\n\t\t\r\n\t\tif(!cacheNode){\r\n\t\t\tcacheNode = d.create(\"div\", {\r\n\t\t\t\tstyle:{ position:\"absolute\", top:\"-9999px\", height:\"1px\", overflow:\"hidden\" }\r\n\t\t\t}, d.body());\r\n\t\t}\r\n\r\n\t\t// place them in the hidden cachenode\r\n\t\treturn d.map(urls, function(url){\r\n\t\t\treturn d.create(\"img\", { src: url }, cacheNode);\r\n\t\t});\r\n\t\r\n\t};\r\n\t\r\n\t/*=====\r\n\tdojo.mixin(djConfig, {\r\n\t\t// preloadImages: Array?\r\n\t\t//\t\tAn optional array of urls to preload immediately upon\r\n\t\t//\t\tpage load. Uses `dojox.image`, and is unused if not present.\r\n\t\tpreloadImages: []\r\n\t});\r\n\t=====*/\r\n\t\r\n\tif(d.config.preloadImages){\r\n\t\td.addOnLoad(function(){\r\n\t\t\tdojox.image.preload(d.config.preloadImages);\r\n\t\t});\r\n\t}\r\n\t\t\r\n//\tdojo.declare(\"dojox.image.Image\", dijit._Widget, {\r\n//\t\t// summary:\r\n//\t\t//\t\tan Image widget\r\n//\t\t// example:\r\n//\t\t//\t| new dojox.Image({ src:\"foo.png\", id:\"bar\" });\r\n//\r\n//\t\talt: \"\",\r\n//\t\tsrc: dojo._blankGif,\r\n//\t\ttitle: \"\",\r\n//\r\n//\t\tonLoad: function(e){\r\n//\t\t\t// summary:\r\n//\t\t\t//\t\tStub fired when this image is really ready.\r\n//\t\t},\r\n//\r\n//\t\t_onLoad: function(e){\r\n//\t\t\t// summary:\r\n//\t\t\t//\t\tprivate function to normalize `onLoad` for this\r\n//\t\t\t//\t\tinstance.\r\n//\t\t\tthis.onLoad(e);\r\n//\t\t},\r\n//\r\n//\t\t_setSrcAttr: function(newSrc){\r\n//\t\t\t// summary:\r\n//\t\t\t//\t\tFunction so widget.attr('src', someUrl) works\r\n//\r\n//\t\t\tvar ts = this.domNode, os = td.src;\r\n//\t\t\tif(os !== newSrc){\r\n//\t\t\t\ttd.src = newSrc;\r\n//\t\t\t}\r\n//\t\t},\r\n//\r\n//\t\t/* Sugar Functions: */\r\n//\r\n//\t\tcrossFade: function(newSrc){\r\n//\t\t\t// summary:\r\n//\t\t\t//\t\tSet this Image to a new src with crossfading\r\n//\t\t\t// example:\r\n//\t\t\t// |\tdijit.byId(\"bar\").crossFade(\"/images/newImage.png\");\r\n//\t\t\t//\r\n//\r\n//\t\t\td.fadeOut({\r\n//\t\t\t\tnode: this.domNode,\r\n//\t\t\t\tonEnd: d.hitch(this, function(){\r\n//\t\t\t\t\tthis.attr('src', newSrc);\r\n//\t\t\t\t\td.fadeIn({\r\n//\t\t\t\t\t\tnode: this.domNode,\r\n//\t\t\t\t\t\tdelay: 75\r\n//\t\t\t\t\t}).play();\r\n//\t\t\t\t})\r\n//\t\t\t}).play();\r\n//\t\t},\r\n//\r\n//\t\t/* Overrides */\r\n//\r\n//\t\tbuildRendering: function(){\r\n//\t\t\t// override buildrendering to create a real \"img\" instead of a div\r\n//\t\t\t// when no srcNodeRef is passed. also wire up single onload.\r\n//\t\t\tthis.domNode = this.srcNodeRef || d.create('img');\r\n//\t\t\tthis.connect(this.domNode, \"onload\", \"_onload\");\r\n//\t\t}\r\n//\r\n//\t});\r\n\t\t\r\n});"]}