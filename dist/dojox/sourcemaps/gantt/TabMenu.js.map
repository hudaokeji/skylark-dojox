{"version":3,"sources":["gantt/TabMenu.js"],"names":["define","contextMenuTab","GanttTaskControl","GanttProjectControl","Dialog","Button","Form","registry","declare","arrayUtil","lang","locale","request","on","dom","domClass","domConstruct","domStyle","domAttr","domGeometry","keys","constructor","chart","this","ganttChart","menuPanel","paneContentArea","paneActionBar","tabPanelDlg","tabPanelDlgId","arrTabs","isShow","buildContent","createMenuPanel","createTabPanel","taskSucAdd","createTab","addItem","addAction","taskChildAdd","taskDuration","taskCP","taskOwner","taskPrevious","taskRename","projectAdd","projectCP","projectRename","projectTaskAdd","create","innerHTML","className","content","add","firstChild","cellPadding","cellSpacing","byId","title","id","closeButtonNode","style","display","tabPanel","containerNode","headerCell","rows","cells","colSpan","contentCell","align","ok","label","cancel","appendChild","domNode","addItemMenuPanel","tab","row","insertRow","length","cell","Description","set","_events","push","hitch","hide","show","e","console","log","message","event","keyCode","ENTER","remove","elem","object","forEach","type","zIndex","visibility","menuBox","position","bBox","pos","y","h","top","isBodyLtr","left","x","w","clear","removeChild","desc","showOInfo","menu","withDefaultValue"],"mappings":"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","file":"../../gantt/TabMenu.js","sourcesContent":["define([\r\n\t\"./contextMenuTab\",\r\n\t\"./GanttTaskControl\",\r\n\t\"./GanttProjectControl\",\r\n\t\"dijit/Dialog\",\r\n\t\"dijit/form/Button\",\r\n\t\"dijit/form/Form\",\r\n\t\"dijit/registry\",\r\n\t\"dojo/_base/declare\",\r\n\t\"dojo/_base/array\",\r\n\t\"dojo/_base/lang\",\r\n    \"dojo/date/locale\",\r\n\t\"dojo/request\",\r\n\t\"dojo/on\",\r\n\t\"dojo/dom\",\r\n\t\"dojo/dom-class\",\r\n\t\"dojo/dom-construct\",\r\n\t\"dojo/dom-style\",\r\n\t\"dojo/dom-attr\",\r\n\t\"dojo/dom-geometry\",\r\n\t\"dojo/keys\",\r\n\t\"dojo/domReady!\"\r\n], function(contextMenuTab, GanttTaskControl, GanttProjectControl,\r\n\t\tDialog, Button, Form,\r\n\t\tregistry, declare, arrayUtil, lang, locale, request, on,\r\n\t\tdom, domClass, domConstruct, domStyle, domAttr, domGeometry, keys){\r\n\treturn declare(\"dojox.gantt.TabMenu\", [], {\r\n\t\tconstructor: function(chart){\r\n\t\t\tthis.ganttChart = chart;\r\n\t\t\tthis.menuPanel = null;\r\n\t\t\tthis.paneContentArea = null;\r\n\t\t\tthis.paneActionBar = null;\r\n\t\t\tthis.tabPanelDlg = null;\r\n\t\t\tthis.tabPanelDlgId = null;\r\n\t\t\tthis.arrTabs = [];\r\n\t\t\tthis.isShow = false;\r\n\t\t\tthis.buildContent();\r\n\t\t},\r\n\t\tbuildContent: function(){\r\n\t\t\tthis.createMenuPanel();\r\n\t\t\tthis.createTabPanel();\r\n\t\t\t\r\n\t\t\t//tasks customization\r\n\t\t\tvar taskSucAdd = this.createTab(11, \"Add Successor Task\", \"t\", true, this);\r\n\t\t\ttaskSucAdd.addItem(1, \"Id\", \"id\", true);\r\n\t\t\ttaskSucAdd.addItem(2, \"Name\", \"name\");\r\n\t\t\ttaskSucAdd.addItem(3, \"Start Time\", \"startTime\");\r\n\t\t\ttaskSucAdd.addItem(4, \"Duration (hours)\", \"duration\");\r\n\t\t\ttaskSucAdd.addItem(5, \"Percent Complete (%)\", \"percentage\");\r\n\t\t\ttaskSucAdd.addItem(6, \"Task Assignee\", \"taskOwner\");\r\n\t\t\ttaskSucAdd.addAction(\"addSuccessorTaskAction\");\r\n\t\t\t\r\n\t\t\tvar taskChildAdd = this.createTab(10, \"Add Child Task\", \"t\", true, this);\r\n\t\t\ttaskChildAdd.addItem(1, \"Id\", \"id\", true);\r\n\t\t\ttaskChildAdd.addItem(2, \"Name\", \"name\");\r\n\t\t\ttaskChildAdd.addItem(3, \"Start Time\", \"startTime\");\r\n\t\t\ttaskChildAdd.addItem(4, \"Duration (hours)\", \"duration\");\r\n\t\t\ttaskChildAdd.addItem(5, \"Percent Complete (%)\", \"percentage\");\r\n\t\t\ttaskChildAdd.addItem(6, \"Task Assignee\", \"taskOwner\");\r\n\t\t\ttaskChildAdd.addAction(\"addChildTaskAction\");\r\n\t\t\t\r\n\t\t\tvar taskDuration = this.createTab(4, \"Set Duration(hours)\", \"t\", true, this, true);\r\n\t\t\ttaskDuration.addItem(1, \"Duration (hours)\", \"duration\", true);\r\n\t\t\ttaskDuration.addAction(\"durationUpdateAction\");\r\n\t\t\t\r\n\t\t\tvar taskCP = this.createTab(5, \"Set Complete Percentage (%)\", \"t\", true, this, true);\r\n\t\t\ttaskCP.addItem(1, \"Percent Complete (%)\", \"percentage\", true);\r\n\t\t\ttaskCP.addAction(\"cpUpdateAction\");\r\n\t\t\t\r\n\t\t\tvar taskOwner = this.createTab(20, \"Set Owner\", \"t\", true, this, true);\r\n\t\t\ttaskOwner.addItem(1, \"Task Assignee\", \"taskOwner\", true);\r\n\t\t\ttaskOwner.addAction(\"ownerUpdateAction\");\r\n\t\t\t\r\n\t\t\tvar taskPrevious = this.createTab(13, \"Set Previous Task\", \"t\", true, this);\r\n\t\t\ttaskPrevious.addItem(1, \"Previous Task Id\", \"previousTaskId\", true);\r\n\t\t\ttaskPrevious.addAction(\"ptUpdateAction\");\r\n\t\t\t\r\n\t\t\tvar taskRename = this.createTab(1, \"Rename Task\", \"t\", true, this, true);\r\n\t\t\ttaskRename.addItem(1, \"New Name\", \"name\", true);\r\n\t\t\ttaskRename.addAction(\"renameTaskAction\");\r\n\t\t\t\r\n\t\t\tvar taskDelete = this.createTab(2, \"Delete Task\", \"t\", true, this);\r\n\t\t\ttaskDelete.addAction(\"deleteAction\");\r\n\t\t\t\r\n\t\t\t//projects customization\r\n\t\t\tvar projectAdd = this.createTab(12, \"Add New Project\", \"p\", false, this);\r\n\t\t\tprojectAdd.addItem(1, \"Id\", \"id\", true);\r\n\t\t\tprojectAdd.addItem(2, \"Name\", \"name\", true);\r\n\t\t\tprojectAdd.addItem(3, \"Start Date\", \"startDate\", true);\r\n\t\t\tprojectAdd.addAction(\"addProjectAction\");\r\n\t\t\t\r\n\t\t\tvar projectCP = this.createTab(8, \"Set Complete Percentage (%)\", \"p\", true, this, true);\r\n\t\t\tprojectCP.addItem(1, \"Percent Complete (%)\", \"percentage\", true);\r\n\t\t\tprojectCP.addAction(\"cpProjectAction\");\r\n\t\t\t\r\n\t\t\tvar projectRename = this.createTab(6, \"Rename Project\", \"p\", true, this, true);\r\n\t\t\tprojectRename.addItem(1, \"New Name\", \"name\", true);\r\n\t\t\tprojectRename.addAction(\"renameProjectAction\");\r\n\t\t\t\r\n\t\t\tvar projectDelete = this.createTab(7, \"Delete Project\", \"p\", true, this);\r\n\t\t\tprojectDelete.addAction(\"deleteProjectAction\");\r\n\t\t\t\r\n\t\t\t//task relative\r\n\t\t\tvar projectTaskAdd = this.createTab(9, \"Add New Task\", \"p\", true, this);\r\n\t\t\tprojectTaskAdd.addItem(1, \"Id\", \"id\", true);\r\n\t\t\tprojectTaskAdd.addItem(2, \"Name\", \"name\");\r\n\t\t\tprojectTaskAdd.addItem(3, \"Start Time\", \"startTime\");\r\n\t\t\tprojectTaskAdd.addItem(4, \"Duration (hours)\", \"duration\");\r\n\t\t\tprojectTaskAdd.addItem(5, \"Percent Complete (%)\", \"percentage\");\r\n\t\t\tprojectTaskAdd.addItem(6, \"Task Assignee\", \"taskOwner\");\r\n\t\t\tprojectTaskAdd.addItem(7, \"Parent Task Id\", \"parentTaskId\");\r\n\t\t\tprojectTaskAdd.addItem(8, \"Previous Task Id\", \"previousTaskId\");\r\n\t\t\tprojectTaskAdd.addAction(\"addTaskAction\");\r\n\t\t},\r\n\t\tcreateMenuPanel: function(){\r\n\t\t\tthis.menuPanel = domConstruct.create(\"div\", {\r\n\t\t\t\tinnerHTML: \"<table></table>\",\r\n\t\t\t\tclassName: \"ganttMenuPanel\"\r\n\t\t\t}, this.ganttChart.content);\r\n\t\t\tdomClass.add(this.menuPanel.firstChild, \"ganttContextMenu\");\r\n\t\t\tthis.menuPanel.firstChild.cellPadding = 0;\r\n\t\t\tthis.menuPanel.firstChild.cellSpacing = 0;\r\n\t\t},\r\n\t\tcreateTabPanel: function(){\r\n\t\t\tthis.tabPanelDlg = registry.byId(this.tabPanelDlgId) ||\r\n\t\t\t\tnew Dialog({\r\n\t\t\t\t\ttitle: \"Settings\"\r\n\t\t\t\t});\r\n\t\t\tthis.tabPanelDlgId = this.tabPanelDlg.id;\r\n\t\t\tthis.tabPanelDlg.closeButtonNode.style.display = \"none\";\r\n\t\t\tvar tabPanel = this.tabPanelDlg.containerNode;\r\n\t\t\tthis.paneContentArea = domConstruct.create(\"div\", {className: \"dijitDialogPaneContentArea\"}, tabPanel);\r\n\t\t\tthis.paneActionBar = domConstruct.create(\"div\", {className: \"dijitDialogPaneActionBar\"}, tabPanel);\r\n\t\t\tthis.paneContentArea.innerHTML = \"<table cellpadding=0 cellspacing=0><tr><th></th></tr><tr><td></td></tr></table>\";\r\n\t\t\tvar headerCell = this.paneContentArea.firstChild.rows[0].cells[0];\r\n\t\t\theaderCell.colSpan = 2;\r\n\t\t\theaderCell.innerHTML = \"Description: \";\r\n\t\t\tdomClass.add(headerCell, \"ganttDialogContentHeader\");\r\n\t\t\tvar contentCell = this.paneContentArea.firstChild.rows[1].cells[0];\r\n\t\t\tcontentCell.innerHTML = \"<table></table>\";\r\n\t\t\tdomClass.add(contentCell.firstChild, \"ganttDialogContentCell\");\r\n\t\t\tcontentCell.align = \"center\";\r\n\t\t\tthis.ok = new Button({label: \"OK\"});\r\n\t\t\tthis.cancel = new Button({label: \"Cancel\"});\r\n\t\t\tthis.paneActionBar.appendChild(this.ok.domNode);\r\n\t\t\tthis.paneActionBar.appendChild(this.cancel.domNode);\r\n\t\t},\r\n\t\taddItemMenuPanel: function(tab){\r\n\t\t\tvar row = this.menuPanel.firstChild.insertRow(this.menuPanel.firstChild.rows.length);\r\n\t\t\tvar cell = domConstruct.create(\"td\", {\r\n\t\t\t\tclassName: \"ganttContextMenuItem\",\r\n\t\t\t\tinnerHTML: tab.Description\r\n\t\t\t});\r\n\t\t\tdomAttr.set(cell, \"tabIndex\", 0);\r\n\t\t\tthis.ganttChart._events.push(\r\n\t\t\t\ton(cell, \"click\", lang.hitch(this, function(){\r\n\t\t\t\t\ttry{\r\n\t\t\t\t\t\tthis.hide();\r\n\t\t\t\t\t\ttab.show();\r\n\t\t\t\t\t}catch(e){\r\n\t\t\t\t\t\tconsole.log(\"dialog open exception: \" + e.message);\r\n\t\t\t\t\t}\r\n\t\t\t\t}))\r\n\t\t\t);\r\n\t\t\tthis.ganttChart._events.push(\r\n\t\t\t\ton(cell, \"keydown\", lang.hitch(this, function(event){\r\n\t\t\t\t\tif(event.keyCode != keys.ENTER){return;}\r\n\t\t\t\t\ttry{\r\n\t\t\t\t\t\tthis.hide();\r\n\t\t\t\t\t\ttab.show();\r\n\t\t\t\t\t}catch(e){\r\n\t\t\t\t\t\tconsole.log(\"dialog open exception: \" + e.message);\r\n\t\t\t\t\t}\r\n\t\t\t\t}))\r\n\t\t\t);\r\n\t\t\tthis.ganttChart._events.push(\r\n\t\t\t\ton(cell, \"mouseover\", lang.hitch(this, function(){\r\n\t\t\t\t\tdomClass.add(cell, \"ganttContextMenuItemHover\");\r\n\t\t\t\t}))\r\n\t\t\t);\r\n\t\t\tthis.ganttChart._events.push(\r\n\t\t\t\ton(cell, \"mouseout\", lang.hitch(this, function(){\r\n\t\t\t\t\tdomClass.remove(cell, \"ganttContextMenuItemHover\");\r\n\t\t\t\t}))\r\n\t\t\t);\r\n\t\t\trow.appendChild(cell);\r\n\t\t},\r\n\t\tshow: function(elem, object){\r\n\t\t\tif(object.constructor == GanttTaskControl){\r\n\t\t\t\tarrayUtil.forEach(this.arrTabs, function(tab){\r\n\t\t\t\t\tif(tab.type == \"t\"){\r\n\t\t\t\t\t\ttab.object = object;\r\n\t\t\t\t\t\tthis.addItemMenuPanel(tab);\r\n\t\t\t\t\t}\r\n\t\t\t\t}, this);\r\n\t\t\t}else if(object.constructor == GanttProjectControl){\r\n\t\t\t\tarrayUtil.forEach(this.arrTabs, function(tab){\r\n\t\t\t\t\tif(tab.type == \"p\"){\r\n\t\t\t\t\t\ttab.object = object;\r\n\t\t\t\t\t\tthis.addItemMenuPanel(tab);\r\n\t\t\t\t\t}\r\n\t\t\t\t}, this);\r\n\t\t\t}\r\n\t\t\tthis.isShow = true;\r\n\t\t\tdomStyle.set(this.menuPanel, {\r\n\t\t\t\tzIndex: 15,\r\n\t\t\t\tvisibility: \"visible\"\r\n\t\t\t});\r\n\t\t\t//make sure menu box inside gantt's bounding box\r\n\t\t\tvar menuBox = domGeometry.position(this.menuPanel, true),\r\n\t\t\t\tbBox = domGeometry.position(this.ganttChart.content, true),\r\n\t\t\t\tpos = domGeometry.position(elem, true);\r\n\t\t\tif((pos.y + menuBox.h) > (bBox.y + bBox.h + 50)){\r\n\t\t\t\tthis.menuPanel.style.top = pos.y - menuBox.h + pos.h + \"px\";\r\n\t\t\t}else{\r\n\t\t\t\tthis.menuPanel.style.top = pos.y + \"px\";\r\n\t\t\t}\r\n\t\t\tif(domGeometry.isBodyLtr()){\r\n\t\t\t\tthis.menuPanel.style.left = pos.x + pos.w + 5 + \"px\";\r\n\t\t\t}else{\r\n\t\t\t\tthis.menuPanel.style.left = pos.x - menuBox.w - 5 + \"px\";\r\n\t\t\t}\r\n\t\t},\r\n\t\thide: function(){\r\n\t\t\tthis.isShow = false;\r\n\t\t\tthis.menuPanel.style.visibility = \"hidden\";\r\n\t\t},\r\n\t\tclear: function(){\r\n\t\t\tthis.menuPanel.removeChild(this.menuPanel.firstChild);\r\n\t\t\tthis.menuPanel.innerHTML = \"<table></table>\";\r\n\t\t\tdomClass.add(this.menuPanel.firstChild, \"ganttContextMenu\");\r\n\t\t\tthis.menuPanel.firstChild.cellPadding = 0;\r\n\t\t\tthis.menuPanel.firstChild.cellSpacing = 0;\r\n\t\t},\r\n\t\tcreateTab: function(id, desc, type, showOInfo, menu, withDefaultValue){\r\n\t\t\tvar tab = new contextMenuTab(id, desc, type, showOInfo, menu, withDefaultValue);\r\n\t\t\tthis.arrTabs.push(tab);\r\n\t\t\treturn tab;\r\n\t\t}\r\n\t});\t\r\n});\r\n"]}