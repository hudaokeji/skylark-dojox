{"version":3,"sources":["gantt/GanttProjectItem.js"],"names":["define","GanttTaskItem","declare","constructor","configuration","this","id","name","startDate","Date","parentTasks","getTaskById","i","length","pTask","task","getTaskByIdInTree","parentTask","cldTasks","pcTask","cTask","addTask","push","setProject","deleteTask","nextChildTask","previousChildTask","splice","nextParentTask","previousParentTask"],"mappings":";;;;;;;AAAAA,QACC,kBACA,qBACA,wBACA,kBACE,SAASC,EAAeC,GAC1B,OAAOA,EAAQ,gCAAiCD,IAC/CE,YAAa,SAASC,GAErBC,KAAKC,GAAKF,EAAcE,GACxBD,KAAKE,KAAOH,EAAcG,MAAQF,KAAKC,GACvCD,KAAKG,UAAYJ,EAAcI,WAAa,IAAIC,KAChDJ,KAAKK,gBAENC,YAAa,SAASL,GACrB,IAAI,IAAIM,EAAI,EAAGA,EAAIP,KAAKK,YAAYG,OAAQD,IAAI,CAC/C,IAAIE,EAAQT,KAAKK,YAAYE,GACzBG,EAAOV,KAAKW,kBAAkBF,EAAOR,GACzC,GAAGS,EACF,OAAOA,EAGT,OAAO,MAERC,kBAAmB,SAASC,EAAYX,GACvC,GAAGW,EAAWX,IAAMA,EACnB,OAAOW,EAEP,IAAI,IAAIL,EAAI,EAAGA,EAAIK,EAAWC,SAASL,OAAQD,IAAI,CAClD,IAAIO,EAASF,EAAWC,SAASN,GACjC,GAAGO,EAAOb,IAAMA,EACf,OAAOa,EAER,GAAGA,EAAOD,SAASL,OAAS,GACxBM,EAAOD,SAASL,OAAS,EAAE,CAC7B,IAAIO,EAAQf,KAAKW,kBAAkBG,EAAQb,GAC3C,GAAGc,EACF,OAAOA,GAMZ,OAAO,MAERC,QAAS,SAASN,GACjBV,KAAKK,YAAYY,KAAKP,GACtBA,EAAKQ,WAAWlB,OAEjBmB,WAAY,SAASlB,GACpB,IAAIS,EAAOV,KAAKM,YAAYL,GAC5B,GAAIS,EACJ,GAAIA,EAAKE,WAsBR,CAAA,IAAIA,EAAaF,EAAKE,WACtB,IAAQL,EAAI,EAAGA,EAAIK,EAAWC,SAASL,OAAQD,IAAI,CAClD,IAAIO,EAASF,EAAWC,SAASN,GACjC,GAAGO,EAAOb,IAAMA,EAAG,CACfa,EAAOM,cACNN,EAAOO,mBACTP,EAAOO,kBAAkBD,cAAgBN,EAAOM,cAChDN,EAAOM,cAAcC,kBAAoBP,EAAOO,mBAEhDP,EAAOM,cAAcC,kBAAoB,KAGvCP,EAAOO,oBACTP,EAAOO,kBAAkBD,cAAgB,MAG3CN,EAAS,KACTF,EAAWC,SAASS,OAAOf,EAAG,GAC9B,aAvCF,IAAI,IAAIA,EAAI,EAAGA,EAAIP,KAAKK,YAAYG,OAAQD,IAAI,CAC/C,IAAIE,EAAQT,KAAKK,YAAYE,GAC7B,GAAGE,EAAMR,IAAMA,EAAG,CACdQ,EAAMc,eACLd,EAAMe,oBACRf,EAAMe,mBAAmBD,eAAiBd,EAAMc,eAChDd,EAAMc,eAAeC,mBAAqBf,EAAMe,oBAEhDf,EAAMc,eAAeC,mBAAqB,KAGxCf,EAAMe,qBACRf,EAAMe,mBAAmBD,eAAiB,MAG5Cd,EAAQ,KACRT,KAAKK,YAAYiB,OAAOf,EAAG,GAC3B","file":"../../gantt/GanttProjectItem.js","sourcesContent":["define([\r\n\t\"./GanttTaskItem\",\r\n\t\"dojo/_base/declare\",\r\n\t\"./GanttProjectControl\",\r\n\t\"dojo/domReady!\"\r\n], function(GanttTaskItem, declare){\r\n\treturn declare(\"dojox.gantt.GanttProjectItem\", [GanttTaskItem], {\r\n\t\tconstructor: function(configuration){\r\n\t\t\t//id is required\r\n\t\t\tthis.id = configuration.id;\r\n\t\t\tthis.name = configuration.name || this.id;\r\n\t\t\tthis.startDate = configuration.startDate || new Date();\r\n\t\t\tthis.parentTasks = [];\r\n\t\t},\r\n\t\tgetTaskById: function(id){\r\n\t\t\tfor(var i = 0; i < this.parentTasks.length; i++){\r\n\t\t\t\tvar pTask = this.parentTasks[i];\r\n\t\t\t\tvar task = this.getTaskByIdInTree(pTask, id);\r\n\t\t\t\tif(task){\r\n\t\t\t\t\treturn task;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn null;\r\n\t\t},\r\n\t\tgetTaskByIdInTree: function(parentTask, id){\r\n\t\t\tif(parentTask.id == id){\r\n\t\t\t\treturn parentTask;\r\n\t\t\t}else{\r\n\t\t\t\tfor(var i = 0; i < parentTask.cldTasks.length; i++){\r\n\t\t\t\t\tvar pcTask = parentTask.cldTasks[i];\r\n\t\t\t\t\tif(pcTask.id == id){\r\n\t\t\t\t\t\treturn pcTask;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(pcTask.cldTasks.length > 0){\r\n\t\t\t\t\t\tif(pcTask.cldTasks.length > 0){\r\n\t\t\t\t\t\t\tvar cTask = this.getTaskByIdInTree(pcTask, id);\r\n\t\t\t\t\t\t\tif(cTask){\r\n\t\t\t\t\t\t\t\treturn cTask;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn null;\r\n\t\t},\r\n\t\taddTask: function(task){\r\n\t\t\tthis.parentTasks.push(task);\r\n\t\t\ttask.setProject(this);\r\n\t\t},\r\n\t\tdeleteTask: function(id){\r\n\t\t\tvar task = this.getTaskById(id);\r\n\t\t\tif(!task){return;}\r\n\t\t\tif(!task.parentTask){\r\n\t\t\t\tfor(var i = 0; i < this.parentTasks.length; i++){\r\n\t\t\t\t\tvar pTask = this.parentTasks[i];\r\n\t\t\t\t\tif(pTask.id == id){\r\n\t\t\t\t\t\tif(pTask.nextParentTask){\r\n\t\t\t\t\t\t\tif(pTask.previousParentTask){\r\n\t\t\t\t\t\t\t\tpTask.previousParentTask.nextParentTask = pTask.nextParentTask;\r\n\t\t\t\t\t\t\t\tpTask.nextParentTask.previousParentTask = pTask.previousParentTask;\r\n\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\tpTask.nextParentTask.previousParentTask = null;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\tif(pTask.previousParentTask){\r\n\t\t\t\t\t\t\t\tpTask.previousParentTask.nextParentTask = null;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tpTask = null;\r\n\t\t\t\t\t\tthis.parentTasks.splice(i, 1);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}else{\r\n\t\t\t\tvar parentTask = task.parentTask;\r\n\t\t\t\tfor(var i = 0; i < parentTask.cldTasks.length; i++){\r\n\t\t\t\t\tvar pcTask = parentTask.cldTasks[i];\r\n\t\t\t\t\tif(pcTask.id == id){\r\n\t\t\t\t\t\tif(pcTask.nextChildTask){\r\n\t\t\t\t\t\t\tif(pcTask.previousChildTask){\r\n\t\t\t\t\t\t\t\tpcTask.previousChildTask.nextChildTask = pcTask.nextChildTask;\r\n\t\t\t\t\t\t\t\tpcTask.nextChildTask.previousChildTask = pcTask.previousChildTask;\r\n\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\tpcTask.nextChildTask.previousChildTask = null;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\tif(pcTask.previousChildTask){\r\n\t\t\t\t\t\t\t\tpcTask.previousChildTask.nextChildTask = null;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tpcTask = null;\r\n\t\t\t\t\t\tparentTask.cldTasks.splice(i, 1);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n});\r\n"]}