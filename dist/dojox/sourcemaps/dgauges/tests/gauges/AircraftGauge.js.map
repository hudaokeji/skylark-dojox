{"version":3,"sources":["dgauges/tests/gauges/AircraftGauge.js"],"names":["define","lang","declare","CircularGauge","LinearScaler","CircularScale","CircularValueIndicator","CircularRangeIndicator","TextIndicator","_radius","constructor","this","font","family","style","size","color","sharedIndicatorShapeFunc","group","createPolyline","setFill","addElement","hitch","drawBackground","scaler","minimum","maximum","majorTickInterval","minorTickInterval","scale","originX","originY","startAngle","endAngle","radius","labelPosition","tickShapeFunc","tick","createLine","x1","isMinor","y1","x2","y2","setStroke","width","indicator","interactionArea","indicatorShapeFunc","value","addIndicator","rangeIndicator","start","fill","interactionMode","scaler2","scale2","orientation","tickLabelFunc","toString","indicator2","rangeIndicator2","_createText","text","x","y","align","g","r","createEllipse","cx","cy","rx","ry","createRect","height"],"mappings":";;;;;;;AAAAA,QAAQ,kBAAmB,qBAAsB,8BAA+B,6BAC/E,8BAA+B,uCAAwC,uCACvE,+BACA,SAASC,EAAMC,EAASC,EAAeC,EAAcC,EAAeC,EAAwBC,EAC1FC,GACF,OAAON,EAAQ,2CAA4CC,GAC1DM,QAAS,IACTC,YAAa,WACZC,KAAKC,MACJC,OAAQ,YACRC,MAAO,SACPC,KAAM,OACNC,MAAO,WAIR,IAAIC,EAA2B,SAASC,GACvC,OAAOA,EAAMC,gBAAgB,IAAK,EAAG,GAAI,EAAG,GAAI,EAAG,IAAK,IAAIC,QAAQ,YAIrET,KAAKU,WAAW,aAAcpB,EAAKqB,MAAMX,KAAMA,KAAKY,iBAGpD,IAAIC,EAAS,IAAIpB,GAChBqB,QAAS,GACTC,QAAS,GACTC,kBAAmB,EACnBC,kBAAmB,IAIhBC,EAAQ,IAAIxB,GACfmB,OAAQA,EACRM,QAAS,IACTC,QAAS,IACTC,WAAY,IACZC,SAAU,IACVC,OAAQ,GACRC,cAAe,UACfC,cAAe,SAASlB,EAAOW,EAAOQ,GACrC,OAAOnB,EAAMoB,YACZC,GAAIF,EAAKG,QAAU,EAAI,EACvBC,GAAI,EACJC,GAAIL,EAAKG,QAAU,EAAI,GACvBG,GAAI,IACFC,WACF5B,MAAO,UACP6B,OAAOR,EAAKG,QAAU,QAIzB7B,KAAKU,WAAW,QAASQ,GAGzB,IAAIiB,EAAY,IAAIxC,GACnByC,gBAAiB,YACjBC,mBAAoB/B,EACpBgC,MAAO,KAERpB,EAAMqB,aAAa,YAAaJ,GAGhC,IAAIK,EAAiB,IAAI5C,GACxB6C,MAAO,GACPH,MAAO,GACPf,OAAQ,GACRmB,KAAM,UACNC,gBAAiB,SAElBzB,EAAMqB,aAAa,iBAAkBC,GAAgB,GAGrD,IAAII,EAAU,IAAInD,GACjBqB,QAAS,EACTC,QAAS,GACTC,kBAAmB,EACnBC,kBAAmB,KAIhB4B,EAAS,IAAInD,GAChBmB,OAAQ+B,EACRzB,QAAS,IACTC,QAAS,IACTC,WAAY,GACZC,SAAU,IACVwB,YAAa,aACbvB,OAAQ,GACRC,cAAe,UACfC,cAAe,SAASlB,EAAOW,EAAOQ,GACrC,IAAIE,EAAIG,EAAI1B,EAAO6B,EAAQ,EAmB3B,MAjBkB,IAAdR,EAAKY,OAA8B,GAAdZ,EAAKY,OAC7BV,GAAM,EACNG,EAAK,GACL1B,EAAQ,UACR6B,EAAQ,GACAR,EAAKG,SAEbD,EAAK,EACLG,EAAK,EACJ1B,EAAQ,YAGTuB,EAAK,EACLG,EAAK,GACL1B,EAAQ,WAGFE,EAAMoB,YACZC,GAAIA,EACJE,GAAI,EACJC,GAAIA,EACJC,GAAI,IACFC,WACF5B,MAAOA,EACP6B,MAAOA,KAITa,cAAe,SAASrB,GACvB,OAAQA,EAAKY,MAAQ,GAAM,EAAKZ,EAAU,MAAEsB,WAAa,MAG3DhD,KAAKU,WAAW,SAAUmC,GAG1B,IAAII,EAAa,IAAItD,GACpByC,gBAAiB,YACjBC,mBAAoB/B,EACpBgC,MAAO,IAERO,EAAON,aAAa,aAAcU,GAGlC,IAAIC,EAAkB,IAAItD,GACzB6C,MAAO,GACPH,MAAO,EACPf,OAAQ,GACRmB,KAAM,UACNC,gBAAiB,SAElBE,EAAON,aAAa,kBAAmBW,GAAiB,GAGxDlD,KAAKU,WAAW,QAASV,KAAKmD,YAAY,MAAO,GAAI,GAAI,EAAG,QAG5DnD,KAAKU,WAAW,QAASV,KAAKmD,YAAY,QAAS,GAAI,IAAK,EAAG,QAG/DnD,KAAKU,WAAW,QAASV,KAAKmD,YAAY,QAAS,GAAI,IAAK,EAAG,QAG/DnD,KAAKU,WAAW,QAASV,KAAKmD,YAAY,OAAQ,IAAK,GAAI,EAAG,UAG9DnD,KAAKU,WAAW,QAASV,KAAKmD,YAAY,QAAS,IAAK,IAAK,EAAG,UAGhEnD,KAAKU,WAAW,QAASV,KAAKmD,YAAY,MAAO,IAAK,IAAK,EAAG,WAE/DA,YAAa,SAASC,EAAMC,EAAGC,EAAGlD,EAAMmD,GACvC,OAAO,IAAI1D,GACVyC,MAAOc,EACPC,EAAGA,EACHC,EAAGA,EACHjD,MAAO,QACPJ,MACCC,OAAQ,YACRE,KAAMA,GAEPmD,MAAOA,KAIT3C,eAAgB,SAAS4C,GACxB,IAAIC,EAAIzD,KAAKF,QAGb0D,EAAEE,eACDC,GAAIF,EACJG,GAAIH,EACJI,GAAIJ,EACJK,GAAIL,IACFhD,QAAQ,WAEX+C,EAAEE,eACDC,GAAIF,EACJG,GAAIH,EACJI,GAAQ,IAAJJ,EACJK,GAAQ,IAAJL,IACFhD,QAAQ,WAEX+C,EAAEE,eACDC,GAAIF,EACJG,GAAIH,EACJI,GAAQ,IAAJJ,EACJK,GAAQ,IAAJL,IACFhD,QAAQ,WAAWwB,WACrB5B,MAAO,UACP6B,MAAO,KAGRsB,EAAEO,YACDV,EAAG,GACHC,EAAG,GACHpB,MAAO,EACP8B,OAAQ,KACNvD,QAAQ,WAEX+C,EAAEO,YACDV,EAAG,GACHC,EAAG,IACHpB,MAAO,EACP8B,OAAQ,KACNvD,QAAQ","file":"../../../../dgauges/tests/gauges/AircraftGauge.js","sourcesContent":["define([\"dojo/_base/lang\", \"dojo/_base/declare\", \"dojox/dgauges/CircularGauge\", \"dojox/dgauges/LinearScaler\",\r\n\t\"dojox/dgauges/CircularScale\", \"dojox/dgauges/CircularValueIndicator\", \"dojox/dgauges/CircularRangeIndicator\",\r\n\t\"dojox/dgauges/TextIndicator\"],\r\n\tfunction(lang, declare, CircularGauge, LinearScaler, CircularScale, CircularValueIndicator, CircularRangeIndicator,\r\n\t\t TextIndicator){\r\n\treturn declare(\"dojox.dgauges.tests.gauges.AircraftGauge\", CircularGauge, {\r\n\t\t_radius: 100,\r\n\t\tconstructor: function(){\r\n\t\t\tthis.font = {\r\n\t\t\t\tfamily: \"Helvetica\",\r\n\t\t\t\tstyle: \"normal\",\r\n\t\t\t\tsize: \"10pt\",\r\n\t\t\t\tcolor: \"#EFEFEF\"\r\n\t\t\t};\r\n\t\t\t\r\n\t\t\t// Draws a triangle, used by 2 indicators\r\n\t\t\tvar sharedIndicatorShapeFunc = function(group){\r\n\t\t\t\treturn group.createPolyline([40, -6, 60, 0, 40, 6, 40, -6]).setFill(\"#EFEFEF\");\r\n\t\t\t};\r\n\t\t\t\r\n\t\t\t// Draws the background\r\n\t\t\tthis.addElement(\"background\", lang.hitch(this, this.drawBackground));\r\n\t\t\t\r\n\t\t\t// The left scaler\r\n\t\t\tvar scaler = new LinearScaler({\r\n\t\t\t\tminimum: 10,\r\n\t\t\t\tmaximum: 40,\r\n\t\t\t\tmajorTickInterval: 5,\r\n\t\t\t\tminorTickInterval: 1\r\n\t\t\t});\r\n\t\t\t\r\n\t\t\t// The left scale\r\n\t\t\tvar scale = new CircularScale({\r\n\t\t\t\tscaler: scaler,\r\n\t\t\t\toriginX: 100,\r\n\t\t\t\toriginY: 100,\r\n\t\t\t\tstartAngle: 110,\r\n\t\t\t\tendAngle: 250,\r\n\t\t\t\tradius: 70,\r\n\t\t\t\tlabelPosition: \"outside\",\r\n\t\t\t\ttickShapeFunc: function(group, scale, tick){\r\n\t\t\t\t\treturn group.createLine({\r\n\t\t\t\t\t\tx1: tick.isMinor ? 2 : 0,\r\n\t\t\t\t\t\ty1: 0,\r\n\t\t\t\t\t\tx2: tick.isMinor ? 8 : 12,\r\n\t\t\t\t\t\ty2: 0\r\n\t\t\t\t\t}).setStroke({\r\n\t\t\t\t\t\tcolor: \"#EFEFEF\",\r\n\t\t\t\t\t\twidth: tick.isMinor ? 1 : 1\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tthis.addElement(\"scale\", scale);\r\n\t\t\t\r\n\t\t\t// The left value indicator\r\n\t\t\tvar indicator = new CircularValueIndicator({\r\n\t\t\t\tinteractionArea: \"indicator\",\r\n\t\t\t\tindicatorShapeFunc: sharedIndicatorShapeFunc,\r\n\t\t\t\tvalue: 27\r\n\t\t\t});\r\n\t\t\tscale.addIndicator(\"indicator\", indicator);\r\n\t\t\t\r\n\t\t\t// The left range indicator (green)\r\n\t\t\tvar rangeIndicator = new CircularRangeIndicator({\r\n\t\t\t\tstart: 15,\r\n\t\t\t\tvalue: 23,\r\n\t\t\t\tradius: 68,\r\n\t\t\t\tfill: \"#0BCD2F\",\r\n\t\t\t\tinteractionMode: \"none\"\r\n\t\t\t});\r\n\t\t\tscale.addIndicator(\"rangeIndicator\", rangeIndicator, true);\r\n\t\t\t\r\n\t\t\t// The right scaler\t\t\r\n\t\t\tvar scaler2 = new LinearScaler({\r\n\t\t\t\tminimum: 0,\r\n\t\t\t\tmaximum: 10,\r\n\t\t\t\tmajorTickInterval: 1,\r\n\t\t\t\tminorTickInterval: 0.5\r\n\t\t\t});\r\n\t\t\t\r\n\t\t\t// The right scale\r\n\t\t\tvar scale2 = new CircularScale({\r\n\t\t\t\tscaler: scaler2,\r\n\t\t\t\toriginX: 100,\r\n\t\t\t\toriginY: 100,\r\n\t\t\t\tstartAngle: 70,\r\n\t\t\t\tendAngle: 290,\r\n\t\t\t\torientation: \"cclockwise\",\r\n\t\t\t\tradius: 70,\r\n\t\t\t\tlabelPosition: \"outside\",\r\n\t\t\t\ttickShapeFunc: function(group, scale, tick){\r\n\t\t\t\t\tvar x1, x2, color, width = 1;\r\n\t\t\t\t\t// Strong red tick\r\n\t\t\t\t\tif (tick.value == 0.5 || tick.value == 8){\r\n\t\t\t\t\t\tx1 = -2;\r\n\t\t\t\t\t\tx2 = 14;\r\n\t\t\t\t\t\tcolor = \"#FB0F00\";\r\n\t\t\t\t\t\twidth = 2;\r\n\t\t\t\t\t}else if(tick.isMinor){\r\n\t\t\t\t\t\t// minor ticks\r\n\t\t\t\t\t\tx1 = 2;\r\n\t\t\t\t\t\tx2 = 8;\r\n\t\t\t\t\t\t\tcolor = \"#EFEFEF\";\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\t// Major tick\r\n\t\t\t\t\t\tx1 = 0;\r\n\t\t\t\t\t\tx2 = 12;\r\n\t\t\t\t\t\tcolor = \"#EFEFEF\";\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\treturn group.createLine({\r\n\t\t\t\t\t\tx1: x1,\r\n\t\t\t\t\t\ty1: 0,\r\n\t\t\t\t\t\tx2: x2,\r\n\t\t\t\t\t\ty2: 0\r\n\t\t\t\t\t}).setStroke({\r\n\t\t\t\t\t\tcolor: color,\r\n\t\t\t\t\t\twidth: width\r\n\t\t\t\t\t})\r\n\t\t\t\t},\r\n\t\t\t\t// Label filter\r\n\t\t\t\ttickLabelFunc: function(tick){\r\n\t\t\t\t\treturn (tick.value % 2) == 0 ? (tick.value).toString() : \"\"\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tthis.addElement(\"scale2\", scale2);\r\n\t\t\t\r\n\t\t\t// The right value indicator\r\n\t\t\tvar indicator2 = new CircularValueIndicator({\r\n\t\t\t\tinteractionArea: \"indicator\",\r\n\t\t\t\tindicatorShapeFunc: sharedIndicatorShapeFunc,\r\n\t\t\t\tvalue: 8\r\n\t\t\t});\r\n\t\t\tscale2.addIndicator(\"indicator2\", indicator2);\r\n\t\t\t\r\n\t\t\t// The right range indicator (green)\r\n\t\t\tvar rangeIndicator2 = new CircularRangeIndicator({\r\n\t\t\t\tstart: 0.5,\r\n\t\t\t\tvalue: 8,\r\n\t\t\t\tradius: 68,\r\n\t\t\t\tfill: \"#0BCD2F\",\r\n\t\t\t\tinteractionMode: \"none\"\r\n\t\t\t});\r\n\t\t\tscale2.addIndicator(\"rangeIndicator2\", rangeIndicator2, true);\r\n\t\t\t\r\n\t\t\t// Indicator Text: \"MAN\"\r\n\t\t\tthis.addElement(\"text1\", this._createText(\"MAN\", 97, 90, 9, \"end\"));\r\n\t\t\t\r\n\t\t\t// Indicator Text: \"PRESS\"\r\n\t\t\tthis.addElement(\"text2\", this._createText(\"PRESS\", 97, 100, 9, \"end\"));\r\n\t\t\t\r\n\t\t\t// Indicator Text: \"IN HG\"\r\n\t\t\tthis.addElement(\"text3\", this._createText(\"IN HG\", 97, 113, 8, \"end\"));\r\n\t\t\t\r\n\t\t\t// Indicator Text: \"FUEL\r\n\t\t\tthis.addElement(\"text4\", this._createText(\"FUEL\", 103, 90, 9, \"start\"));\r\n\t\t\t\r\n\t\t\t// Indicator Text: \"PRESS\"\r\n\t\t\tthis.addElement(\"text5\", this._createText(\"PRESS\", 103, 100, 9, \"start\"));\r\n\t\t\t\r\n\t\t\t// Indicator Text: \"PSI\"\r\n\t\t\tthis.addElement(\"text6\", this._createText(\"PSI\", 103, 113, 8, \"start\"));\r\n\t\t},\r\n\t\t_createText: function(text, x, y, size, align){\r\n\t\t\treturn new TextIndicator({\r\n\t\t\t\tvalue: text,\r\n\t\t\t\tx: x,\r\n\t\t\t\ty: y,\r\n\t\t\t\tcolor: \"white\",\r\n\t\t\t\tfont: {\r\n\t\t\t\t\tfamily: \"Helvetica\",\r\n\t\t\t\t\tsize: size\r\n\t\t\t\t},\r\n\t\t\t\talign: align\r\n\t\t\t});\r\n\t\t},\r\n\t\t\r\n\t\tdrawBackground: function(g){\r\n\t\t\tvar r = this._radius;\r\n\t\t\tvar w = 2 * r;\r\n\t\t\tvar h = w;\r\n\t\t\tg.createEllipse({\r\n\t\t\t\tcx: r,\r\n\t\t\t\tcy: r,\r\n\t\t\t\trx: r,\r\n\t\t\t\try: r\r\n\t\t\t}).setFill(\"#000000\");\r\n\t\t\t\r\n\t\t\tg.createEllipse({\r\n\t\t\t\tcx: r,\r\n\t\t\t\tcy: r,\r\n\t\t\t\trx: r * 0.99,\r\n\t\t\t\try: r * 0.99\r\n\t\t\t}).setFill(\"#505050\");\r\n\t\t\t\r\n\t\t\tg.createEllipse({\r\n\t\t\t\tcx: r,\r\n\t\t\t\tcy: r,\r\n\t\t\t\trx: r * 0.92,\r\n\t\t\t\try: r * 0.92\r\n\t\t\t}).setFill(\"#333333\").setStroke({\r\n\t\t\t\tcolor: \"#000000\",\r\n\t\t\t\twidth: 0.5\r\n\t\t\t});\r\n\t\t\t\r\n\t\t\tg.createRect({\r\n\t\t\t\tx: 99,\r\n\t\t\t\ty: 20,\r\n\t\t\t\twidth: 4,\r\n\t\t\t\theight: 50\r\n\t\t\t}).setFill(\"#EFEFEF\");\r\n\t\t\t\r\n\t\t\tg.createRect({\r\n\t\t\t\tx: 99,\r\n\t\t\t\ty: 130,\r\n\t\t\t\twidth: 4,\r\n\t\t\t\theight: 50\r\n\t\t\t}).setFill(\"#EFEFEF\");\r\n\t\t}\r\n\t});\r\n});\r\n"]}