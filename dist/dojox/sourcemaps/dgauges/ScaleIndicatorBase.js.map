{"version":3,"sources":["dgauges/ScaleIndicatorBase.js"],"names":["define","lang","declare","win","on","touch","fx","gfx","_Invalidating","IndicatorBase","scale","value","interactionArea","interactionMode","animationDuration","animationEaser","_indicatorShapeFuncFlag","_interactionAreaFlag","_downListeners","_cursorListeners","_moveAndUpListeners","_transitionValue","NaN","_preventAnimation","_animation","constructor","this","watch","hitch","valueChanged","_startAnimation","addInvalidatingProperties","prop","oldValue","newValue","Animation","curve","duration","easing","_defaultEasing","onAnimate","_updateAnimation","onEnd","_endAnimation","onStop","play","stop","v","invalidateRendering","refreshRendering","_gfxGroup","isFunction","indicatorShapeFunc","clear","_connectDownListeners","indicator","emit","target","bubbles","cancelable","_disconnectDownListeners","i","length","remove","_disconnectMoveAndUpListeners","_disconnectListeners","_disconnectCursorListeners","_connectCursorListeners","listener","over","_gauge","_setCursor","push","out","event","press","_onMouseDown","_baseGroup","_connectMoveAndUpListeners","doc","move","_onMouseMove","release","_onMouseUp","_startEditing","_endEditing","onStartEditing","onEndEditing"],"mappings":"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","file":"../../dgauges/ScaleIndicatorBase.js","sourcesContent":["define([\"dojo/_base/lang\", \"dojo/_base/declare\", \"dojo/_base/window\", \"dojo/on\", \"dojo/touch\", \"dojo/_base/fx\", \"dojox/gfx\", \"dojox/widget/_Invalidating\", \"./IndicatorBase\"],\r\n\tfunction(lang, declare, win, on, touch, fx, gfx, _Invalidating, IndicatorBase){\r\n\treturn declare(\"dojox.dgauges.ScaleIndicatorBase\", IndicatorBase, {\r\n\t\t// summary:\r\n\t\t//\t\tThe base class for indicators that rely on a scale for their rendering.\r\n\t\t//\t\tTypically, value indicators and range indicators are subclasses of ScaleIndicatorBase.\r\n\r\n\t\t// summary:\r\n\t\t//\t\tThe scale associated with this indicator.\r\n\t\tscale: null,\r\n\t\t// summary:\r\n\t\t//\t\tThe value of the indicator. Default is 0.\r\n\t\tvalue: 0,\r\n\t\t\r\n\t\t// interactionArea: String\r\n\t\t//\t\tHow to interact with the indicator using mouse or touch interactions.\r\n\t\t//\t\tCan be \"indicator\", \"gauge\", \"area\" or \"none\". The default value is \"gauge\".\r\n\t\t//\t\tIf set to \"indicator\", the indicator shape reacts to mouse and touch events.\r\n\t\t//\t\tIf set to \"gauge\", the whole gauge reacts to mouse and touch events.\r\n\t\t//\t\tIf set to \"area\", the whole bounding box of the widget reacts to mouse and touch events.\r\n\t\t//\t\tIf \"none\", interactions are disabled.\r\n\t\tinteractionArea: \"gauge\",\r\n\r\n\t\t// interactionMode: String\r\n\t\t//\t\tDeprecated. Can be \"mouse\" or \"touch\".\r\n\t\tinteractionMode: \"mouse\",\r\n\r\n\t\t// animationDuration: Number\r\n\t\t//\t\tThe duration of the value change animation in milliseconds. Default is 0.\r\n\t\t//\t\tThe animation occurs on both user interactions and programmatic value changes.\r\n\t\t//\t\tSet this property to 0 to disable animation.\r\n\t\tanimationDuration: 0,\r\n\r\n\t\t// animationEaser: Object\r\n\t\t//\t\tThe easer function of the value change animation. Default is fx._defaultEasing.\r\n\t\tanimationEaser: null,\r\n\r\n\t\t_indicatorShapeFuncFlag: true,\r\n\t\t\r\n\t\t_interactionAreaFlag: true,\r\n\t\t\r\n\t\t_downListeners: null,\r\n\t\t\r\n\t\t_cursorListeners: null,\r\n\t\t\r\n\t\t_moveAndUpListeners: null,\r\n\t\t\r\n\t\t_transitionValue: NaN,\r\n\t\t\r\n\t\t_preventAnimation: false,\r\n\t\t\r\n\t\t_animation: null,\r\n\t\t\r\n\t\tconstructor: function(){\r\n\t\t\r\n\t\t\t// watches changed happening on the \"value\" property\r\n\t\t\tthis.watch(\"value\", lang.hitch(this, function(){\r\n\t\t\t\tthis.valueChanged(this);\r\n\t\t\t}));\r\n\t\t\tthis.watch(\"value\", lang.hitch(this, this._startAnimation));\r\n\t\t\t\r\n\t\t\tthis.watch(\"interactionArea\", lang.hitch(this, function(){\r\n\t\t\t\tthis._interactionAreaFlag = true;\r\n\t\t\t}));\r\n\t\t\tthis.watch(\"interactionMode\", lang.hitch(this, function(){\r\n\t\t\t\tthis._interactionAreaFlag = true;\r\n\t\t\t}));\r\n\t\t\t\r\n\t\t\tthis.watch(\"indicatorShapeFunc\", lang.hitch(this, function(){\r\n\t\t\t\tthis._indicatorShapeFuncFlag = true;\r\n\t\t\t}));\r\n\t\t\t\r\n\t\t\tthis.addInvalidatingProperties([\"scale\", \"value\", \"indicatorShapeFunc\", \"interactionArea\", \"interactionMode\"]);\r\n\t\t\t\r\n\t\t\tthis._downListeners = [];\r\n\t\t\tthis._moveAndUpListeners = [];\r\n\t\t\tthis._cursorListeners = [];\r\n\t\t},\r\n\t\t\r\n\t\t_startAnimation: function(prop, oldValue, newValue){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tInternal method.\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprivate\r\n\t\t\tif(this.animationDuration == 0){\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif(this._animation && (this._preventAnimation || oldValue == newValue)){\r\n\t\t\t\tthis._animation.stop();\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tthis._animation = new fx.Animation({curve: [oldValue, newValue], \r\n\t\t\t\t\t\t\t\t\t\tduration: this.animationDuration, \r\n\t\t\t\t\t\t\t\t\t\teasing: this.animationEaser ? this.animationEaser : fx._defaultEasing,\r\n\t\t\t\t\t\t\t\t\t\tonAnimate: lang.hitch(this, this._updateAnimation),\r\n\t\t\t\t\t\t\t\t\t\tonEnd: lang.hitch(this, this._endAnimation),\r\n\t\t\t\t\t\t\t\t\t\tonStop: lang.hitch(this, this._endAnimation)});\r\n\t\t\t\r\n\t\t\tthis._animation.play();\r\n\t\t},\r\n\t\t\r\n\t\t_updateAnimation: function(v){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tInternal method.\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprivate\r\n\t\t\tthis._transitionValue = v;\r\n\t\t\tthis.invalidateRendering();\r\n\t\t},\r\n\t\t\r\n\t\t_endAnimation: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tInternal method.\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprivate\r\n\t\t\tthis._transitionValue = NaN; \r\n\t\t\tthis.invalidateRendering();\t\t\t\r\n\t\t},\r\n\t\t\r\n\t\trefreshRendering: function(){\r\n\t\t\tif(this._gfxGroup == null || this.scale == null){\r\n\t\t\t\treturn;\r\n\t\t\t}else{\r\n\t\t\t\tif(this._indicatorShapeFuncFlag && lang.isFunction(this.indicatorShapeFunc)){\r\n\t\t\t\t\tthis._gfxGroup.clear();\r\n\t\t\t\t\tthis.indicatorShapeFunc(this._gfxGroup, this);\r\n\t\t\t\t\tthis._indicatorShapeFuncFlag = false;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tif(this._interactionAreaFlag){\r\n\t\t\t\t\tthis._interactionAreaFlag = this._connectDownListeners();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\t\r\n\t\tvalueChanged: function(indicator){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tInvoked when the value of the indicator changes.\r\n\t\t\t//\t\tUser can connect an listener on this function: \r\n\t\t\t// |\ttheIndicator.on(\"valueChanged\", lang.hitch(this, function(){\r\n\t\t\t// |\t\t//do something\r\n\t\t\t// |\t}));\r\n\t\t\ton.emit(this, \"valueChanged\", {\r\n\t\t\t\ttarget: this,\r\n\t\t\t\tbubbles: true,\r\n\t\t\t\tcancelable: true\r\n\t\t\t});\r\n\t\t},\r\n\t\t\r\n\t\t_disconnectDownListeners: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tInternal method.\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprivate\r\n\t\t\tfor(var i = 0; i < this._downListeners.length; i++){\r\n\t\t\t\tthis._downListeners[i].remove();\r\n\t\t\t}\r\n\t\t\tthis._downListeners = [];\r\n\t\t},\r\n\t\t\r\n\t\t_disconnectMoveAndUpListeners: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tInternal method.\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprivate\r\n\t\t\tfor(var i = 0; i < this._moveAndUpListeners.length; i++){\r\n\t\t\t\tthis._moveAndUpListeners[i].remove();\r\n\t\t\t}\r\n\t\t\tthis._moveAndUpListeners = [];\r\n\t\t},\r\n\t\t\r\n\t\t_disconnectListeners: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tInternal method.\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprivate\r\n\t\t\tthis._disconnectDownListeners();\r\n\t\t\tthis._disconnectMoveAndUpListeners();\r\n\t\t\tthis._disconnectCursorListeners();\r\n\t\t},\r\n\t\t\r\n\t\t_connectCursorListeners: function(target){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tInternal method.\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprivate\r\n\t\t\tvar listener = target.on(touch.over , lang.hitch(this, function(){\r\n\t\t\t\tthis.scale._gauge._setCursor(\"pointer\");\r\n\t\t\t}));\r\n\t\t\tthis._cursorListeners.push(listener);\r\n\t\t\tlistener = target.on(touch.out, lang.hitch(this, function(event){\r\n\t\t\t\t\tthis.scale._gauge._setCursor(\"\");\r\n\t\t\t\t}\r\n\t\t\t));\r\n\t\t\tthis._cursorListeners.push(listener);\r\n\t\t},\r\n\t\t\r\n\t\t_disconnectCursorListeners: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tInternal method.\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprivate\r\n\t\t\tfor(var i = 0; i < this._cursorListeners.length; i++){\r\n\t\t\t\tthis._cursorListeners[i].remove();\r\n\t\t\t}\r\n\t\t\tthis._cursorListeners = [];\r\n\t\t},\r\n\r\n\t\t_connectDownListeners: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tInternal method.\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprivate\r\n\t\t\tthis._disconnectDownListeners();\r\n\t\t\tthis._disconnectCursorListeners();\r\n\t\t\tvar listener = null;\r\n\r\n\t\t\tif(this.interactionMode == \"mouse\" || this.interactionMode == \"touch\"){\r\n\t\t\t\tif(this.interactionArea == \"indicator\"){\r\n\t\t\t\t\tlistener = this._gfxGroup.on(touch.press, lang.hitch(this, this._onMouseDown));\r\n\t\t\t\t\tthis._downListeners.push(listener);\r\n\t\t\t\t\tthis._connectCursorListeners(this._gfxGroup);\r\n\t\t\t\t}else if(this.interactionArea == \"gauge\"){\r\n\t\t\t\t\tif(!this.scale || !this.scale._gauge || !this.scale._gauge._gfxGroup){\r\n\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tlistener = this.scale._gauge._gfxGroup.on(touch.press, lang.hitch(this, this._onMouseDown));\r\n\t\t\t\t\tthis._downListeners.push(listener);\r\n\t\t\t\t\tlistener = this._gfxGroup.on(touch.press, lang.hitch(this, this._onMouseDown));\r\n\t\t\t\t\tthis._downListeners.push(listener);\r\n\t\t\t\t\tthis._connectCursorListeners(this.scale._gauge._gfxGroup);\r\n\t\t\t\t}else if(this.interactionArea == \"area\"){\r\n\t\t\t\t\tif(!this.scale || !this.scale._gauge || !this.scale._gauge._baseGroup){\r\n\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tlistener = this.scale._gauge._baseGroup.on(touch.press, lang.hitch(this, this._onMouseDown));\r\n\t\t\t\t\tthis._downListeners.push(listener);\r\n\t\t\t\t\tlistener = this._gfxGroup.on(touch.press, lang.hitch(this, this._onMouseDown));\r\n\t\t\t\t\tthis._downListeners.push(listener);\r\n\t\t\t\t\t\tthis._connectCursorListeners(this.scale._gauge._baseGroup);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn false;\r\n\t\t},\r\n\t\t\r\n\t\t_connectMoveAndUpListeners: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tInternal method.\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprivate\r\n\t\t\tvar listener = null;\r\n\r\n\t\t\tlistener = on(win.doc, touch.move, lang.hitch(this, this._onMouseMove));\r\n\t\t\tthis._moveAndUpListeners.push(listener);\r\n\t\t\t\r\n\t\t\tlistener = on(win.doc, touch.release, lang.hitch(this, this._onMouseUp));\r\n\t\t\tthis._moveAndUpListeners.push(listener);\r\n\t\t},\r\n\r\n\t\t_onMouseDown: function(event){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tInternal method.\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprivate\r\n\t\t\tthis._connectMoveAndUpListeners();\r\n\t\t\tthis._startEditing();\r\n\t\t},\r\n\r\n\t\t_onMouseMove: function(event){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tInternal method.\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprivate\r\n\t\t\tthis._preventAnimation = true;\r\n\t\t\tif(this._animation){\r\n\t\t\t\tthis._animation.stop();\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t_onMouseUp: function(event){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tInternal method.\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprivate\r\n\t\t\tthis._disconnectMoveAndUpListeners();\r\n\t\t\tthis._preventAnimation = false;\r\n\t\t\tthis._endEditing();\r\n\t\t},\r\n\r\n\t\t_startEditing: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tInternal method.\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprivate\r\n\t\t\tif(!this.scale || !this.scale._gauge){\r\n\t\t\t\treturn;\r\n\t\t\t}else{\r\n\t\t\t\tthis.scale._gauge.onStartEditing({\r\n\t\t\t\t\tindicator: this\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t},\r\n\t\t\r\n\t\t_endEditing: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tInternal method.\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprivate\r\n\t\t\tif(!this.scale || !this.scale._gauge){\r\n\t\t\t\treturn;\r\n\t\t\t}else{\r\n\t\t\t\tthis.scale._gauge.onEndEditing({\r\n\t\t\t\t\tindicator: this\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t});\r\n});\r\n"]}