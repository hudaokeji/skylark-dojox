{"version":3,"sources":["dgauges/components/default/CircularLinearGauge.js"],"names":["define","lang","declare","Color","utils","CircularGauge","LinearScaler","CircularScale","CircularValueIndicator","TextIndicator","DefaultPropertiesMixin","_radius","borderColor","fillColor","indicatorColor","constructor","this","addElement","hitch","drawBackground","scaler","scale","set","indicator","addIndicator","drawForeground","indicatorText","genericCircularGauge","g","r","w","h","entries","createGradient","brightness","createEllipse","cx","cy","rx","ry","setFill","mixin","type","x1","y1","x2","y2","setStroke","color","width"],"mappings":"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","file":"../../../../dgauges/components/default/CircularLinearGauge.js","sourcesContent":["define([\r\n\t\t\"dojo/_base/lang\", \r\n\t\t\"dojo/_base/declare\", \r\n\t\t\"dojo/_base/Color\", \r\n\t\t\"../utils\",\r\n\t\t\"../../CircularGauge\", \r\n\t\t\"../../LinearScaler\", \r\n\t\t\"../../CircularScale\", \r\n\t\t\"../../CircularValueIndicator\",\r\n\t\t\"../../TextIndicator\",\r\n\t\t\"../DefaultPropertiesMixin\"\r\n\t], \r\n\tfunction(lang, declare, Color, utils, CircularGauge, LinearScaler, CircularScale, CircularValueIndicator, TextIndicator, DefaultPropertiesMixin){\r\n\treturn declare(\"dojox.dgauges.components.default.CircularLinearGauge\", [CircularGauge, DefaultPropertiesMixin], {\r\n\t\t// summary:\r\n\t\t//\t\tA circular gauge widget.\r\n\r\n\t\t// _radius: Number\r\n\t\t_radius: 100,\r\n\t\t// borderColor: Object|Array|int\r\n\t\t//\t\tThe border color. Default is \"#C9DFF2\".\r\n\t\tborderColor: \"#C9DFF2\",\r\n\t\t// fillColor: Object|Array|int\r\n\t\t//\t\tThe background color. Default is \"#FCFCFF\".\r\n\t\tfillColor: \"#FCFCFF\",\r\n\t\t// indicatorColor: Object|Array|int\r\n\t\t//\t\tThe indicator fill color. Default is \"#F01E28\".\r\n\t\tindicatorColor: \"#F01E28\",\r\n\t\tconstructor: function(){\r\n\t\t\t\r\n\t\t\t// Base colors\r\n\t\t\tthis.borderColor = new Color(this.borderColor);\r\n\t\t\tthis.fillColor = new Color(this.fillColor);\r\n\t\t\tthis.indicatorColor = new Color(this.indicatorColor);\r\n\r\n\t\t\t// Draw background\r\n\t\t\tthis.addElement(\"background\", lang.hitch(this, this.drawBackground));\r\n\t\t\t\r\n\t\t\t// Scaler\r\n\t\t\tvar scaler = new LinearScaler();\r\n\t\t\t\r\n\t\t\t// Scale\r\n\t\t\tvar scale = new CircularScale();\r\n\t\t\tscale.set(\"scaler\", scaler);\r\n\t\t\tthis.addElement(\"scale\", scale);\r\n\t\t\t\r\n\t\t\t// Value indicator\r\n\t\t\tvar indicator = new CircularValueIndicator();\r\n\t\t\tscale.addIndicator(\"indicator\", indicator);\r\n\t\t\t\r\n\t\t\t// Gauge Foreground (needle cap)\r\n\t\t\tthis.addElement(\"foreground\", lang.hitch(this, this.drawForeground));\r\n\t\t\t\r\n\t\t\t// Indicator Text\r\n\t\t\tvar indicatorText = new TextIndicator();\r\n\t\t\tindicatorText.set(\"indicator\", indicator);\r\n\t\t\tindicatorText.set(\"x\", 100);\r\n\t\t\tindicatorText.set(\"y\", 150);\r\n\t\t\tthis.addElement(\"indicatorText\", indicatorText);\r\n\t\t\t\r\n\t\t\tutils.genericCircularGauge(scale, indicator, this._radius, this._radius, 0.65 * this._radius, 130, 50, null, null, \"outside\");\r\n\t\t},\r\n\t\t\r\n\t\tdrawBackground: function(g){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tDraws the background shape of the gauge.\r\n\t\t\t// g: dojox/gfx/Group\r\n\t\t\t//\t\tThe group used to draw the background. \r\n\t\t\t// tags:\r\n\t\t\t//\t\tprotected\r\n\t\t\tvar r = this._radius;\r\n\t\t\tvar w = 2 * r;\r\n\t\t\tvar h = w;\r\n\t\t\tvar entries = utils.createGradient([0, utils.brightness(this.borderColor, 70), 1, utils.brightness(this.borderColor, -40)]);\r\n\t\t\tg.createEllipse({\r\n\t\t\t\tcx: r,\r\n\t\t\t\tcy: r,\r\n\t\t\t\trx: r,\r\n\t\t\t\try: r\r\n\t\t\t}).setFill(lang.mixin({\r\n\t\t\t\ttype: \"linear\",\r\n\t\t\t\tx1: w,\r\n\t\t\t\ty1: 0,\r\n\t\t\t\tx2: 0,\r\n\t\t\t\ty2: h\r\n\t\t\t}, entries)).setStroke({\r\n\t\t\t\tcolor: \"#A5A5A5\",\r\n\t\t\t\twidth: 0.2\r\n\t\t\t});\r\n\t\t\t\r\n\t\t\tentries = utils.createGradient([0, utils.brightness(this.borderColor, 70), 1, utils.brightness(this.borderColor, -50)]);\r\n\t\t\tg.createEllipse({\r\n\t\t\t\tcx: r,\r\n\t\t\t\tcy: r,\r\n\t\t\t\trx: r * 0.99,\r\n\t\t\t\try: r * 0.99\r\n\t\t\t}).setFill(lang.mixin({\r\n\t\t\t\ttype: \"linear\",\r\n\t\t\t\tx1: 0,\r\n\t\t\t\ty1: 0,\r\n\t\t\t\tx2: w,\r\n\t\t\t\ty2: h\r\n\t\t\t}, entries));\r\n\t\t\t\r\n\t\t\tentries = utils.createGradient([0, utils.brightness(this.borderColor, 60), 1, utils.brightness(this.borderColor, -40)]);\r\n\t\t\tg.createEllipse({\r\n\t\t\t\tcx: r,\r\n\t\t\t\tcy: r,\r\n\t\t\t\trx: r * 0.92,\r\n\t\t\t\try: r * 0.92\r\n\t\t\t}).setFill(lang.mixin({\r\n\t\t\t\ttype: \"linear\",\r\n\t\t\t\tx1: 0,\r\n\t\t\t\ty1: 0,\r\n\t\t\t\tx2: w,\r\n\t\t\t\ty2: h\r\n\t\t\t}, entries));\r\n\t\t\t\r\n\t\t\tentries = utils.createGradient([0, utils.brightness(this.borderColor, 70), 1, utils.brightness(this.borderColor, -40)]);\r\n\t\t\tg.createEllipse({\r\n\t\t\t\tcx: r,\r\n\t\t\t\tcy: r,\r\n\t\t\t\trx: r * 0.9,\r\n\t\t\t\try: r * 0.9\r\n\t\t\t}).setFill(lang.mixin({\r\n\t\t\t\ttype: \"linear\",\r\n\t\t\t\tx1: w,\r\n\t\t\t\ty1: 0,\r\n\t\t\t\tx2: 0,\r\n\t\t\t\ty2: h\r\n\t\t\t}, entries));\r\n\t\t\t\r\n\t\t\tentries = utils.createGradient([0, [255, 255, 255, 220], 0.8, utils.brightness(this.fillColor, -5), 1, utils.brightness(this.fillColor, -30)]);\r\n\t\t\tg.createEllipse({\r\n\t\t\t\tcx: r,\r\n\t\t\t\tcy: r,\r\n\t\t\t\trx: r * 0.9,\r\n\t\t\t\try: r * 0.9\r\n\t\t\t}).setFill(lang.mixin({\r\n\t\t\t\ttype: \"radial\",\r\n\t\t\t\tcx: r,\r\n\t\t\t\tcy: r,\r\n\t\t\t\tr: r\r\n\t\t\t}, entries)).setStroke({\r\n\t\t\t\tcolor: utils.brightness(this.fillColor, -40),\r\n\t\t\t\twidth: 0.4\r\n\t\t\t});\r\n\t\t\t\r\n\t\t},\r\n\t\t\r\n\t\tdrawForeground: function(g){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tDraws the foreground shape of the gauge.\r\n\t\t\t// g: dojox/gfx/Group\r\n\t\t\t//\t\tThe group used to draw the foreground. \r\n\t\t\t// tags:\r\n\t\t\t//\t\tprotected\r\n\t\t\tvar r = 0.07 * this._radius;\r\n\t\t\tvar entries = utils.createGradient([0, this.borderColor, 1, utils.brightness(this.borderColor, -20)]);\r\n\t\t\tg.createEllipse({\r\n\t\t\t\tcx: this._radius,\r\n\t\t\t\tcy: this._radius,\r\n\t\t\t\trx: r,\r\n\t\t\t\try: r\r\n\t\t\t}).setFill(lang.mixin({\r\n\t\t\t\ttype: \"radial\",\r\n\t\t\t\tcx: 0.96 * this._radius,\r\n\t\t\t\tcy: 0.96 * this._radius,\r\n\t\t\t\tr: r\r\n\t\t\t}, entries)).setStroke({\r\n\t\t\t\tcolor: utils.brightness(this.fillColor, -50),\r\n\t\t\t\twidth: 0.4\r\n\t\t\t});\r\n\t\t}\r\n\t});\r\n});\r\n"]}