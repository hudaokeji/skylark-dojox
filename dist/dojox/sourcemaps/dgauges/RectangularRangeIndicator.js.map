{"version":3,"sources":["dgauges/RectangularRangeIndicator.js"],"names":["define","declare","gfx","ScaleIndicatorBase","eventUtil","domGeom","start","startThickness","endThickness","fill","stroke","paddingLeft","paddingTop","paddingRight","paddingBottom","constructor","this","color","width","interactionMode","addInvalidatingProperties","_defaultHorizontalShapeFunc","indicator","group","scale","startX","startY","endPosition","gp","colors","x1","y1","x2","y2","createPolyline","setFill","setStroke","_defaultVerticalShapeFunc","_shapeFunc","_gauge","orientation","refreshRendering","inherited","arguments","_gfxGroup","spos","positionForValue","v","isNaN","_transitionValue","value","pos","clear","_onMouseDown","event","np","position","domNode","set","valueForPosition","x","pageX","y","pageY","stop","_onMouseMove"],"mappings":"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","file":"../../dgauges/RectangularRangeIndicator.js","sourcesContent":["define([\"dojo/_base/declare\", \"dojox/gfx\", \"./ScaleIndicatorBase\", \"dojo/_base/event\", \"dojo/dom-geometry\"],\r\n\tfunction(declare, gfx, ScaleIndicatorBase, eventUtil, domGeom){\r\n\treturn declare(\"dojox.dgauges.RectangularRangeIndicator\", ScaleIndicatorBase, {\r\n\t\t// summary:\r\n\t\t//\t\tA RectangularRangeIndicator is used to represent a range of values on a scale.\r\n\t\t//\t\tFor adding this kind of indicator instance to the gauge, use the addIndicator \r\n\t\t//\t\tmethod of RectangularScale.\r\n\r\n\t\t// start: Number\r\n\t\t//\t\tThe start value of the range. Default is 0.\r\n\t\tstart: 0,\r\n\t\t// startThickness: Number\r\n\t\t//\t\tThe thickness in pixels of the shape at the position defined by the start property.\r\n\t\t//\t\tDefault is 10.\r\n\t\tstartThickness: 10,\r\n\t\t// endThickness: Number\r\n\t\t//\t\tThe thickness in pixels of the shape at the position defined by the value property.\r\n\t\t//\t\tDefault is 10.\r\n\t\tendThickness: 10,\r\n\t\t// fill: Object\r\n\t\t//\t\tA fill object that will be passed to the setFill method of GFX.\r\n\t\tfill: null,\r\n\t\t// stroke: Object\r\n\t\t//\t\tA stroke object that will be passed to the setStroke method of GFX.\r\n\t\tstroke: null,\r\n\t\t// paddingLeft: Number\r\n\t\t//\t\tThe left padding. Not used for horizontal gauges.\r\n\t\tpaddingLeft: 10,\r\n\t\t// paddingTop: Number\r\n\t\t//\t\tThe top padding. Not used for vertical gauges.\r\n\t\tpaddingTop: 10,\r\n\t\t// paddingRight: Number\r\n\t\t//\t\tThe right padding. Not used for horizontal gauges.\r\n\t\tpaddingRight: 10,\r\n\t\t// paddingBottom: Number\r\n\t\t//\t\tThe bottom padding. Not used for vertical gauges.\r\n\t\tpaddingBottom: 10,\r\n\t\t\r\n\t\tconstructor: function(){\r\n\t\t\tthis.fill = [255, 120, 0];\r\n\t\t\tthis.stroke = {\r\n\t\t\t\tcolor: \"black\",\r\n\t\t\t\twidth: .2\r\n\t\t\t};\r\n\t\t\tthis.interactionMode = \"none\";\r\n\t\t\t\r\n\t\t\tthis.addInvalidatingProperties([\"start\", \"startThickness\", \"endThickness\", \"fill\", \"stroke\"]);\r\n\t\t},\r\n\r\n\t\t_defaultHorizontalShapeFunc: function(indicator, group, scale, startX, startY, endPosition, startThickness, endThickness, fill, stroke){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tInternal method.\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprivate\r\n\t\t\tvar gp = [startX, startY, endPosition, startY, endPosition, startY + endThickness, startX, startY + startThickness, startX, startY]\r\n\t\t\tif(fill && fill.colors){\r\n\t\t\t\t// Configure gradient\r\n\t\t\t\tfill.x1 = startX;\r\n\t\t\t\tfill.y1 = startY;\r\n\t\t\t\tfill.x2 = endPosition;\r\n\t\t\t\tfill.y2 = startY;\r\n\t\t\t}\r\n\t\t\treturn group.createPolyline(gp).setFill(fill).setStroke(stroke);\r\n\t\t},\r\n\r\n\t\t_defaultVerticalShapeFunc: function(indicator, group, scale, startX, startY, endPosition, startThickness, endThickness, fill, stroke){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tInternal method.\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprivate\r\n\t\t\tvar gp = [startX, startY, startX, endPosition, startX + endThickness, endPosition, startX + startThickness, startY, startX, startY]\r\n\t\t\tif(fill && fill.colors){\r\n\t\t\t\t// Configure gradient\r\n\t\t\t\tfill.x1 = startX;\r\n\t\t\t\tfill.y1 = startY;\r\n\t\t\t\tfill.x2 = startX;\r\n\t\t\t\tfill.y2 = endPosition;\r\n\t\t\t}\r\n\t\t\treturn group.createPolyline(gp).setFill(fill).setStroke(stroke);\r\n\t\t},\r\n\t\t\t\t\r\n\t\t_shapeFunc: function(indicator, group, scale, startX, startY, endPosition, startThickness, endThickness, fill, stroke){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tInternal method.\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprivate\r\n\t\t\tif(this.scale._gauge.orientation == \"horizontal\"){\r\n\t\t\t\tthis._defaultHorizontalShapeFunc(indicator, group, scale, startX, startY, endPosition, startThickness, endThickness, fill, stroke);\r\n\t\t\t}else{\r\n\t\t\t\tthis._defaultVerticalShapeFunc(indicator, group, scale, startX, startY, endPosition, startThickness, endThickness, fill, stroke);\r\n\t\t\t}\r\n\t\t},\r\n\t\t\r\n\t\trefreshRendering: function(){\r\n\t\t\tthis.inherited(arguments);\r\n\t\t\t\r\n\t\t\tif(this._gfxGroup == null || this.scale == null){\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\t// gets position corresponding to the values\r\n\t\t\tvar spos = this.scale.positionForValue(this.start);\r\n\t\t\tvar v = isNaN(this._transitionValue) ? this.value : this._transitionValue;\r\n\t\t\tvar pos = this.scale.positionForValue(v);\r\n\t\t\tthis._gfxGroup.clear();\r\n\t\t\t\r\n\t\t\tvar startX;\r\n\t\t\tvar startY;\r\n\t\t\tvar endPosition;\r\n\t\t\tif(this.scale._gauge.orientation == \"horizontal\"){\r\n\t\t\t\tstartX = spos;\r\n\t\t\t\tstartY = this.paddingTop;\r\n\t\t\t\tendPosition = pos;\r\n\t\t\t}else{\r\n\t\t\t\tstartX = this.paddingLeft;\r\n\t\t\t\tstartY = spos;\r\n\t\t\t\tendPosition = pos;\r\n\t\t\t}\r\n\t\t\tthis._shapeFunc(this, this._gfxGroup, this.scale, startX, startY, endPosition, this.startThickness, this.endThickness, this.fill, this.stroke);\r\n\t\t},\r\n\r\n\t\t_onMouseDown: function(event){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tInternal method.\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprivate\r\n\t\t\tthis.inherited(arguments);\r\n\r\n\t\t\tvar np = domGeom.position(this.scale._gauge.domNode, true);\r\n\t\t\tthis.set(\"value\", this.scale.valueForPosition({x: event.pageX - np.x, y: event.pageY - np.y}));\r\n\r\n\t\t\t// prevent the browser from selecting text\r\n\t\t\teventUtil.stop(event);\r\n\t\t},\r\n\t\t\r\n\t\t_onMouseMove: function(event){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tInternal method.\r\n\t\t\t// tags:\r\n\t\t\t//\t\tprivate\r\n\t\t\tthis.inherited(arguments);\r\n\t\t\t\r\n\t\t\tvar np = domGeom.position(this.scale._gauge.domNode, true);\r\n\t\t\tthis.set(\"value\", this.scale.valueForPosition({x: event.pageX - np.x, y: event.pageY - np.y}));\r\n\t\t}\r\n\t})\r\n});\r\n"]}