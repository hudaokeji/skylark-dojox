{"version":3,"sources":["mvc/tests/doh/equals.js"],"names":["define","doh","getStateful","equals","a","uniqueId","Completed","Subject","Due","Date","getTime","Priority","Description","register","t","dst","src","set","f","d","setTime","get"],"mappings":";;;;;;;AAAAA,QACC,MACA,wBACA,oBACE,SAASC,EAAKC,EAAaC,GAC7B,IAAIC,IAEFC,SAAU,EACVC,WAAW,EACXC,QAAS,kBACTC,IAAK,IAAIC,MAAK,IAAKA,MAAQC,UAAY,QACvCC,SAAU,EACVC,YAAa,wBAGbP,SAAU,EACVC,WAAW,EACXC,QAAS,iCACTC,IAAK,IAAIC,MAAK,IAAKA,MAAQC,UAAY,QACvCC,SAAU,EACVC,YAAa,4DAGbP,SAAU,EACVC,WAAW,EACXC,QAAS,cACTC,IAAK,IAAIC,MAAK,IAAKA,MAAQC,UAAY,OACvCC,SAAU,EACVC,YAAa,sCAIfX,EAAIY,SAAS,8BACZ,WACCZ,EAAIa,EAAEX,EAAOD,EAAYE,GAAIF,EAAYE,IAAK,kEAE/C,WACC,IAAIW,EAAMb,EAAYE,GAAIY,EAAMd,EAAYE,GAC5CY,EAAI,GAAGC,IAAI,WAAY,GACvBhB,EAAIiB,EAAEf,EAAOY,EAAKC,GAAM,oCACxBA,EAAI,GAAGC,IAAI,WAAY,GACvBhB,EAAIa,EAAEX,EAAOY,EAAKC,GAAM,6DAEzB,WACC,IAAgDG,EAA5CJ,EAAMb,EAAYE,GAAIY,EAAMd,EAAYE,IAC3Ce,EAAI,IAAIV,MAAQW,QAAQJ,EAAI,GAAGK,IAAI,OAAOX,UAAY,QACvDM,EAAI,GAAGC,IAAI,MAAOE,GAClBlB,EAAIiB,EAAEf,EAAOY,EAAKC,GAAM,qCACvBG,EAAI,IAAIV,MAAQW,QAAQJ,EAAI,GAAGK,IAAI,OAAOX,UAAY,QACvDM,EAAI,GAAGC,IAAI,MAAOE,GAClBlB,EAAIa,EAAEX,EAAOY,EAAKC,GAAM","file":"../../../../mvc/tests/doh/equals.js","sourcesContent":["define([\r\n\t\"doh\",\r\n\t\"dojox/mvc/getStateful\",\r\n\t\"dojox/mvc/equals\"\r\n], function(doh, getStateful, equals){\r\n\tvar a = [\r\n\t\t{\r\n\t\t\tuniqueId: 0,\r\n\t\t\tCompleted: false,\r\n\t\t\tSubject: \"Pick up my kids\",\r\n\t\t\tDue: new Date((new Date()).getTime() + 48 * 3600000),\r\n\t\t\tPriority: 1,\r\n\t\t\tDescription: \"At the kindergarden\"\r\n\t\t},\r\n\t\t{\r\n\t\t\tuniqueId: 1,\r\n\t\t\tCompleted: true,\r\n\t\t\tSubject: \"Take dojox.mvc learning course\",\r\n\t\t\tDue: new Date((new Date()).getTime() + 72 * 3600000),\r\n\t\t\tPriority: 2,\r\n\t\t\tDescription: \"Need to find course material at http://dojotoolkit.org/\"\r\n\t\t},\r\n\t\t{\r\n\t\t\tuniqueId: 2,\r\n\t\t\tCompleted: false,\r\n\t\t\tSubject: \"Wash my car\",\r\n\t\t\tDue: new Date((new Date()).getTime() + 120 * 3600000),\r\n\t\t\tPriority: 3,\r\n\t\t\tDescription: \"Need to buy a cleaner before that\"\r\n\t\t}\r\n\t];\r\n\r\n\tdoh.register(\"dojox.mvc.tests.doh.equals\", [\r\n\t\tfunction equalsSimple(){\r\n\t\t\tdoh.t(equals(getStateful(a), getStateful(a)), \"Two stateful object from the same data source should be equal\");\r\n\t\t},\r\n\t\tfunction changeValue(){\r\n\t\t\tvar dst = getStateful(a), src = getStateful(a);\r\n\t\t\tsrc[1].set(\"Priority\", 3);\r\n\t\t\tdoh.f(equals(dst, src), \"equals() should catch the change\");\r\n\t\t\tsrc[1].set(\"Priority\", 2);\r\n\t\t\tdoh.t(equals(dst, src), \"equals() should catch the change in src back to original\");\r\n\t\t},\r\n\t\tfunction changeDate(){\r\n\t\t\tvar dst = getStateful(a), src = getStateful(a), d;\r\n\t\t\t(d = new Date()).setTime(src[1].get(\"Due\").getTime() + 72 * 3600000);\r\n\t\t\tsrc[1].set(\"Due\", d);\r\n\t\t\tdoh.f(equals(dst, src), \"equals() should catch the change\");\r\n\t\t\t(d = new Date()).setTime(src[1].get(\"Due\").getTime() - 72 * 3600000);\r\n\t\t\tsrc[1].set(\"Due\", d);\r\n\t\t\tdoh.t(equals(dst, src), \"equals() should catch the change in src back to original\");\r\n\t\t}\r\n\t]);\r\n});\r\n"]}