{"version":3,"sources":["mvc/tests/1.7/mobile/demo/src.js"],"names":["repeatModel","nextIndexToAdd","selectedIndex","setRef","setDetailsContext","insertResult","updateView","updateModel","require","has","parser","ready","mvc","mobile","ScrollableView","Button","TextArea","Group","Generate","Repeat","TextBox","ViewController","FixedSplitter","EdgeToEdgeList","EdgeToEdgeCategory","deviceTheme","RoundRectCategory","Heading","WidgetRegistry","json","dom","genmodel","model","newStatefulModel","data","Serial","First","Last","Email","ShipTo","Street","City","State","Zip","BillTo","repeatmodel","Location","Office","Tel","Fax","length","id","addrRef","byId","set","index","value","insert","add","modeldata","fromJson","style","display","err","console","error","focus","toJson","toPlainObject","e","log","parse"],"mappings":";;;;;;;AAAA,IAAIA,YAAqBC,eAAgBC,cACrCC,OAAQC,kBAAmBC,aAAcC,WAAYC,YAEzDC,SAAS,WACR,sBAEA,aACA,YACA,eACA,8BACA,sBACA,wBACA,kBACA,qBACA,mBACA,uBACA,8BACA,6BACA,8BACA,kCACA,2BACA,iCACA,uBACA,iBACA,kBACA,YACE,SAASC,EAAKC,EAAQC,EAAOC,EAAKC,EAAQC,EAAgBC,EAAQC,EAAUC,EAAOC,EAAUC,EAAQC,EAASC,EAC/GC,EAAeC,EAAgBC,EAAoBC,EAAaC,EAAmBC,EAASC,EAC5FC,EAAMC,GAEHrB,EAAI,WACPD,SAAS,wBAGV,IA0FIuB,EAxCJ7B,cAAgB,EAEhB8B,MAAQpB,EAAIqB,kBAAmBC,MAnD/BC,OAAW,SACXC,MAAW,OACXC,KAAW,MACXC,MAAW,kBACXC,QACCC,OAAW,gBACXC,KAAW,UACXC,MAAW,KACXC,IAAW,SAEZC,QACCJ,OAAW,gBACXC,KAAW,YACXC,MAAW,KACXC,IAAW,YAsCZE,YAAcjC,EAAIqB,kBAAmBC,OA/BpCE,MAAY,OACZC,KAAY,UACZS,SAAY,KACZC,OAAY,OACZT,MAAY,eACZU,IAAY,eACZC,IAAY,iBAGZb,MAAY,QACZC,KAAY,MACZS,SAAY,KACZC,OAAY,MACZT,MAAY,eACZU,IAAY,eACZC,IAAY,iBAGZb,MAAY,OACZC,KAAY,UACZS,SAAY,KACZC,OAAY,OACZT,MAAY,eACZU,IAAY,eACZC,IAAY,mBAQbhD,eAAiB4C,YAAYX,KAAKgB,OAGlC/C,OAAS,SAASgD,EAAIC,GACRxB,EAAeyB,KAAKF,GAC1BG,IAAI,MAAOF,IAInBhD,kBAAoB,SAASmD,GAC5BrD,cAAgBqD,EACA3B,EAAeyB,KAAK,gBAC1BC,IAAI,MAAOC,IAItBlD,aAAe,SAASkD,GACvB,GAAyC,KAArCV,YAAYU,EAAM,GAAGnB,MAAMoB,MAAa,CAC3C,IAAIC,EAAS7C,EAAIqB,kBAAmBC,MACpCE,MAAY,GACZC,KAAY,GACZS,SAAY,KACZC,OAAY,GACZT,MAAY,GACZU,IAAY,GACZC,IAAY,MAEZJ,YAAYa,IAAIH,EAAOE,GACvBrD,kBAAkBmD,GAClBtD,sBAEAG,kBAAkBmD,EAAM,IAM1BjD,WAAa,WACZ,IACC,IAAIqD,EAAY9B,EAAK+B,SAAS9B,EAAIuB,KAAK,aAAaG,OACpDzB,EAAWnB,EAAIqB,kBAAmBC,KAAOyB,IACzC/B,EAAeyB,KAAK,QAAQC,IAAI,MAAOvB,GACvCD,EAAIuB,KAAK,kBAAkBQ,MAAMC,QAAU,OAC3ChC,EAAIuB,KAAK,YAAYQ,MAAMC,QAAU,GACrC,MAAMC,GACNC,QAAQC,MAAM,kCAAkCF,KAKlDxD,YAAc,WACbuB,EAAIuB,KAAK,kBAAkBQ,MAAMC,QAAU,GAC3C,IACChC,EAAIuB,KAAK,aAAaa,QACtBpC,EAAIuB,KAAK,YAAYQ,MAAMC,QAAU,OACrClC,EAAeyB,KAAK,aAAaC,IAAI,QAASzB,EAAKsC,OAAOpC,EAASqC,iBAAiB,IACnF,MAAMC,GACPL,QAAQM,IAAID,KAWd1D,EAAM,WACLD,EAAO6D,UAIR/D,SAAS,kBAAmB,WAC3BsB,EAAIuB,KAAK,aAAaQ,MAAMC,QAAU","file":"../../../../../../mvc/tests/1.7/mobile/demo/src.js","sourcesContent":["var repeatModel, setRef, nextIndexToAdd, selectedIndex;\r\nvar setRef, setDetailsContext, insertResult, updateView, updateModel;\r\n\r\nrequire(['dojo/has',\r\n\t'dojox/mobile/parser',\r\n\t//'dojo/parser',\r\n\t'dojo/ready',\r\n\t'dojox/mvc',\r\n\t'dojox/mobile',\r\n\t'dojox/mobile/ScrollableView',\r\n\t'dojox/mobile/Button',\r\n\t'dojox/mobile/TextArea',\r\n\t'dojox/mvc/Group',\r\n\t'dojox/mvc/Generate',\r\n\t'dojox/mvc/Repeat',\r\n\t'dojox/mobile/TextBox',\r\n\t'dojox/mobile/ViewController',\r\n\t'dojox/mobile/FixedSplitter',\r\n\t'dojox/mobile/EdgeToEdgeList',\r\n\t'dojox/mobile/EdgeToEdgeCategory',\r\n\t'dojox/mobile/deviceTheme',\r\n\t'dojox/mobile/RoundRectCategory',\r\n\t'dojox/mobile/Heading',\r\n\t'dijit/registry',\r\n\t'dojo/_base/json',\r\n\t'dojo/dom'\r\n], function(has, parser, ready, mvc, mobile, ScrollableView, Button, TextArea, Group, Generate, Repeat, TextBox, ViewController,\r\n\t\tFixedSplitter, EdgeToEdgeList, EdgeToEdgeCategory, deviceTheme, RoundRectCategory, Heading, WidgetRegistry,\r\n\t\tjson, dom){\r\n\r\n\tif(!has(\"webkit\")){\r\n\t\trequire([\"dojox/mobile/compat\"]);\r\n\t}\r\n\r\n\tvar names = {\r\n\t\"Serial\" : \"360324\",\r\n\t\"First\"  : \"John\",\r\n\t\"Last\"   : \"Doe\",\r\n\t\"Email\"  : \"jdoe@us.ibm.com\",\r\n\t\"ShipTo\" : {\r\n\t\t\"Street\" : \"123 Valley Rd\",\r\n\t\t\"City\"   : \"Katonah\",\r\n\t\t\"State\"  : \"NY\",\r\n\t\t\"Zip\"    : \"10536\"\r\n\t},\r\n\t\"BillTo\" : {\r\n\t\t\"Street\" : \"17 Skyline Dr\",\r\n\t\t\"City\"   : \"Hawthorne\",\r\n\t\t\"State\"  : \"NY\",\r\n\t\t\"Zip\"    : \"10532\"\r\n\t}\r\n};\r\n\r\n// Initial repeat data used in the Repeat Data binding demo\r\nvar repeatData = [ \r\n\t{\r\n\t\t\"First\"   : \"Chad\",\r\n\t\t\"Last\"    : \"Chapman\",\r\n\t\t\"Location\": \"CA\",\r\n\t\t\"Office\"  : \"1278\",\r\n\t\t\"Email\"   : \"c.c@test.com\",\r\n\t\t\"Tel\"     : \"408-764-8237\",\r\n\t\t\"Fax\"     : \"408-764-8228\"\r\n\t},\r\n\t{\r\n\t\t\"First\"   : \"Irene\",\r\n\t\t\"Last\"    : \"Ira\",\r\n\t\t\"Location\": \"NJ\",\r\n\t\t\"Office\"  : \"F09\",\r\n\t\t\"Email\"   : \"i.i@test.com\",\r\n\t\t\"Tel\"     : \"514-764-6532\",\r\n\t\t\"Fax\"     : \"514-764-7300\"\r\n\t},\r\n\t{\r\n\t\t\"First\"   : \"John\",\r\n\t\t\"Last\"    : \"Jacklin\",\r\n\t\t\"Location\": \"CA\",\r\n\t\t\"Office\"  : \"6701\",\r\n\t\t\"Email\"   : \"j.j@test.com\",\r\n\t\t\"Tel\"     : \"408-764-1234\",\r\n\t\t\"Fax\"     : \"408-764-4321\"\r\n\t}\r\n];\r\n\r\n\tselectedIndex = 0;\r\n\r\n\tmodel = mvc.newStatefulModel({ data : names });\r\n\trepeatmodel = mvc.newStatefulModel({ data : repeatData });\r\n\tnextIndexToAdd = repeatmodel.data.length;\r\n\r\n\t// used in the Ship to - Bill to demo\r\n\tsetRef = function(id, addrRef) {\r\n\t\tvar widget = WidgetRegistry.byId(id);\r\n\t\twidget.set(\"ref\", addrRef);\r\n\t}\r\n\r\n\t// used in the Repeat Data binding demo\r\n\tsetDetailsContext = function(index){\r\n\t\tselectedIndex = index;\r\n\t\tvar groupRoot = WidgetRegistry.byId(\"detailsGroup\");\r\n\t\tgroupRoot.set(\"ref\", index);\r\n\t}\r\n\r\n\t// used in the Repeat Data binding demo\r\n\tinsertResult = function(index){\r\n\t\tif (repeatmodel[index-1].First.value !== \"\"){ // TODO: figure out why we are getting called twice for each click\r\n\t\t\tvar insert = mvc.newStatefulModel({ \"data\" : {\r\n\t\t\t\"First\"   : \"\",\r\n\t\t\t\"Last\"    : \"\",\r\n\t\t\t\"Location\": \"CA\",\r\n\t\t\t\"Office\"  : \"\",\r\n\t\t\t\"Email\"   : \"\",\r\n\t\t\t\"Tel\"     : \"\",\r\n\t\t\t\"Fax\"     : \"\"} \r\n\t\t\t});\r\n\t\t\trepeatmodel.add(index, insert);\r\n\t\t\tsetDetailsContext(index);\r\n\t\t\tnextIndexToAdd++;\r\n\t\t}else{\r\n\t\t\tsetDetailsContext(index-1);                 \r\n\t\t}\r\n\t};\r\n\r\n\t// used in the Generate View demo\r\n\tvar genmodel;\r\n\tupdateView = function() {\r\n\t\ttry {\r\n\t\t\tvar modeldata = json.fromJson(dom.byId(\"modelArea\").value);\r\n\t\t\tgenmodel = mvc.newStatefulModel({ data : modeldata });\r\n\t\t\tWidgetRegistry.byId(\"view\").set(\"ref\", genmodel);\r\n\t\t\tdom.byId(\"outerModelArea\").style.display = \"none\";\r\n\t\t\tdom.byId(\"viewArea\").style.display = \"\";              \t\t\r\n\t\t}catch(err){\r\n\t\t\tconsole.error(\"Error parsing json from model: \"+err);\r\n\t\t}\r\n\t};\r\n\r\n\t// used in the Generate View demo\r\n\tupdateModel = function() {\r\n\t\tdom.byId(\"outerModelArea\").style.display = \"\";\r\n\t\ttry {\r\n\t\t\tdom.byId(\"modelArea\").focus(); // hack: do this to force focus off of the textbox, bug on mobile?\r\n\t\t\tdom.byId(\"viewArea\").style.display = \"none\";\r\n\t\t\tWidgetRegistry.byId(\"modelArea\").set(\"value\",(json.toJson(genmodel.toPlainObject(), true)));\r\n\t\t} catch(e) {\r\n\t\t\tconsole.log(e);\r\n\t\t};\r\n\t};\r\n\r\n\r\n\t// The dojox.mvc.StatefulModel class creates a data model instance\r\n\t// where each leaf within the data model is decorated with dojo.Stateful\r\n\t// properties that widgets can bind to and watch for their changes.\r\n\r\n\r\n\t// when \"dojo/ready\" is ready call parse\r\n\tready(function(){\r\n\t\tparser.parse();\r\n\t});\r\n\r\n\t// when domReady! is ready show the page \r\n\trequire(['dojo/domReady!'], function(){\r\n\t\tdom.byId(\"wholepage\").style.display = \"\";\r\n\t});\r\n\r\n}); // end function\r\n\r\n"]}