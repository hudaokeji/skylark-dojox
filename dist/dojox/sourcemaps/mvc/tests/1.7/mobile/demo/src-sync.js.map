{"version":3,"sources":["mvc/tests/1.7/mobile/demo/src-sync.js"],"names":["dojo","provide","require","requireIf","isWebKit","genmodel","names","Serial","First","Last","Email","ShipTo","Street","City","State","Zip","BillTo","repeatData","Location","Office","Tel","Fax","selectedIndex","model","dojox","mvc","newStatefulModel","data","repeatmodel","nextIndexToAdd","length","setRef","id","addrRef","dijit","byId","set","setDetailsContext","index","insertResult","value","insert","add","updateView","modeldata","fromJson","style","display","err","console","error","updateModel","focus","toJson","toPlainObject","e","log","setup","mobile","parser","parse","ready"],"mappings":";;;;;;;AAAAA,KAAKC,QAAQ,mCAGbD,KAAKE,QAAQ,uBACbF,KAAKE,QAAQ,gBACbF,KAAKE,QAAQ,+BACbF,KAAKE,QAAQ,wBACbF,KAAKE,QAAQ,aACbF,KAAKE,QAAQ,sBACbF,KAAKE,QAAQ,mBACbF,KAAKE,QAAQ,oBACbF,KAAKE,QAAQ,8BACbF,KAAKE,QAAQ,+BACbF,KAAKE,QAAQ,yBACbF,KAAKE,QAAQ,uBAEbF,KAAKE,QAAQ,8BACbF,KAAKE,QAAQ,+BACbF,KAAKE,QAAQ,mCACbF,KAAKE,QAAQ,wBACbF,KAAKE,QAAQ,kCACbF,KAAKG,WAAWH,KAAKI,SAAU,uBAC/BJ,KAAKG,WAAWH,KAAKI,SAAU,WAC/BJ,KAAKG,WAAWH,KAAKI,SAAU,kBAC/BJ,KAAKE,QAAQ,4BAIb,IA0FIG,SA1FAC,OACHC,OAAW,SACXC,MAAW,OACXC,KAAW,MACXC,MAAW,kBACXC,QACCC,OAAW,gBACXC,KAAW,UACXC,MAAW,KACXC,IAAW,SAEZC,QACCJ,OAAW,gBACXC,KAAW,YACXC,MAAW,KACXC,IAAW,UAKTE,aAEFT,MAAY,OACZC,KAAY,UACZS,SAAY,KACZC,OAAY,OACZT,MAAY,eACZU,IAAY,eACZC,IAAY,iBAGZb,MAAY,QACZC,KAAY,MACZS,SAAY,KACZC,OAAY,MACZT,MAAY,eACZU,IAAY,eACZC,IAAY,iBAGZb,MAAY,OACZC,KAAY,UACZS,SAAY,KACZC,OAAY,OACZT,MAAY,eACZU,IAAY,eACZC,IAAY,iBAIVC,cAAgB,EAEhBC,MAAQC,MAAMC,IAAIC,kBAAmBC,KAAOrB,QAC5CsB,YAAcJ,MAAMC,IAAIC,kBAAmBC,KAAOV,aAClDY,eAAiBD,YAAYD,KAAKG,OAGtC,SAASC,OAAOC,EAAIC,GACNC,MAAMC,KAAKH,GACjBI,IAAI,MAAOH,GAInB,SAASI,kBAAkBC,GAC1BhB,cAAgBgB,EACAJ,MAAMC,KAAK,gBACjBC,IAAI,MAAOE,GAItB,SAASC,aAAaD,GACrB,GAAyC,KAArCV,YAAYU,EAAM,GAAG9B,MAAMgC,MAAa,CAC3C,IAAIC,EAASjB,MAAMC,IAAIC,kBAAmBC,MACzCnB,MAAY,GACZC,KAAY,GACZS,SAAY,KACZC,OAAY,GACZT,MAAY,GACZU,IAAY,GACZC,IAAY,MAEbO,YAAYc,IAAIJ,EAAOG,GACvBJ,kBAAkBC,GAClBT,sBAEAQ,kBAAkBC,EAAM,GAM1B,SAASK,aACR,IACC,IAAIC,EAAY5C,KAAK6C,SAAS7C,KAAKmC,KAAK,aAAaK,OACrDnC,SAAWmB,MAAMC,IAAIC,kBAAmBC,KAAOiB,IAC/CV,MAAMC,KAAK,QAAQC,IAAI,MAAO/B,UAC9BL,KAAKmC,KAAK,kBAAkBW,MAAMC,QAAU,OAC5C/C,KAAKmC,KAAK,YAAYW,MAAMC,QAAU,GACtC,MAAMC,GACNC,QAAQC,MAAM,kCAAkCF,IAKlD,SAASG,cACRnD,KAAKmC,KAAK,kBAAkBW,MAAMC,QAAU,GACzC,IACF/C,KAAKmC,KAAK,aAAaiB,QACvBpD,KAAKmC,KAAK,YAAYW,MAAMC,QAAU,OACtCb,MAAMC,KAAK,aAAaC,IAAI,QAASpC,KAAKqD,OAAOhD,SAASiD,iBAAiB,IAC1E,MAAMC,GACPN,QAAQO,IAAID,IAId,SAASE,QACRjC,MAAMkC,OAAOC,OAAOC,QAGrB5D,KAAK6D,MAAMJ","file":"../../../../../../mvc/tests/1.7/mobile/demo/src-sync.js","sourcesContent":["dojo.provide(\"dojox.mvc.tests.mobile.demo.src\");\r\n\r\n//dojo.require(\"dojo.parser\"); // no longer needed for repeat demo\r\ndojo.require(\"dojox.mobile.parser\");\r\ndojo.require(\"dojox.mobile\");\r\ndojo.require(\"dojox.mobile.ScrollableView\");\r\ndojo.require(\"dojox.mobile.TextBox\");\r\ndojo.require(\"dojox.mvc\");\r\ndojo.require(\"dojox.mvc.Generate\");\r\ndojo.require(\"dojox.mvc.Group\");\r\ndojo.require(\"dojox.mvc.Repeat\");\r\ndojo.require(\"dojox.mobile.FlippableView\");\r\ndojo.require(\"dojox.mobile.ViewController\");\r\ndojo.require(\"dojox.mobile.TextArea\");\r\ndojo.require(\"dojox.mobile.Button\");\r\n\r\ndojo.require(\"dojox.mobile.FixedSplitter\");\r\ndojo.require(\"dojox.mobile.EdgeToEdgeList\");\r\ndojo.require(\"dojox.mobile.EdgeToEdgeCategory\");\r\ndojo.require(\"dojox.mobile.Heading\");\r\ndojo.require(\"dojox.mobile.FixedSplitterPane\");\r\ndojo.requireIf(!dojo.isWebKit, \"dojox.mobile.compat\");\r\ndojo.requireIf(!dojo.isWebKit, \"dojo.fx\");\r\ndojo.requireIf(!dojo.isWebKit, \"dojo.fx.easing\");\r\ndojo.require(\"dojox.mobile.deviceTheme\"); // used for device detection\r\n\r\n\r\n// Initial data for Ship to - Bill demo\r\nvar names = {\r\n\t\"Serial\" : \"360324\",\r\n\t\"First\"  : \"John\",\r\n\t\"Last\"   : \"Doe\",\r\n\t\"Email\"  : \"jdoe@us.ibm.com\",\r\n\t\"ShipTo\" : {\r\n\t\t\"Street\" : \"123 Valley Rd\",\r\n\t\t\"City\"   : \"Katonah\",\r\n\t\t\"State\"  : \"NY\",\r\n\t\t\"Zip\"    : \"10536\"\r\n\t},\r\n\t\"BillTo\" : {\r\n\t\t\"Street\" : \"17 Skyline Dr\",\r\n\t\t\"City\"   : \"Hawthorne\",\r\n\t\t\"State\"  : \"NY\",\r\n\t\t\"Zip\"    : \"10532\"\r\n\t}\r\n};\r\n\r\n// Initial repeat data used in the Repeat Data binding demo\r\nvar repeatData = [ \r\n\t{\r\n\t\t\"First\"   : \"Chad\",\r\n\t\t\"Last\"    : \"Chapman\",\r\n\t\t\"Location\": \"CA\",\r\n\t\t\"Office\"  : \"1278\",\r\n\t\t\"Email\"   : \"c.c@test.com\",\r\n\t\t\"Tel\"     : \"408-764-8237\",\r\n\t\t\"Fax\"     : \"408-764-8228\"\r\n\t},\r\n\t{\r\n\t\t\"First\"   : \"Irene\",\r\n\t\t\"Last\"    : \"Ira\",\r\n\t\t\"Location\": \"NJ\",\r\n\t\t\"Office\"  : \"F09\",\r\n\t\t\"Email\"   : \"i.i@test.com\",\r\n\t\t\"Tel\"     : \"514-764-6532\",\r\n\t\t\"Fax\"     : \"514-764-7300\"\r\n\t},\r\n\t{\r\n\t\t\"First\"   : \"John\",\r\n\t\t\"Last\"    : \"Jacklin\",\r\n\t\t\"Location\": \"CA\",\r\n\t\t\"Office\"  : \"6701\",\r\n\t\t\"Email\"   : \"j.j@test.com\",\r\n\t\t\"Tel\"     : \"408-764-1234\",\r\n\t\t\"Fax\"     : \"408-764-4321\"\r\n\t}\r\n];\r\n\r\nvar selectedIndex = 0;\r\n\r\nvar model = dojox.mvc.newStatefulModel({ data : names });\r\nvar repeatmodel = dojox.mvc.newStatefulModel({ data : repeatData });\r\nvar nextIndexToAdd = repeatmodel.data.length;\r\n\r\n// used in the Ship to - Bill to demo\r\nfunction setRef(id, addrRef) {\r\n\tvar widget = dijit.byId(id);\r\n\twidget.set(\"ref\", addrRef);\r\n}\r\n\r\n// used in the Repeat Data binding demo\r\nfunction setDetailsContext(index){\r\n\tselectedIndex = index;\r\n\tvar groupRoot = dijit.byId(\"detailsGroup\");\r\n\tgroupRoot.set(\"ref\", index);\r\n}\r\n\r\n// used in the Repeat Data binding demo\r\nfunction insertResult(index){\r\n\tif (repeatmodel[index-1].First.value !== \"\"){ // TODO: figure out why we are getting called twice for each click\r\n\t\tvar insert = dojox.mvc.newStatefulModel({ \"data\" : {\r\n\t\t\t\"First\"   : \"\",\r\n\t\t\t\"Last\"    : \"\",\r\n\t\t\t\"Location\": \"CA\",\r\n\t\t\t\"Office\"  : \"\",\r\n\t\t\t\"Email\"   : \"\",\r\n\t\t\t\"Tel\"     : \"\",\r\n\t\t\t\"Fax\"     : \"\"} \r\n\t\t});\r\n\t\trepeatmodel.add(index, insert);\r\n\t\tsetDetailsContext(index);\r\n\t\tnextIndexToAdd++;\r\n\t}else{\r\n\t\tsetDetailsContext(index-1);                 \r\n\t}\r\n};\r\n\r\n// used in the Generate View demo\r\nvar genmodel;\r\nfunction updateView() {\r\n\ttry {\r\n\t\tvar modeldata = dojo.fromJson(dojo.byId(\"modelArea\").value);\r\n\t\tgenmodel = dojox.mvc.newStatefulModel({ data : modeldata });\r\n\t\tdijit.byId(\"view\").set(\"ref\", genmodel);\r\n\t\tdojo.byId(\"outerModelArea\").style.display = \"none\";\r\n\t\tdojo.byId(\"viewArea\").style.display = \"\";              \t\t\r\n\t}catch(err){\r\n\t\tconsole.error(\"Error parsing json from model: \"+err);\r\n\t}\r\n};\r\n\r\n// used in the Generate View demo\r\nfunction updateModel() {\r\n\tdojo.byId(\"outerModelArea\").style.display = \"\";\r\n    try {\r\n\t\tdojo.byId(\"modelArea\").focus(); // hack: do this to force focus off of the textbox, bug on mobile?\r\n\t\tdojo.byId(\"viewArea\").style.display = \"none\";\r\n\t\tdijit.byId(\"modelArea\").set(\"value\",(dojo.toJson(genmodel.toPlainObject(), true)));\r\n\t} catch(e) {\r\n\t\tconsole.log(e);\r\n\t};\r\n};\r\n\r\nfunction setup() {\r\n\tdojox.mobile.parser.parse();\r\n};\r\n\r\ndojo.ready(setup);\r\n"]}