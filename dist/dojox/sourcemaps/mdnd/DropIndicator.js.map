{"version":3,"sources":["mdnd/DropIndicator.js"],"names":["define","dojo","declare","domClass","domConstruct","di","node","constructor","dropIndicator","document","createElement","subDropIndicator","appendChild","add","this","place","area","nodeRef","size","style","height","h","insertBefore","e","remove","parentNode","removeChild","destroy","dojox","mdnd","areaManager","_dropIndicator","DropIndicator"],"mappings":";;;;;;;AAAAA,QAAQ,oBACP,qBACA,iBACA,qBACA,iBACE,SAASC,EAAMC,EAASC,EAAUC,GACpC,IAAIC,EAAKH,EACR,2BACA,MAOAI,KAAO,KAEPC,YAAa,WAEZ,IAAIC,EAAgBC,SAASC,cAAc,OACvCC,EAAmBF,SAASC,cAAc,OAC9CF,EAAcI,YAAYD,GAC1BR,EAASU,IAAIL,EAAe,iBAC5BM,KAAKR,KAAOE,GAGbO,MAAO,SAAiBC,EAAcC,EAAmBC,GAarDA,IACFJ,KAAKR,KAAKa,MAAMC,OAASF,EAAKG,EAAI,MAEnC,IAQC,OAPGJ,EACFD,EAAKM,aAAaR,KAAKR,KAAMW,GAI7BD,EAAKJ,YAAYE,KAAKR,MAEhBQ,KAAKR,KACZ,MAAMiB,GACN,OAAO,OAITC,OAAQ,WAKJV,KAAKR,OAEPQ,KAAKR,KAAKa,MAAMC,OAAS,GACtBN,KAAKR,KAAKmB,YACZX,KAAKR,KAAKmB,WAAWC,YAAYZ,KAAKR,QAKzCqB,QAAS,WAKLb,KAAKR,OACJQ,KAAKR,KAAKmB,YACZX,KAAKR,KAAKmB,WAAWC,YAAYZ,KAAKR,MAEvCF,EAAauB,QAAQb,KAAKR,aACnBQ,KAAKR,SAOf,OAFAsB,MAAMC,KAAKC,cAAcC,eAAiB,IAAIH,MAAMC,KAAKG,cAElD3B","file":"../../mdnd/DropIndicator.js","sourcesContent":["define([\"dojo/_base/kernel\",\r\n\t\"dojo/_base/declare\",\r\n\t\"dojo/dom-class\",\r\n\t\"dojo/dom-construct\",\r\n\t\"./AreaManager\"\r\n], function(dojo, declare, domClass, domConstruct){\r\n\tvar di = declare(\r\n\t\t\"dojox.mdnd.DropIndicator\",\r\n\t\tnull,\r\n\t{\r\n\t\t// summary:\r\n\t\t//\t\tDropIndicator managment for DnD.\r\n\t\r\n\t\t// node: DOMNode\r\n\t\t//\t\tthe drop indicator node\r\n\t\tnode : null,\r\n\t\t\t\r\n\t\tconstructor: function(){\r\n\t\t\t//console.log(\"dojox.mdnd.DropIndicator ::: constructor\");\r\n\t\t\tvar dropIndicator = document.createElement(\"div\");\r\n\t\t\tvar subDropIndicator = document.createElement(\"div\");\r\n\t\t\tdropIndicator.appendChild(subDropIndicator);\r\n\t\t\tdomClass.add(dropIndicator, \"dropIndicator\");\r\n\t\t\tthis.node = dropIndicator;\r\n\t\t},\r\n\t\t\r\n\t\tplace: function(/*Node*/area, /*Node*/nodeRef, /*Object*/size){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tPlace the DropIndicator in the right place\r\n\t\t\t// area:\r\n\t\t\t//\t\tthe dnd targer area node\r\n\t\t\t// nodeRef:\r\n\t\t\t//\t\tnode where the dropIndicator have to be placed into the area\r\n\t\t\t// dragNode:\r\n\t\t\t//\t\tthe node which is dragged\r\n\t\t\t// returns:\r\n\t\t\t//\t\tthe node inserted or null if it crashes\r\n\t\r\n\t\t\t//console.log(\"dojox.mdnd.DropIndicator ::: place\");\r\n\t\t\tif(size){\r\n\t\t\t\tthis.node.style.height = size.h + \"px\";\r\n\t\t\t}\r\n\t\t\ttry{\r\n\t\t\t\tif(nodeRef){\r\n\t\t\t\t\tarea.insertBefore(this.node, nodeRef);\r\n\t\t\t\t}\r\n\t\t\t\telse{\r\n\t\t\t\t\t// empty target area or last node => appendChild\r\n\t\t\t\t\tarea.appendChild(this.node);\r\n\t\t\t\t}\r\n\t\t\t\treturn this.node;\t// DOMNode\r\n\t\t\t}catch(e){\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t},\r\n\t\t\r\n\t\tremove: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tremove the DropIndicator (not destroy)\r\n\t\r\n\t\t\t//console.log(\"dojox.mdnd.DropIndicator ::: remove\");\r\n\t\t\tif(this.node){\r\n\t\t\t\t//FIX : IE6 problem\r\n\t\t\t\tthis.node.style.height = \"\";\r\n\t\t\t\tif(this.node.parentNode){\r\n\t\t\t\t\tthis.node.parentNode.removeChild(this.node);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\t \r\n\t\tdestroy: function(){\r\n\t\t\t// summary:\r\n\t\t\t//\t\tdestroy the dropIndicator\r\n\t\r\n\t\t\t//console.log(\"dojox.mdnd.DropIndicator ::: destroy\");\r\n\t\t\tif(this.node){\r\n\t\t\t\tif(this.node.parentNode){\r\n\t\t\t\t\tthis.node.parentNode.removeChild(this.node);\r\n\t\t\t\t}\r\n\t\t\t\tdomConstruct.destroy(this.node);\r\n\t\t\t\tdelete this.node;\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\r\n\tdojox.mdnd.areaManager()._dropIndicator = new dojox.mdnd.DropIndicator();\r\n\t\r\n\treturn di;\r\n});\r\n"]}