{"version":3,"sources":["html/ext-dojo/style.js"],"names":["define","kernel","domStyle","lang","Html","has","win","DOM","DOMConstruct","DOMStyle","DOMAttr","experimental","getObject","HtmlX","mixin","style","supportsTransform","_toPx","measure","ds","_conversion","this","toLowerCase","indexOf","parentNode","place","body","init","docStyle","doc","documentElement","extStyle","sget","get","sset","set","node","name","to","getTransform","getTransformOrigin","apply","arguments","value","tr","n","byId","setTransform","setTransformOrigin","i","tPrefix","length","tPropertyName","toPropertyName","transform","_setTransformFilter","_getTransformFilter","transformOrigin","_setTransformOriginFilter","_getTransformOriginFilter","create","position","top","left","fontSize","width","backgroundPosition","_notSupported","console","warn","toAry","trim","replace","split","t","validOrigin","test","attr","join","dy","xc","yc","transforms","toRad","toRad1","mstr","hasAttr","PI","Math","cos","sin","tan","max","min","abs","degToRad","gradToRad","ct","matchingTransforms","x0","y0","dx","a","m11","m12","m21","m22","tx","ty","props","hasMatrix","newPosition","w","h","toPx","l","match","matrix","s","parseFloat","c","ta","skewAry","a0","a1","scaleAry","parseInt","translateAry","zoom","parentWidth","tw","th","wMax","zIndex","filters","item","e","M11","M12","M21","M22","filterType","Dx","Dy","sizingMethod","filter","toString"],"mappings":"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","file":"../../../html/ext-dojo/style.js","sourcesContent":["define([\"dojo/_base/kernel\", \"dojo/dom-style\", \"dojo/_base/lang\", \"dojo/_base/html\", \"dojo/_base/sniff\",\r\n\t\t\"dojo/_base/window\", \"dojo/dom\", \"dojo/dom-construct\", \"dojo/dom-style\", \"dojo/dom-attr\"], \r\n\tfunction(kernel, domStyle, lang, Html, has, win, DOM, DOMConstruct, DOMStyle, DOMAttr){\r\n\tkernel.experimental(\"dojox.html.ext-dojo.style\");\r\n\tvar st = lang.getObject(\"dojox.html.ext-dojo.style\", true);\r\n\tvar HtmlX = lang.getObject(\"dojox.html\");\r\n\t// summary:\r\n\t//\t\tExtensions to dojo.style adding the css3 \"transform\" and \"transform-origin\" properties on IE5.5+\r\n\t// description:\r\n\t//\t\tA Package to extend the dojo.style function\r\n\t//\t\tSupported transformation functions:\r\n\t//\t \tmatrix, translate, translateX, translateY, scale, scaleX, scaleY, rotate, skewX, skewY, skew\r\n\tlang.mixin(HtmlX[\"ext-dojo\"].style, {\r\n\t\tsupportsTransform: true,\r\n\t\t_toPx: function(measure){\r\n\t\t\tvar ds = Html.style, _conversion = this._conversion;\r\n\t\t\tif(typeof measure === \"number\"){\r\n\t\t\t\treturn measure + \"px\";\r\n\t\t\t}else if(measure.toLowerCase().indexOf(\"px\") != -1){\r\n\t\t\t\treturn measure;\r\n\t\t\t}\r\n\t\t\t// \"native\" conversion in px\r\n\t\t\t!_conversion.parentNode && DOMConstruct.place(_conversion, win.body());\r\n\t\t\tds(_conversion, \"margin\", measure);\r\n\t\t\treturn ds(_conversion, \"margin\");\r\n\t\t},\r\n\t\tinit: function(){\r\n\t\t\tvar docStyle = win.doc.documentElement.style, extStyle = HtmlX[\"ext-dojo\"].style,\r\n\t\t\t\tsget = DOMStyle.get, sset = DOMStyle.set;\r\n\t\t\tDOMStyle.get = function(/*DOMNode|String*/ node, /*String|Object*/ name){\r\n\t\t\t\tvar tr = (name == \"transform\"),\r\n\t\t\t\t\tto = (name == \"transformOrigin\");\r\n\t\t\t\tif(tr){\r\n\t\t\t\t\treturn extStyle.getTransform(node);\r\n\t\t\t\t}else if(to){\r\n\t\t\t\t\treturn extStyle.getTransformOrigin(node);\r\n\t\t\t\t}else{\r\n\t\t\t\t\treturn sget.apply(this, arguments);\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t\tDOMStyle.set = function(/*DOMNode|String*/ node, /*String|Object*/ name, /*String?*/ value){\r\n\t\t\t\tvar tr = (name == \"transform\"),\r\n\t\t\t\t\tto = (name == \"transformOrigin\"),\r\n\t\t\t\t\tn = DOM.byId(node)\r\n\t\t\t\t;\r\n\t\t\t\tif(tr){\r\n\t\t\t\t\treturn extStyle.setTransform(n, value, true);\r\n\t\t\t\t}else if(to){\r\n\t\t\t\t\treturn extStyle.setTransformOrigin(n, value);\r\n\t\t\t\t}else{\r\n\t\t\t\t\treturn sset.apply(this, arguments);\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t\t// prefixes and property names\r\n\t\t\tfor(var i = 0, tPrefix = [\"WebkitT\", \"MozT\", \"OT\", \"msT\", \"t\"]; i < tPrefix.length; i++){\r\n\t\t\t\tif(typeof docStyle[tPrefix[i] + \"ransform\"] !== \"undefined\"){\r\n\t\t\t\t\tthis.tPropertyName = tPrefix[i] + \"ransform\";\r\n\t\t\t\t}\r\n\t\t\t\tif(typeof docStyle[tPrefix[i] + \"ransformOrigin\"] !== \"undefined\"){\r\n\t\t\t\t\tthis.toPropertyName = tPrefix[i] + \"ransformOrigin\";\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif(this.tPropertyName){\r\n\t\t\t\tthis.setTransform = function(/*DomNode*/node, /*String*/ transform){\r\n\t\t\t\t\treturn sset(node, this.tPropertyName, transform);\r\n\t\t\t\t};\r\n\t\t\t\tthis.getTransform = function(/*DomNode*/node){\r\n\t\t\t\t\treturn sget(node, this.tPropertyName);\r\n\t\t\t\t};\r\n\t\t\t}else if(has(\"ie\")){\r\n\t\t\t\tthis.setTransform = this._setTransformFilter;\r\n\t\t\t\tthis.getTransform = this._getTransformFilter;\r\n\t\t\t}\r\n\t\t\tif(this.toPropertyName){\r\n\t\t\t\tthis.setTransformOrigin = function(/*DomNode*/node, /*String*/ transformOrigin){\r\n\t\t\t\t\treturn sset(node, this.toPropertyName, transformOrigin);\r\n\t\t\t\t};\r\n\t\t\t\tthis.getTransformOrigin = function(/*DomNode*/node){\r\n\t\t\t\t\treturn sget(node, this.toPropertyName);\r\n\t\t\t\t};\r\n\t\t\t}else if(has(\"ie\")){\r\n\t\t\t\tthis.setTransformOrigin = this._setTransformOriginFilter;\r\n\t\t\t\tthis.getTransformOrigin = this._getTransformOriginFilter;\r\n\t\t\t}else{\r\n\t\t\t\tthis.supportsTransform = false;\r\n\t\t\t}\r\n\t\t\tthis._conversion = DOMConstruct.create(\"div\", {\r\n\t\t\t\tstyle: {\r\n\t\t\t\t\tposition: \"absolute\",\r\n\t\t\t\t\ttop: \"-100px\",\r\n\t\t\t\t\tleft: \"-100px\",\r\n\t\t\t\t\tfontSize: 0,\r\n\t\t\t\t\twidth: \"0\",\r\n\t\t\t\t\tbackgroundPosition: \"50% 50%\"\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\t_notSupported: function(){\r\n\t\t\tconsole.warn(\"Sorry, this browser doesn't support transform and transform-origin\");\r\n\t\t},\r\n\t\t_setTransformOriginFilter: function(/*DomNode*/ node, /*String*/ transformOrigin){\r\n\t\t\tvar to = lang.trim(transformOrigin)\r\n\t\t\t\t.replace(\" top\", \" 0\")\r\n\t\t\t\t.replace(\"left \", \"0 \")\r\n\t\t\t\t.replace(\" center\", \"50%\")\r\n\t\t\t\t.replace(\"center \", \"50% \")\r\n\t\t\t\t.replace(\" bottom\", \" 100%\")\r\n\t\t\t\t.replace(\"right \", \"100% \")\r\n\t\t\t\t.replace(/\\s+/, \" \"),\r\n\t\t\t\ttoAry = to.split(\" \"),\r\n\t\t\t\tn = DOM.byId(node),\r\n\t\t\t\tt = this.getTransform(n),\r\n\t\t\t\tvalidOrigin = true\r\n\t\t\t;\r\n\t\t\tfor(var i = 0; i < toAry.length; i++){\r\n\t\t\t\tvalidOrigin = validOrigin && /^0|(\\d+(%|px|pt|in|pc|mm|cm))$/.test(toAry[i]);\r\n\t\t\t\tif(toAry[i].indexOf(\"%\") == -1){\r\n\t\t\t\t\ttoAry[i] = this._toPx(toAry[i]);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif(!validOrigin || !toAry.length || toAry.length > 2 ){\r\n\t\t\t\treturn transformOrigin;\r\n\t\t\t}\r\n\t\t\tHtml.attr(n, \"dojo-transform-origin\", toAry.join(\" \"));\r\n\t\t\tt && this.setTransform(node, t);\r\n\t\t\treturn transformOrigin;\r\n\t\t},\r\n\t\t_getTransformOriginFilter: function(/*DomNode*/ node){\r\n\t\t\treturn Html.attr(node, \"dojo-transform-origin\") || \"50% 50%\";\r\n\t\t},\r\n\t\t_setTransformFilter: function(/*DomNode*/ node, /*String*/ transform){\r\n\t\t\t// Using the Matrix Filter to implement the transform property on IE\r\n\t\t\tvar t = transform.replace(/\\s/g, \"\"),\r\n\t\t\t\tn = DOM.byId(node),\r\n\t\t\t\ttransforms = t.split(\")\"),\r\n\t\t\t\ttoRad = 1, toRad1 = 1,\r\n\t\t\t\tmstr = \"DXImageTransform.Microsoft.Matrix\",\r\n\t\t\t\thasAttr = DOMAttr.has,\r\n\t\t\t\tattr = Html.attr,\r\n\t\t\t\t// Math functions\r\n\t\t\t\tPI = Math.PI, cos = Math.cos, sin = Math.sin, tan = Math.tan, max = Math.max, min = Math.min, abs = Math.abs,\r\n\t\t\t\tdegToRad = PI/180, gradToRad = PI/200,\r\n\r\n\t\t\t\t// current transform\r\n\t\t\t\tct = \"\", currentTransform = \"\",\r\n\t\t\t\tmatchingTransforms = [],\r\n\t\t\t\tx0 = 0, y0 = 0, dx = 0, dy = 0, xc = 0, yc = 0, a = 0,\r\n\r\n\t\t\t\t// default transform, identity matrix\r\n\t\t\t\tm11 = 1, m12 = 0, m21 = 0, m22 = 1,\r\n\r\n\t\t\t\t// no translation\r\n\t\t\t\ttx = 0, ty = 0,\r\n\t\t\t\tprops = [m11, m12, m21, m22, tx, ty],\r\n\t\t\t\thasMatrix = false,\r\n\t\t\t\tds = Html.style,\r\n\t\t\t\tnewPosition = ds(n, \"position\") == \"absolute\" ? \"absolute\" : \"relative\",\r\n\t\t\t\tw = ds(n, \"width\") + ds(n, \"paddingLeft\") + ds(n, \"paddingRight\"),\r\n\t\t\t\th = ds(n, \"height\") + ds(n, \"paddingTop\") + ds(n, \"paddingBottom\"),\r\n\t\t\t\ttoPx = this._toPx\r\n\t\t\t;\r\n\r\n\t\t\t!hasAttr(n, \"dojo-transform-origin\") && this.setTransformOrigin(n, \"50% 50%\");\r\n\r\n\t\t\tfor(var i = 0, l = transforms.length; i < l; i++){\r\n\t\t\t\tmatchingTransforms = transforms[i].match(/matrix|rotate|scaleX|scaleY|scale|skewX|skewY|skew|translateX|translateY|translate/);\r\n\t\t\t\tcurrentTransform = matchingTransforms ? matchingTransforms[0] : \"\";\r\n\t\t\t\tswitch(currentTransform){\r\n\t\t\t\t\tcase \"matrix\":\r\n\t\t\t\t\t\t// generic transformation\r\n\t\t\t\t\t\t//\r\n\t\t\t\t\t\t// matrix:\r\n\t\t\t\t\t\t// m11        m12\r\n\t\t\t\t\t\t//\r\n\t\t\t\t\t\t// m21        m22\r\n\t\t\t\t\t\t//\r\n\t\t\t\t\t\tct = transforms[i].replace(/matrix\\(|\\)/g, \"\");\r\n\t\t\t\t\t\tvar matrix = ct.split(\",\");\r\n\t\t\t\t\t\tm11 = props[0]*matrix[0] + props[1]*matrix[2];\r\n\t\t\t\t\t\tm12 = props[0]*matrix[1] + props[1]*matrix[3];\r\n\t\t\t\t\t\tm21 = props[2]*matrix[0] + props[3]*matrix[2];\r\n\t\t\t\t\t\tm22 = props[2]*matrix[1] + props[3]*matrix[3];\r\n\t\t\t\t\t\ttx = props[4] + matrix[4];\r\n\t\t\t\t\t\tty = props[5] + matrix[5];\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase \"rotate\":\r\n\t\t\t\t\t\t// rotate\r\n\t\t\t\t\t\t//\r\n\t\t\t\t\t\t// rotation angle:\r\n\t\t\t\t\t\t// a (rad, deg or grad)\r\n\t\t\t\t\t\t//\r\n\t\t\t\t\t\t// matrix:\r\n\t\t\t\t\t\t// cos(a)     -sin(a)\r\n\t\t\t\t\t\t//\r\n\t\t\t\t\t\t// sin(a)     cos(a)\r\n\t\t\t\t\t\t//\r\n\t\t\t\t\t\tct = transforms[i].replace(/rotate\\(|\\)/g, \"\");\r\n\t\t\t\t\t\ttoRad = ct.indexOf(\"deg\") != -1 ? degToRad : ct.indexOf(\"grad\") != -1 ? gradToRad : 1;\r\n\t\t\t\t\t\ta = parseFloat(ct)*toRad;\r\n\t\t\t\t\t\tvar s = sin(a),\r\n\t\t\t\t\t\t\tc = cos(a)\r\n\t\t\t\t\t\t;\r\n\t\t\t\t\t\tm11 = props[0]*c + props[1]*s;\r\n\t\t\t\t\t\tm12 = -props[0]*s + props[1]*c;\r\n\t\t\t\t\t\tm21 = props[2]*c + props[3]*s;\r\n\t\t\t\t\t\tm22 = -props[2]*s + props[3]*c;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase \"skewX\":\r\n\t\t\t\t\t\t// skewX\r\n\t\t\t\t\t\t//\r\n\t\t\t\t\t\t// skew angle:\r\n\t\t\t\t\t\t// a (rad, deg or grad)\r\n\t\t\t\t\t\t//\r\n\t\t\t\t\t\t// matrix:\r\n\t\t\t\t\t\t// 1          tan(a)\r\n\t\t\t\t\t\t//\r\n\t\t\t\t\t\t// 0          1\r\n\t\t\t\t\t\t//\r\n\t\t\t\t\t\tct = transforms[i].replace(/skewX\\(|\\)/g, \"\");\r\n\t\t\t\t\t\ttoRad = ct.indexOf(\"deg\") != -1 ? degToRad : ct.indexOf(\"grad\") != -1 ? gradToRad : 1;\r\n\t\t\t\t\t\tvar ta = tan(parseFloat(ct)*toRad);\r\n\t\t\t\t\t\tm11 = props[0];\r\n\t\t\t\t\t\tm12 = props[0]*ta + props[1];\r\n\t\t\t\t\t\tm21 = props[2];\r\n\t\t\t\t\t\tm22 = props[2]*ta + props[3];\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase \"skewY\":\r\n\t\t\t\t\t\t// skewY\r\n\t\t\t\t\t\t//\r\n\t\t\t\t\t\t// skew angle:\r\n\t\t\t\t\t\t// a (rad, deg or grad)\r\n\t\t\t\t\t\t//\r\n\t\t\t\t\t\t// matrix:\r\n\t\t\t\t\t\t// 1          0\r\n\t\t\t\t\t\t//\r\n\t\t\t\t\t\t// tan(a)     1\r\n\t\t\t\t\t\t//\r\n\t\t\t\t\t\tct = transforms[i].replace(/skewY\\(|\\)/g, \"\");\r\n\t\t\t\t\t\ttoRad = ct.indexOf(\"deg\") != -1 ? degToRad : ct.indexOf(\"grad\") != -1 ? gradToRad : 1;\r\n\t\t\t\t\t\tta = tan(parseFloat(ct)*toRad);\r\n\t\t\t\t\t\tm11 = props[0] + props[1]*ta;\r\n\t\t\t\t\t\tm12 = props[1];\r\n\t\t\t\t\t\tm21 = props[2] + props[3]*ta;\r\n\t\t\t\t\t\tm22 = props[3];\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase \"skew\":\r\n\t\t\t\t\t\t// skew\r\n\t\t\t\t\t\t//\r\n\t\t\t\t\t\t// skew angles:\r\n\t\t\t\t\t\t// a0 (rad, deg or grad)\r\n\t\t\t\t\t\t// a1 (rad, deg or grad)\r\n\t\t\t\t\t\t//\r\n\t\t\t\t\t\t// matrix:\r\n\t\t\t\t\t\t// 1          tan(a0)\r\n\t\t\t\t\t\t//\r\n\t\t\t\t\t\t// tan(a1)    1\r\n\t\t\t\t\t\t//\r\n\t\t\t\t\t\tct = transforms[i].replace(/skew\\(|\\)/g, \"\");\r\n\t\t\t\t\t\tvar skewAry = ct.split(\",\");\r\n\t\t\t\t\t\tskewAry[1] = skewAry[1] || \"0\";\r\n\t\t\t\t\t\ttoRad = skewAry[0].indexOf(\"deg\") != -1 ? degToRad : skewAry[0].indexOf(\"grad\") != -1 ? gradToRad : 1;\r\n\t\t\t\t\t\ttoRad1 = skewAry[1].indexOf(\"deg\") != -1 ? degToRad : skewAry[1].indexOf(\"grad\") != -1 ? gradToRad : 1;\r\n\t\t\t\t\t\tvar a0 = tan(parseFloat(skewAry[0])*toRad),\r\n\t\t\t\t\t\t\ta1 = tan(parseFloat(skewAry[1])*toRad1)\r\n\t\t\t\t\t\t;\r\n\t\t\t\t\t\tm11 = props[0] + props[1]*a1;\r\n\t\t\t\t\t\tm12 = props[0]*a0 + props[1];\r\n\t\t\t\t\t\tm21 = props[2]+ props[3]*a1;\r\n\t\t\t\t\t\tm22 = props[2]*a0 + props[3];\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase \"scaleX\":\r\n\t\t\t\t\t\t// scaleX\r\n\t\t\t\t\t\t//\r\n\t\t\t\t\t\t// scale factor:\r\n\t\t\t\t\t\t// sx\r\n\t\t\t\t\t\t//\r\n\t\t\t\t\t\t// matrix:\r\n\t\t\t\t\t\t// sx         0\r\n\t\t\t\t\t\t//\r\n\t\t\t\t\t\t// 0          1\r\n\t\t\t\t\t\t//\r\n\t\t\t\t\t\tct = parseFloat(transforms[i].replace(/scaleX\\(|\\)/g, \"\")) || 1;\r\n\t\t\t\t\t\tm11 = props[0]*ct;\r\n\t\t\t\t\t\tm12 = props[1];\r\n\t\t\t\t\t\tm21 = props[2]*ct;\r\n\t\t\t\t\t\tm22 = props[3];\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase \"scaleY\":\r\n\t\t\t\t\t\t// scaleY\r\n\t\t\t\t\t\t//\r\n\t\t\t\t\t\t// scale factor:\r\n\t\t\t\t\t\t// sy\r\n\t\t\t\t\t\t//\r\n\t\t\t\t\t\t// matrix:\r\n\t\t\t\t\t\t// 1          0\r\n\t\t\t\t\t\t//\r\n\t\t\t\t\t\t// 0          sy\r\n\t\t\t\t\t\t//\r\n\t\t\t\t\t\tct = parseFloat(transforms[i].replace(/scaleY\\(|\\)/g, \"\")) || 1;\r\n\t\t\t\t\t\tm11 = props[0];\r\n\t\t\t\t\t\tm12 = props[1]*ct;\r\n\t\t\t\t\t\tm21 = props[2];\r\n\t\t\t\t\t\tm22 = props[3]*ct;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase \"scale\":\r\n\t\t\t\t\t\t// scale\r\n\t\t\t\t\t\t//\r\n\t\t\t\t\t\t// scale factor:\r\n\t\t\t\t\t\t// sx, sy\r\n\t\t\t\t\t\t//\r\n\t\t\t\t\t\t// matrix:\r\n\t\t\t\t\t\t// sx         0\r\n\t\t\t\t\t\t//\r\n\t\t\t\t\t\t// 0          sy\r\n\t\t\t\t\t\t//\r\n\t\t\t\t\t\tct = transforms[i].replace(/scale\\(|\\)/g, \"\");\r\n\t\t\t\t\t\tvar scaleAry = ct.split(\",\");\r\n\t\t\t\t\t\tscaleAry[1] = scaleAry[1] || scaleAry[0];\r\n\t\t\t\t\t\tm11 = props[0]*scaleAry[0];\r\n\t\t\t\t\t\tm12 = props[1]*scaleAry[1];\r\n\t\t\t\t\t\tm21 = props[2]*scaleAry[0];\r\n\t\t\t\t\t\tm22 = props[3]*scaleAry[1];\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase \"translateX\":\r\n\t\t\t\t\t\tct = parseInt(transforms[i].replace(/translateX\\(|\\)/g, \"\")) || 1;\r\n\t\t\t\t\t\tm11 = props[0];\r\n\t\t\t\t\t\tm12 = props[1];\r\n\t\t\t\t\t\tm21 = props[2];\r\n\t\t\t\t\t\tm22 = props[3];\r\n\t\t\t\t\t\ttx = toPx(ct);\r\n\t\t\t\t\t\ttx && attr(n, \"dojo-transform-matrix-tx\", tx);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase \"translateY\":\r\n\t\t\t\t\t\tct = parseInt(transforms[i].replace(/translateY\\(|\\)/g, \"\")) || 1;\r\n\t\t\t\t\t\tm11 = props[0];\r\n\t\t\t\t\t\tm12 = props[1];\r\n\t\t\t\t\t\tm21 = props[2];\r\n\t\t\t\t\t\tm22 = props[3];\r\n\t\t\t\t\t\tty = toPx(ct);\r\n\t\t\t\t\t\tty && attr(n, \"dojo-transform-matrix-ty\", ty);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase \"translate\":\r\n\t\t\t\t\t\tct = transforms[i].replace(/translate\\(|\\)/g, \"\");\r\n\t\t\t\t\t\tm11 = props[0];\r\n\t\t\t\t\t\tm12 = props[1];\r\n\t\t\t\t\t\tm21 = props[2];\r\n\t\t\t\t\t\tm22 = props[3];\r\n\t\t\t\t\t\tvar translateAry = ct.split(\",\");\r\n\t\t\t\t\t\ttranslateAry[0] = parseInt(toPx(translateAry[0])) || 0;\r\n\t\t\t\t\t\ttranslateAry[1] = parseInt(toPx(translateAry[1])) || 0;\r\n\t\t\t\t\t\ttx = translateAry[0];\r\n\t\t\t\t\t\tty = translateAry[1];\r\n\t\t\t\t\t\ttx && attr(n, \"dojo-transform-matrix-tx\", tx);\r\n\t\t\t\t\t\tty && attr(n, \"dojo-transform-matrix-ty\", ty);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t\tprops = [m11, m12, m21, m22, tx, ty];\r\n\t\t\t}\r\n\t\t\t// test\r\n\t\t\tvar Bx = min(w*m11 + h*m12, min(min(w*m11, h*m12), 0)),\r\n\t\t\t\tBy = min(w*m21 + h*m22, min(min(w*m21, h*m22), 0))\r\n\t\t\t;\r\n\t\t\tdx = -Bx;\r\n\t\t\tdy = -By;\r\n\t\t\tif(has(\"ie\") < 8){\r\n\t\t\t\t// on IE < 8 the node must have hasLayout = true\r\n\t\t\t\tn.style.zoom = \"1\";\r\n\t\t\t\tif(newPosition != \"absolute\"){\r\n\t\t\t\t\tvar parentWidth = ds(node.parentNode, \"width\"),\r\n\t\t\t\t\t\ttw = abs(w*m11),\r\n\t\t\t\t\t\tth = abs(h*m12),\r\n\t\t\t\t\t\twMax = max(tw + th, max(max(th, tw), 0))\r\n\t\t\t\t\t;\r\n\t\t\t\t\tdx -= (wMax - w) / 2 - (parentWidth > wMax ? 0 : (wMax - parentWidth) / 2);\r\n\t\t\t\t}\r\n\t\t\t}else if(has(\"ie\") == 8){\r\n\t\t\t\t// IE8 bug, a filter is applied to positioned descendants\r\n\t\t\t\t// only if the parent has z-index\r\n\t\t\t\tds(n, \"zIndex\") == \"auto\" && (n.style.zIndex = \"0\");\r\n\t\t\t}\r\n\r\n\t\t\ttry{\r\n\t\t\t\thasMatrix = !!n.filters.item(mstr);\r\n\t\t\t}catch(e){\r\n\t\t\t\thasMatrix = false;\r\n\t\t\t}\r\n\t\t\tif(hasMatrix){\r\n\t\t\t\tn.filters.item(mstr).M11 = m11;\r\n\t\t\t\tn.filters.item(mstr).M12 = m12;\r\n\t\t\t\tn.filters.item(mstr).M21 = m21;\r\n\t\t\t\tn.filters.item(mstr).M22 = m22;\r\n\t\t\t\t// use 'nearest' for a faster transform\r\n\t\t\t\tn.filters.item(mstr).filterType = 'bilinear';\r\n\t\t\t\tn.filters.item(mstr).Dx = 0;\r\n\t\t\t\tn.filters.item(mstr).Dy = 0;\r\n\t\t\t\tn.filters.item(mstr).sizingMethod = 'auto expand';\r\n\t\t\t}else{\r\n\t\t\t\tn.style.filter +=\r\n\t\t\t\t\t\" progid:\" + mstr + \"(M11=\" + m11 +\r\n\t\t\t\t\t\",M12=\" + m12 +\r\n\t\t\t\t\t\",M21=\" + m21 +\r\n\t\t\t\t\t\",M22=\" + m22 +\r\n\t\t\t\t\t\",FilterType='bilinear',Dx=0,Dy=0,sizingMethod='auto expand')\"\r\n\t\t\t\t;\r\n\t\t\t}\r\n\t\t\ttx = parseInt(attr(n, \"dojo-transform-matrix-tx\") || \"0\");\r\n\t\t\tty = parseInt(attr(n, \"dojo-transform-matrix-ty\") || \"0\");\r\n\r\n\t\t\t// transform origin\r\n\t\t\tvar toAry = attr(n, \"dojo-transform-origin\").split(\" \");\r\n\r\n\t\t\tfor(i = 0; i < 2; i++){\r\n\t\t\t\ttoAry[i] = toAry[i] || \"50%\";\r\n\t\t\t}\r\n\t\t\txc = (toAry[0].toString().indexOf(\"%\") != -1) ? w * parseInt(toAry[0]) * .01 : toAry[0];\r\n\t\t\tyc = (toAry[1].toString().indexOf(\"%\") != -1) ? h * parseInt(toAry[1]) * .01 : toAry[1];\r\n\t\t\tif(hasAttr(n, \"dojo-startX\")){\r\n\t\t\t\tx0 = parseInt(attr(n, \"dojo-startX\"));\r\n\t\t\t}else{\r\n\t\t\t\tx0 = parseInt(ds(n, \"left\"));\r\n\t\t\t\tattr(n, \"dojo-startX\", newPosition == \"absolute\" ? x0 : \"0\");\r\n\t\t\t}\r\n\t\t\tif(hasAttr(n, \"dojo-startY\")){\r\n\t\t\t\ty0 = parseInt(attr(n, \"dojo-startY\"));\r\n\t\t\t}else{\r\n\t\t\t\ty0 = parseInt(ds(n, \"top\"));\r\n\t\t\t\tattr(n, \"dojo-startY\", newPosition == \"absolute\" ? y0 : \"0\");\r\n\t\t\t}\r\n\t\t\tds(n, {\r\n\t\t\t\tposition: newPosition,\r\n\t\t\t\tleft: x0 - parseInt(dx) + parseInt(xc) - ((parseInt(xc) - tx)*m11 + (parseInt(yc) - ty)*m12) + \"px\",\r\n\t\t\t\ttop:  y0 - parseInt(dy) + parseInt(yc) - ((parseInt(xc) - tx)*m21 + (parseInt(yc) - ty)*m22) + \"px\"\r\n\t\t\t});\r\n\t\t\treturn transform;\r\n\t\t},\r\n\t\t_getTransformFilter: function(/*DomNode*/ node){\r\n\t\t\ttry{\r\n\t\t\t\tvar n = DOM.byId(node),\r\n\t\t\t\t\titem = n.filters.item(0)\r\n\t\t\t\t;\r\n\t\t\t\treturn \"matrix(\" + item.M11 + \", \" + item.M12 + \", \" + item.M21 + \", \" +\r\n\t\t\t\t\titem.M22 + \", \" + (Html.attr(node, \"dojo-transform-tx\") || \"0\") + \", \" + (Html.attr(node, \"dojo-transform-ty\") || \"0\") + \")\";\r\n\t\t\t}catch(e){\r\n\t\t\t\treturn \"matrix(1, 0, 0, 1, 0, 0)\";\r\n\t\t\t}\r\n\t\t},\r\n\t\tsetTransform: function(){\r\n\t\t\tthis._notSupported();\r\n\t\t},\r\n\t\tsetTransformOrigin: function(){\r\n\t\t\tthis._notSupported();\r\n\t\t}\r\n\t});\r\n\r\n\tHtmlX[\"ext-dojo\"].style.init();\r\n\treturn Html.style;\r\n});\r\n"]}