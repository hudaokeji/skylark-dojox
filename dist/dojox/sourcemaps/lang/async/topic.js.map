{"version":3,"sources":["lang/async/topic.js"],"names":["dojo","provide","d","topic","dojox","lang","async","from","h","cancel","unsubscribe","x","Deferred","subscribe","callback","arguments","failOn","evt","errback","Error"],"mappings":";;;;;;;AAAAA,KAAKC,QAAQ,0BAIb,WACC,IAAIC,EAAIF,KAAMG,EAAQC,MAAMC,KAAKC,MAAMH,MAEvCA,EAAMI,KAAO,SAASJ,GACrB,OAAO,WACN,IAAIK,EAAGC,EAAS,WACXD,IACFN,EAAEQ,YAAYF,GACdA,EAAI,OAGNG,EAAI,IAAIT,EAAEU,SAASH,GAKpB,OAJAD,EAAIN,EAAEW,UAAUV,EAAO,WACtBM,IACAE,EAAEG,SAASC,aAELJ,IAITR,EAAMa,OAAS,SAASb,GACvB,OAAO,WACN,IAAIK,EAAGC,EAAS,WACXD,IACFN,EAAEQ,YAAYF,GACdA,EAAI,OAGNG,EAAI,IAAIT,EAAEU,SAASH,GAKpB,OAJAD,EAAIN,EAAEW,UAAUV,EAAO,SAASc,GAC/BR,IACAE,EAAEO,QAAQ,IAAIC,MAAMJ,cAEdJ,IAjCV","file":"../../../lang/async/topic.js","sourcesContent":["dojo.provide(\"dojox.lang.async.topic\");\r\n\r\n// Source of Deferred for topics\r\n\r\n(function(){\r\n\tvar d = dojo, topic = dojox.lang.async.topic;\r\n\r\n\ttopic.from = function(topic){\r\n\t\treturn function(){\r\n\t\t\tvar h, cancel = function(){\r\n\t\t\t\t\tif(h){\r\n\t\t\t\t\t\td.unsubscribe(h);\r\n\t\t\t\t\t\th = null;\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tx = new d.Deferred(cancel);\r\n\t\t\th = d.subscribe(topic, function(){\r\n\t\t\t\tcancel();\r\n\t\t\t\tx.callback(arguments);\r\n\t\t\t});\r\n\t\t\treturn x;\r\n\t\t};\r\n\t};\r\n\r\n\ttopic.failOn = function(topic){\r\n\t\treturn function(){\r\n\t\t\tvar h, cancel = function(){\r\n\t\t\t\t\tif(h){\r\n\t\t\t\t\t\td.unsubscribe(h);\r\n\t\t\t\t\t\th = null;\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tx = new d.Deferred(cancel);\r\n\t\t\th = d.subscribe(topic, function(evt){\r\n\t\t\t\tcancel();\r\n\t\t\t\tx.errback(new Error(arguments));\r\n\t\t\t});\r\n\t\t\treturn x;\r\n\t\t};\r\n\t};\r\n})();"]}