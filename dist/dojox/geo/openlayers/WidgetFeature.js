/**
 * dojox - A version of dojox.js framework that ported to running on skylarkjs.
 * @author Hudaokeji, Inc.
 * @version v0.9.0
 * @link https://github.com/skylark-integration/dojox/
 * @license MIT
 */
define(["dojo/_base/declare","dojo/dom-style","dojo/_base/lang","dijit/registry","./Feature"],function(t,e,i,o,d){return t("dojox.geo.openlayers.WidgetFeature",d,{_widget:null,_bbox:null,constructor:function(t){this._params=t},setParameters:function(t){this._params=t},getParameters:function(){return this._params},_getWidget:function(){var t=this._params;if(null==this._widget&&null!=t){var d=null;if("function"==typeof t.createWidget)d=t.createWidget.call(this);else if(t.dojoType){dojo.require(t.dojoType),d=new(i.getObject(t.dojoType))(t)}else t.dijitId?d=o.byId(t.dijitId):t.widget&&(d=t.widget);if(null!=d){this._widget=d,"function"==typeof d.startup&&d.startup();var r=d.domNode;null!=r&&e.set(r,{position:"absolute"})}this._widget=d}return this._widget},_getWidgetWidth:function(){var t=this._params;if(t.width)return t.width;var i=this._getWidget();return i?e.get(i.domNode,"width"):10},_getWidgetHeight:function(){var t=this._params;if(t.height)return t.height;var i=this._getWidget();return i?e.get(i.domNode,"height"):10},render:function(){var t=this.getLayer(),e=this._getWidget();if(null!=e){var i=this._params,o=i.longitude,d=i.latitude,r=this.getCoordinateSystem(),n=t.getDojoMap().transformXY(o,d,r),s=this._getLocalXY(n),a=this._getWidgetWidth(),h=this._getWidgetHeight(),g=s[0]-a/2,u=s[1]-h/2,p=e.domNode,l=t.olLayer.div;p.parentNode!=l&&(p.parentNode&&p.parentNode.removeChild(p),l.appendChild(p)),this._updateWidgetPosition({x:g,y:u,width:a,height:h})}},_updateWidgetPosition:function(t){var o=this._widget,d=o.domNode;e.set(d,{position:"absolute",left:t.x+"px",top:t.y+"px",width:t.width+"px",height:t.height+"px"}),o.srcNodeRef&&e.set(o.srcNodeRef,{position:"absolute",left:t.x+"px",top:t.y+"px",width:t.width+"px",height:t.height+"px"}),i.isFunction(o.resize)&&o.resize({w:t.width,h:t.height})},remove:function(){var t=this._getWidget();if(t){var e=t.domNode;e.parentNode&&e.parentNode.removeChild(e)}}})});
//# sourceMappingURL=../../sourcemaps/geo/openlayers/WidgetFeature.js.map
