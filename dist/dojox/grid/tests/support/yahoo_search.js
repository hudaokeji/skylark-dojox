/**
 * dojox - A version of dojox.js framework that ported to running on skylarkjs.
 * @author Hudaokeji, Inc.
 * @version v0.9.0
 * @link https://github.com/skylark-integration/dojox/
 * @license MIT
 */
!function(){var t=function(){};dojo.declare("dojox.grid._data.yahooSearch",null,function(t,e){this.rowsPerPage=20,this.fieldNames=[];for(var r,n=0;r=t[n];n++)this.fieldNames.push(r.name)},{clearData:function(){turbo.widgets.TurboGrid.data.dynamic.prototype.clearData.apply(this,arguments)},encodeParam:function(t,e){return turbo.printf("&%s=%s",t,e)},getParams:function(t){var e=this.url;for(var r in e+="?appid=turboajax",(t=t||{}).output="json",t.results=this.rowsPerPage,t.query=turbo.$("searchInput").value.replace(/ /g,"+"),t)void 0!=t[r]&&(e+=this.encodeParam(r,t[r]));return e},send:function(t,e,r,n){var o=this.getParams(e);dojo.io.bind({url:"support/proxy.php",method:"post",content:{url:o},contentType:"application/x-www-form-urlencoded; charset=utf-8",mimetype:"text/json",sync:!t,load:turbo.bindArgs(this,"receive",r,n),error:turbo.bindArgs(this,"error",n)}),this.onSend(e)},receive:function(t,e,r,n){try{t(n=n.ResultSet),this.onReceive(n)}catch(t){e&&e(n)}},error:function(t,e,r){var n="io error: "+r.message;alert(n),t&&t(n)},fetchRowCount:function(t){this.send(!0,t)},requestRows:function(t,e){var r={start:(t=void 0==t?0:t)+1};this.send(!0,r,turbo.bindArgs(this,this.processRows))},processRows:function(t){for(var e=0,r=t.totalResultsReturned,n=t.firstResultPosition;e<r;e++)this.setRow(t.Result[e],n-1+e);var o=Math.min(1e3,t.totalResultsAvailable);this.count!=o&&(this.setRowCount(o),this.allChange(),this.onInitializeData(t))},getDatum:function(t,e){var r=this.getRow(t),n=this.fields.get(e);return void 0==e?r:r?r[n.name]:n.na},onInitializeData:t,onSend:t,onReceive:t}),modelChange=function(){var t=turbo.$("rowCount");t&&(t.innerHTML=turbo.printf("about %s row(s)",model.count))},formatLink=function(t,e){return t[0]&&t[1]?turbo.supplant('<a target="_blank" href="{href}">{text}</a>',{href:t[0],text:t[1]}):"&nbsp;"},formatImage=function(t,e){if(!t[0]||!t[1])return"&nbsp;";var r={href:t[0],src:t[1].Url,width:t[1].Width,height:t[1].Height};return turbo.supplant('<a href="{href}" target="_blank"><img border=0 src="{src}" width="{width}" height="{height}"></a>',r)},formatDate=function(t,e){if(""==t)return"&nbsp;";var r=new Date(1e3*t);return turbo.printf("%s/%s/%s",r.getMonth(),r.getDate(),r.getFullYear())},formatDimensions=function(t,e){return t[0]&&t[1]?t[0]+" x "+t[1]:"&nbsp;"}}();
//# sourceMappingURL=../../../sourcemaps/grid/tests/support/yahoo_search.js.map
