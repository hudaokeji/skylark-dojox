/**
 * dojox - A version of dojox.js framework that ported to running on skylarkjs.
 * @author Hudaokeji, Inc.
 * @version v0.9.0
 * @link https://github.com/skylark-integration/dojox/
 * @license MIT
 */
var tabContainer,gridContainer;function init(){tabContainer=dijit.byId("tb1"),dojo.subscribe("/dnd/drop/after","createNode");var e=dojox.mdnd.adapter.dndToDojo(),o=dojo.query(".dijitTab",tabContainer.tablist.containerNode).forEach(function(o){e.register(o,tabContainer.declaredClass)});e.register(c2.node,"targetDojo",!0,"Drag Me !"),e.isAccepted=function(e,o){var d=dijit.byNode(e).get("dndType");switch(o.type){case"dijit.layout.TabContainer":for(var t=dijit.byNode(o.node),n=tabContainer.getChildren(),a=0,r=n.length;a<r;a++){var i=n[a];if(i.controlButton==t){for(var s=0;s<i.acceptTypes.length;s++)if(d==i.acceptTypes[s])return gridContainer=i,!0;if(s==i.acceptTypes.length)return!1}}break;default:return!0}},dojo.subscribe("/dojox/mdnd/adapter/dndToDojo/over",null,"onOver"),dojo.subscribe("/dojox/mdnd/adapter/dndToDojo/out",null,"onOut"),dojo.subscribe("/dojox/mdnd/adapter/dndToDojo/drop",null,"onDrop"),dojo.subscribe("/dojox/mdnd/drop",null,function(){dojo.forEach(o,function(e){dojo.removeClass(e,"dndOver"),dojo.removeClass(e,"dndOverNotAccepted")})}),dojo.subscribe(tabContainer.domNode.id+"-removeChild",null,"refresh")}function createNode(e,o,d,t,n){if(t){var a=_createWidget(o);dojox.mdnd.areaManager().addDragItem(t,a.domNode,n)}}function _createWidget(e){var o;switch(e[0].getAttribute("dndType")){case"ContentPane":o=new dijit.layout.ContentPane,dojo.addClass(o.domNode,"cpane"),o.set("dndType","ContentPane");break;case"Portlet":o=new dojox.widget.Portlet({title:"portlet",closable:!0,dndType:"Portlet"});break;case"TitlePane":o=new dijit.TitlePane({title:"TitlePane",dndType:"TitlePane"});break;default:o=new dijit.layout.ContentPane,dojo.addClass(o.domNode,"cpane"),o.set("dndType","ContentPane")}return o.set("content","Lorem ipsum dolor sit amet, consectetuer adipiscing elit."),o.startup(),o}function onOver(e,o,d,t){switch(o){case"dijit.layout.TabContainer":t?dojo.addClass(e,"dndOver"):dojo.addClass(e,"dndOverNotAccepted")}}function onOut(e,o,d,t){switch(o){case"dijit.layout.TabContainer":dojo.removeClass(e,"dndOver"),dojo.removeClass(e,"dndOverNotAccepted")}}function onDrop(e,o,d){switch(d){case"dijit.layout.TabContainer":gridContainer.addChild(dijit.byNode(e),0,0),dojo.removeClass(o,"dndOver"),dojo.removeClass(o,"dndOverNotAccepted")}}function refresh(){dojox.mdnd.adapter.dndToDojo().refresh()}dojo.addOnLoad(init);
//# sourceMappingURL=../../../sourcemaps/layout/tests/resources/script_dnd.js.map
