/**
 * dojox - A version of dojox.js framework that ported to running on skylarkjs.
 * @author Hudaokeji, Inc.
 * @version v0.9.0
 * @link https://github.com/skylark-integration/dojox/
 * @license MIT
 */
dojo.provide("dojox.rpc.tests.Service"),dojo.require("dojo.io.script"),dojo.require("dojox.rpc.Service"),dojo.require("dojox.rpc.JsonRPC"),dojo.require("dojox.rpc.Rest"),dojo.require("dojox.rpc.Client"),dojox.rpc.tests.service=new dojox.rpc.Service(dojo.moduleUrl("dojox.rpc.tests.resources","test.smd")),doh.register("dojox.rpc.tests.echo",[{name:"#1 POST,URL,Named Parameters",timeout:4e3,setUp:function(){this.svc=dojox.rpc.tests.service},runTest:function(){var e=new doh.Deferred;if("file:"==window.location.protocol){var r=new Error("This Test requires a webserver and will fail intentionally if loaded from file://");return e.errback(r),e}return this.svc.postEcho({message:this.name,foo:2}).addCallback(this,function(r){r==this.name?e.callback(!0):e.errback(new Error("Unexpected Return Value: ",r))}),e}},{name:"#2 POST,URL,Ordered Parameters",timeout:4e3,setUp:function(){this.svc=dojox.rpc.tests.service},runTest:function(){var e=new doh.Deferred;if("file:"==window.location.protocol){var r=new Error("This Test requires a webserver and will fail intentionally if loaded from file://");return e.errback(r),e}return this.svc.postEcho(this.name,2).addCallback(this,function(r){r==this.name?e.callback(!0):e.errback(new Error("Unexpected Return Value: ",r))}),e}},{name:"#3 GET,URL,Named Parameters",timeout:4e3,setUp:function(){this.svc=dojox.rpc.tests.service},runTest:function(){var e=new doh.Deferred;if("file:"==window.location.protocol){var r=new Error("This Test requires a webserver and will fail intentionally if loaded from file://");return e.errback(r),e}return this.svc.getEcho({message:this.name}).addCallback(this,function(r){r==this.name?e.callback(!0):e.errback(new Error("Unexpected Return Value: ",r))}),e}},{name:"#3.1 REST PUT,Named Parameters",timeout:4e3,setUp:function(){this.svc=dojox.rpc.tests.service},runTest:function(){var e=new doh.Deferred;if("file:"==window.location.protocol){var r=new Error("This Test requires a webserver and will fail intentionally if loaded from file://");return e.errback(r),e}return res=this.name+Math.random(),this.svc.restStore.put({location:"res"},res).addCallback(this,function(r){this.svc.restStore({location:"res"}).addCallback(this,function(r){r==res?e.callback(!0):e.errback(new Error("Unexpected Return Value: ",r))})}),e}},{name:"#3.2 REST POST,Named Parameters",timeout:4e3,setUp:function(){this.svc=dojox.rpc.tests.service},runTest:function(){var e=new doh.Deferred;if("file:"==window.location.protocol){var r=new Error("This Test requires a webserver and will fail intentionally if loaded from file://");return e.errback(r),e}var t=this.name+Math.random();return res+=t,this.svc.restStore.post({location:"res"},t).addCallback(this,function(r){this.svc.restStore({location:"res"}).addCallback(this,function(r){r==res?e.callback(!0):e.errback(new Error("Unexpected Return Value: ",r))})}),e}},{name:"#3.3 REST DELETE,Named Parameters",timeout:4e3,setUp:function(){this.svc=dojox.rpc.tests.service},runTest:function(){var e=new doh.Deferred;if("file:"==window.location.protocol){var r=new Error("This Test requires a webserver and will fail intentionally if loaded from file://");return e.errback(r),e}return this.svc.restStore.delete({location:"res"}).addCallback(this,function(r){this.svc.restStore({location:"res"}).addCallback(this,function(r){"deleted"==r?e.callback(!0):e.errback(new Error("Unexpected Return Value: ",r))})}),e}},{name:"#3.4 GET,URL,Named Parameters, Returning Json",timeout:4e3,setUp:function(){this.svc=dojox.rpc.tests.service},runTest:function(){var e=new doh.Deferred;if("file:"==window.location.protocol){var r=new Error("This Test requires a webserver and will fail intentionally if loaded from file://");return e.errback(r),e}return this.svc.getEchoJson({message:'{"foo":"bar"}'}).addCallback(this,function(r){"bar"==r.foo?e.callback(!0):e.errback(new Error("Unexpected Return Value: ",r))}),e}},{name:"#3.5 GET,PATH,Named Parameters",timeout:4e3,setUp:function(){this.svc=dojox.rpc.tests.service},runTest:function(){var e=new doh.Deferred;if("file:"==window.location.protocol){var r=new Error("This Test requires a webserver and will fail intentionally if loaded from file://");return e.errback(r),e}return this.svc.getPathEcho({path:"pathname"}).addCallback(this,function(r){"/path/pathname"==r?e.callback(!0):e.errback(new Error("Unexpected Return Value: ",r))}),e}},{name:"#4.1 GET,URL,Ordered Parameters",timeout:4e3,setUp:function(){this.svc=dojox.rpc.tests.service},runTest:function(){var e=new doh.Deferred;if("file:"==window.location.protocol){var r=new Error("This Test requires a webserver and will fail intentionally if loaded from file://");return e.errback(r),e}return this.svc.getEcho(this.name).addCallback(this,function(r){r==this.name?e.callback(!0):e.errback(new Error("Unexpected Return Value: ",r))}),e}},{name:"#4.2 Namespaced GET,URL,Ordered Parameters",timeout:4e3,setUp:function(){this.svc=dojox.rpc.tests.service},runTest:function(){var e=new doh.Deferred;if("file:"==window.location.protocol){var r=new Error("This Test requires a webserver and will fail intentionally if loaded from file://");return e.errback(r),e}return this.svc.namespace.getEcho(this.name).addCallback(this,function(r){r==this.name?e.callback(!0):e.errback(new Error("Unexpected Return Value: ",r))}),e}},{name:"#5 POST,URL,Named Parameters",timeout:4e3,setUp:function(){this.svc=dojox.rpc.tests.service},runTest:function(){var e=new doh.Deferred;if("file:"==window.location.protocol){var r=new Error("This Test requires a webserver and will fail intentionally if loaded from file://");return e.errback(r),e}return this.svc.postJsonEcho({message:this.name}).addCallback(this,function(r){r&&r.message&&r.message==this.name?e.callback(!0):e.errback(new Error("Unexpected Return Value: ",r))}),e}},{name:"#6 POST,JSON,Ordered Parameters",timeout:4e3,setUp:function(){this.svc=dojox.rpc.tests.service},runTest:function(){var e=new doh.Deferred;if("file:"==window.location.protocol){var r=new Error("This Test requires a webserver and will fail intentionally if loaded from file://");return e.errback(r),e}return this.svc.postJsonEcho(this.name).addCallback(this,function(r){r&&r[0]&&r[0]==this.name?e.callback(!0):e.errback(new Error("Unexpected Return Value: ",r))}),e}},{name:"#7 JSONP,URL,Named Parameters",timeout:4e3,setUp:function(){this.svc=dojox.rpc.tests.service},runTest:function(){var e=new doh.Deferred;if("file:"==window.location.protocol){var r=new Error("This Test requires a webserver and will fail intentionally if loaded from file://");return e.errback(r),e}return this.svc.jsonpEcho({message:this.name}).addCallback(this,function(r){r==this.name?e.callback(!0):e.errback(new Error("Unexpected Return Value: ",r))}),e}},{name:"#8 JSONP,URL, Ordered Parameters",timeout:4e3,setUp:function(){this.svc=dojox.rpc.tests.service},runTest:function(){var e=new doh.Deferred;if("file:"==window.location.protocol){var r=new Error("This Test requires a webserver and will fail intentionally if loaded from file://");return e.errback(r),e}return this.svc.jsonpEcho(this.name).addCallback(this,function(r){r==this.name?e.callback(!0):e.errback(new Error("Unexpected Return Value: ",r))}),e}},{name:"#9 POST,JSON-RPC-1.0,Ordered Parameters",timeout:4e3,setUp:function(){this.svc=dojox.rpc.tests.service},runTest:function(){var e=new doh.Deferred;if("file:"==window.location.protocol){var r=new Error("This Test requires a webserver and will fail intentionally if loaded from file://");return e.errback(r),e}return this.svc.postJsonRpc10Echo(this.name).addCallback(this,function(r){r==this.name?e.callback(!0):e.errback(new Error("Unexpected Return Value: ",r))}),e}},{name:"#10 POST,JSON-RPC-1.0,Named Parameters",timeout:4e3,setUp:function(){this.svc=dojox.rpc.tests.service},runTest:function(){var e=new doh.Deferred;if("file:"==window.location.protocol){var r=new Error("This Test requires a webserver and will fail intentionally if loaded from file://");return e.errback(r),e}return this.svc.postJsonRpc10EchoNamed(this.name).addCallback(this,function(r){r==this.name?e.callback(!0):e.errback(new Error("Unexpected Return Value: ",r))}),e}},{name:"#11 POST,JSON-RPC 2.0, Ordered Parameters",timeout:4e3,setUp:function(){this.svc=dojox.rpc.tests.service},runTest:function(){var e=new doh.Deferred;if("file:"==window.location.protocol){var r=new Error("This Test requires a webserver and will fail intentionally if loaded from file://");return e.errback(r),e}return this.svc.postJsonRpc12Echo(this.name).addCallback(this,function(r){r==this.name?e.callback(!0):e.errback(new Error("Unexpected Return Value: ",r))}),e}},{name:"#12 POST,JSON-RPC 2.0, Named Parameters",timeout:4e3,setUp:function(){this.svc=dojox.rpc.tests.service},runTest:function(){var e=new doh.Deferred;if("file:"==window.location.protocol){var r=new Error("This Test requires a webserver and will fail intentionally if loaded from file://");return e.errback(r),e}return this.svc.postJsonRpc12Echo({message:this.name}).addCallback(this,function(r){r==this.name?e.callback(!0):e.errback(new Error("Unexpected Return Value: ",r))}),e}}]),doh.register("dojox.rpc.tests.jsonRpcForcedError",[{name:"POST,JSON-RPC 1.0, Ordered Parameters",timeout:4e3,setUp:function(){this.svc=dojox.rpc.tests.service},runTest:function(){var e=new doh.Deferred;if("file:"==window.location.protocol){var r=new Error("This Test requires a webserver and will fail intentionally if loaded from file://");return e.errback(r),e}return this.svc.postJsonRpc10ForcedError(this.name).addErrback(this,function(r){e.callback(!0)}),e}},{name:"POST,JSON-RPC 2.0, Ordered Parameters",timeout:4e3,setUp:function(){this.svc=dojox.rpc.tests.service},runTest:function(){var e=new doh.Deferred;if("file:"==window.location.protocol){var r=new Error("This Test requires a webserver and will fail intentionally if loaded from file://");return e.errback(r),e}return this.svc.postJsonRpc12ForcedError(this.name).addErrback(this,function(r){e.callback(!0)}),e}},{name:"POST,JSON-RPC 2.0, Named Parameters",timeout:4e3,setUp:function(){this.svc=dojox.rpc.tests.service},runTest:function(){var e=new doh.Deferred;if("file:"==window.location.protocol){var r=new Error("This Test requires a webserver and will fail intentionally if loaded from file://");return e.errback(r),e}return this.svc.postJsonRpc12ForcedError({message:this.name}).addErrback(this,function(r){e.callback(!0)}),e}}]);
//# sourceMappingURL=../../sourcemaps/rpc/tests/Service.js.map
