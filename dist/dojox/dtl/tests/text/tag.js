/**
 * dojox - A version of dojox.js framework that ported to running on skylarkjs.
 * @author Hudaokeji, Inc.
 * @version v0.9.0
 * @link https://github.com/skylark-integration/dojox/
 * @license MIT
 */
dojo.provide("dojox.dtl.tests.text.tag"),dojo.require("dojox.dtl"),dojo.require("dojox.dtl.Context"),"_getTemplateString"in dojox.dtl.text||(dojox.dtl.text._getTemplateString=dojox.dtl.text.getTemplateString,dojox.dtl.text.getTemplateString=function(e){return dojox.dtl.text._getTemplateString(e).replace(/(\r?\n)$/,"")}),doh.register("dojox.dtl.text.tag",[function(e){var t=dojox.dtl,o=new t.Template('{% extends "../../dojox/dtl/tests/templates/pocket.html" %}{% block pocket %}Simple{% endblock %}');e.is("Simple Pocket",o.render());var n=new t.Context({parent:"../../dojox/dtl/tests/templates/pocket.html"});o=new t.Template("{% extends parent %}{% block pocket %}Variabled{% endblock %}"),e.is("Variabled Pocket",o.render(n)),n.parent=dojo.moduleUrl("dojox.dtl.tests.templates","pocket.html"),o=new t.Template("{% extends parent %}{% block pocket %}Slightly More Advanced{% endblock %}"),e.is("Slightly More Advanced Pocket",o.render(n)),n.parent={url:dojo.moduleUrl("dojox.dtl.tests.templates","pocket.html")},o=new t.Template("{% extends parent %}{% block pocket %}Super{% endblock %}"),e.is("Super Pocket",o.render(n))},function(e){var t=dojox.dtl,o=new t.Context({parent:dojo.moduleUrl("dojox.dtl.tests.templates","pocket2.html"),items:["apple","banana","lemon"]}),n=new t.Template("{% extends parent %}{% block pocket %}My {{ item }}{% endblock %}");e.is("(My apple) (My banana) (My lemon) Pocket",n.render(o))},function(e){var t=dojox.dtl,o=new t.Context({parent:dojo.moduleUrl("dojox.dtl.tests.templates","pocket2.html"),items:["apple","banana","lemon"]}),n=new t.Template("{% extends parent %}{% block pocket %}My {{ item }} {{ block.super }}{% endblock %}");e.is("(My apple Hot) (My banana Hot) (My lemon Hot) Pocket",n.render(o))},function(e){var t=dojox.dtl,o=new t.Template("Hot{% comment %}<strong>Make me disappear</strong>{% endcomment %} Pocket");e.is("Hot Pocket",o.render());var n=!1;try{o=new t.Template("Hot{% comment %}<strong>Make me disappear</strong> Pocket")}catch(t){e.is("Unclosed tag found when looking for endcomment",t.message),n=!0}e.t(n)},function(e){var t=dojox.dtl,o=new t.Context({items:["apple","banana","lemon"],unplugged:"Torrey"}),n=new t.Template("{% for item in items %}{% cycle 'Hot' 'Diarrhea' unplugged 'Extra' %} Pocket. {% endfor %}");e.is("Hot Pocket. Diarrhea Pocket. Torrey Pocket. ",n.render(o)),e.is("Hot Pocket. Diarrhea Pocket. Torrey Pocket. ",n.render(o)),o.items.push("guava","mango","pineapple"),e.is("Hot Pocket. Diarrhea Pocket. Torrey Pocket. Extra Pocket. Hot Pocket. Diarrhea Pocket. ",n.render(o)),o.items=o.items.slice(0,3),n=new t.Template("{% for item in items %}{% cycle Hot,Diarrhea,Torrey,Extra %} Pocket. {% endfor %}"),e.is("Hot Pocket. Diarrhea Pocket. Torrey Pocket. ",n.render(o)),e.is("Hot Pocket. Diarrhea Pocket. Torrey Pocket. ",n.render(o)),o.items.push("guava","mango","pineapple"),e.is("Hot Pocket. Diarrhea Pocket. Torrey Pocket. Extra Pocket. Hot Pocket. Diarrhea Pocket. ",n.render(o)),o=new dojox.dtl.Context({unplugged:"Torrey"}),n=new t.Template("{% cycle 'Hot' 'Diarrhea' unplugged 'Extra' as steakum %} Pocket. {% cycle steakum %} Pocket. {% cycle steakum %} Pocket."),e.is("Hot Pocket. Diarrhea Pocket. Torrey Pocket.",n.render(o)),n=new t.Template("{% cycle 'Hot' 'Diarrhea' unplugged 'Extra' as steakum %} Pocket. {% cycle steakum %} Pocket. {% cycle steakum %} Pocket. {% cycle steakum %} Pocket. {% cycle steakum %} Pocket. {% cycle steakum %} Pocket."),e.is("Hot Pocket. Diarrhea Pocket. Torrey Pocket. Extra Pocket. Hot Pocket. Diarrhea Pocket.",n.render(o)),o.items={list:["apple","banana","lemon"]},n=new t.Template("{% for item in items.list %}{% cycle 'Hot' 'Diarrhea' unplugged 'Extra' %} Pocket. {% endfor %}"),e.is("Hot Pocket. Diarrhea Pocket. Torrey Pocket. ",n.render(o)),e.is("Hot Pocket. Diarrhea Pocket. Torrey Pocket. ",n.render(o))},function(e){var t=dojox.dtl,o=new t.Context({items:["apple","banana","lemon"],unplugged:"Torrey"}),n=new t.Template("{% debug %}");e.is("[items: object]\n[unplugged: string]\n",n.render(o))},function(e){var t=new dojox.dtl.Template('{% filter lower|center:"15" %}Hot Pocket{% endfilter %}');e.is("  hot pocket   ",t.render())},function(e){var t=dojox.dtl,o=new t.Context({found:"unicorn"}),n=new t.Template("{% firstof one two three four found %}");e.is("unicorn",n.render(o)),o.four=null,e.is("null",n.render(o)),o.three=!1,e.is("false",n.render(o))},function(e){var t=dojox.dtl,o=new t.Context({items:["apple","banana","lemon"]}),n=new t.Template("{% for item in items %}<li>{{ item }}</li>{% endfor %}");e.is("<li>apple</li><li>banana</li><li>lemon</li>",n.render(o)),n=new t.Template("{% for item in items reversed %}<li>{{ item }}</li>{% endfor %}"),e.is("<li>lemon</li><li>banana</li><li>apple</li>",n.render(o)),o.items={apple:"Red Delicious",banana:"Cavendish",lemon:"Citrus"},n=new t.Template("{% for key, value in items.items %}<li>{{ value }} {{ key|title }}</li>{% endfor %}"),e.is("<li>Red Delicious Apple</li><li>Cavendish Banana</li><li>Citrus Lemon</li>",n.render(o)),o.items=[["apple","Red Delicious",1.99],["banana","Cavendish",.49],["lemon","Citrus",.29]],n=new t.Template("{% for fruit, type, price in items %}<li>{{ type }} {{ fruit|title }} costs ${{ price}}</li>{% endfor %}"),e.is("<li>Red Delicious Apple costs $1.99</li><li>Cavendish Banana costs $0.49</li><li>Citrus Lemon costs $0.29</li>",n.render(o)),n=new t.Template("{% for fruit, type, price in items reversed %}<li>{{ type }} {{ fruit|title }} costs ${{ price}}</li>{% endfor %}"),e.is("<li>Citrus Lemon costs $0.29</li><li>Cavendish Banana costs $0.49</li><li>Red Delicious Apple costs $1.99</li>",n.render(o));var a=!1;try{n=new t.Template("{% for item initems %}<li>{{ item }}</li>{% endfor %}")}catch(t){a=!0,e.is("'for' statements should have at least four words: for item initems",t.message)}e.t(a),a=!1;try{n=new t.Template("{% for item ni items %}<li>{{ item }}</li>{% endfor %}")}catch(t){a=!0,e.is("'for' tag received an invalid argument: for item ni items",t.message)}e.t(a),a=!1;try{n=new t.Template("{% for my item in items %}<li>{{ item }}</li>{% endfor %}")}catch(t){a=!0,e.is("'for' tag received an invalid argument: for my item in items",t.message)}e.t(a)},function(e){var t=dojox.dtl,o=new t.Context({jokes:{hot_pockets:!0,unicycles:!0,bacon:!0}}),n=new t.Template("Comedian is {% if jokes.hot_pockets and jokes.unicycles and jokes.bacon %}funny{% else %}not funny{% endif %}");e.is("Comedian is funny",n.render(o)),o.jokes.unicycles=!1,e.is("Comedian is not funny",n.render(o)),o.comedians={hedberg:!0,gaffigan:!0,cook:!0},n=new t.Template("Show will be {% if comedians.hedberg or comedians.gaffigan %}worth seeing{% else %}not worth seeing{% endif %}"),e.is("Show will be worth seeing",n.render(o)),n=new t.Template("Show will {% if comedians.hedberg or comedians.gaffigan %}{% if comedians.cook %}not {% endif %}be worth seeing{% else %}not be worth seeing{% endif %}"),e.is("Show will not be worth seeing",n.render(o)),o.comedians.cook=!1,e.is("Show will be worth seeing",n.render(o)),n=new t.Template("Show will be {% if comedians.hedberg and comedians.gaffigan and not comedians.cook %}AWESOME{% else %}almost awesome{% endif %}"),e.is("Show will be AWESOME",n.render(o)),o.comedians.cook=!0,e.is("Show will be almost awesome",n.render(o));var a=!1;try{n=new t.Template("Show will be {% if comedians.hedberg or comedians.gaffigan and not comedians.cook %}worth seeing{% else %}not worth seeing{% endif %}")}catch(t){a=!0,e.is("'if' tags can't mix 'and' and 'or'",t.message)}e.t(a)},function(e){var t=dojox.dtl,o=new t.Context({year:2008,days:[new Date(2008,0,12),new Date(2008,0,28),new Date(2008,1,1),new Date(2008,1,1),new Date(2008,1,1)]}),n=new t.Template("<h1>Archive for {{ year }}</h1>{% for date in days %}{% ifchanged %}<h3>{{ date|date:\"F\" }}</h3>{% endifchanged %}<a href=\"{{ date|date:'M/d'|lower }}/\">{{ date|date:'j' }}</a>{% endfor %}");e.is('<h1>Archive for 2008</h1><h3>January</h3><a href="jan/12/">12</a><a href="jan/28/">28</a><h3>February</h3><a href="feb/01/">1</a><a href="feb/01/">1</a><a href="feb/01/">1</a>',n.render(o)),n=new t.Template("{% for date in days %}{% ifchanged date.date %} {{ date.date }} {% endifchanged %}{% ifchanged date.hour date.date %}{{ date.hour }}{% endifchanged %}{% endfor %}"),e.is(" 2008-01-12 0 2008-01-28 0 2008-02-01 0",n.render(o))},function(e){var t=dojox.dtl,o=new t.Context({user:{id:314},comment:{user_id:314}}),n=new t.Template("{% ifequal user.id comment.user_id %}You posted this{% endifequal %}");e.is("You posted this",n.render(o)),o.user.id=313,e.is("",n.render(o));var a=!1;try{n=new t.Template("{% ifequal user.id %}You posted this{% endifequal %}")}catch(t){a=!0,e.is("ifequal takes two arguments",t.message)}e.t(a),a=!1;try{n=new t.Template("{% ifequal user.id comment.user_id %}You posted this{% endif %}")}catch(t){a=!0,e.is("No tag found for endif",t.message)}e.t(a),n=new t.Template('{% ifequal empty "" %}empty{% endifequal %}'),doh.is("empty",n.render())},function(e){var t=dojox.dtl,o=new t.Context({favorite:"hedberg",comedian:"cook"}),n=new t.Template("{% ifnotequal favorite comedian %}Not your favorite{% else %}Your favorite{% endifnotequal %}");e.is("Not your favorite",n.render(o)),o.comedian="hedberg",e.is("Your favorite",n.render(o))},function(e){var t=dojox.dtl,o=new t.Context({hello:dojo.moduleUrl("dojox.dtl.tests.templates","hello.html"),person:"Bob",people:["Charles","Ralph","Julia"]}),n=new t.Template("{% include hello %}");e.is("Hello, <span>Bob</span>",n.render(o)),n=new t.Template('{% include "../../dojox/dtl/tests/templates/hello.html" %}'),e.is("Hello, <span>Bob</span>",n.render(o)),n=new t.Template("{% for person in people %}{% include hello %} {% endfor %}"),e.is("Hello, <span>Charles</span> Hello, <span>Ralph</span> Hello, <span>Julia</span> ",n.render(o))},function(e){e.f(dojox.dtl.tests.text.load),new dojox.dtl.Template("{% load dojox.dtl.tests.text.load %}"),e.t(dojox.dtl.tests.text.load)},function(e){var t=dojox.dtl,o=new t.Template('It is {% now "jS F Y H:i" %}');e.t(o.render().match(/^It is \d{1,2}[a-z]{2} [A-Z][a-z]+ [0-9]{4,} \d{2}:\d{2}$/)),o=new t.Template('It is the {% now "jS \\o\\f F" %}'),e.t(o.render().match(/^It is the \d{1,2}[a-z]{2} of [A-Z][a-z]+$/)),o=new t.Template("It is the {% now 'jS \\o\\f F' %}"),e.t(o.render().match(/^It is the \d{1,2}[a-z]{2} of [A-Z][a-z]+$/));var n=!1;try{o=new t.Template("It is the {% now 'jS \\o\\f F %}")}catch(t){n=!0,e.is("'now' statement takes one argument",t.message)}e.t(n),n=!1;try{o=new t.Template('It is the {% now "jS \\o\\f F %}')}catch(t){n=!0,e.is("'now' statement takes one argument",t.message)}e.t(n)},function(e){var t=dojox.dtl,o=new t.Context({people:[{firstName:"Bill",lastName:"Clinton",gender:"Male"},{firstName:"Margaret",lastName:"Thatcher",gender:"Female"},{firstName:"Path",lastName:"Smith",gender:"Unknown"},{firstName:"Condoleezza",lastName:"Rice",gender:"Female"},{firstName:"George",lastName:"Bush",gender:"Male"}]}),n=new t.Template("{% regroup people|dictsort:'gender' by gender as grouped %}<ul>{% for group in grouped %}<li>{{ group.grouper }}<ul>{% for item in group.list %}<li>{{ item.firstName }} {{ item.lastName }}</li>{% endfor %}</ul></li>{% endfor %}</ul>");e.t(n.render(o).match(new RegExp("^<ul><li>Female<ul><li>(Condoleezza Rice|Margaret Thatcher)</li><li>(Condoleezza Rice|Margaret Thatcher)</li></ul></li><li>Male<ul><li>(Bill Clinton|George Bush)</li><li>(Bill Clinton|George Bush)</li></ul></li><li>Unknown<ul><li>Path Smith</li></ul></li></ul>$")))},function(e){var t=new dojox.dtl.Template("{% spaceless %}<ul> \n <li>Hot</li> \n\n<li>Pocket </li>\n </ul>{% endspaceless %}");e.is("<ul><li>Hot</li><li>Pocket </li></ul>",t.render())},function(e){var t=dojox.dtl,o=new t.Context({hello:dojo.moduleUrl("dojox.dtl.tests.templates","hello.html"),person:"Bob",people:["Charles","Ralph","Julia"]}),n=new t.Template("{% ssi hello parsed %}");e.is("Hello, <span>Bob</span>",n.render(o)),n=new t.Template("{% ssi hello %}"),e.is("Hello, <span>{{ person }}</span>",n.render(o)),n=new t.Template('{% ssi "../../dojox/dtl/tests/templates/hello.html" parsed %}'),e.is("Hello, <span>Bob</span>",n.render(o)),n=new t.Template("{% for person in people %}{% ssi hello parsed %} {% endfor %}"),e.is("Hello, <span>Charles</span> Hello, <span>Ralph</span> Hello, <span>Julia</span> ",n.render(o))},function(e){var t=dojox.dtl,o=new t.Template("{% templatetag openblock %}");e.is("{%",o.render()),o=new t.Template("{% templatetag closeblock %}"),e.is("%}",o.render()),o=new t.Template("{% templatetag openvariable %}"),e.is("{{",o.render()),o=new t.Template("{% templatetag closevariable %}"),e.is("}}",o.render()),o=new t.Template("{% templatetag openbrace %}"),e.is("{",o.render()),o=new t.Template("{% templatetag closebrace %}"),e.is("}",o.render()),o=new t.Template("{% templatetag opencomment %}"),e.is("{#",o.render()),o=new t.Template("{% templatetag closecomment %}"),e.is("#}",o.render())},function(e){var t=dojox.dtl,o=new t.Context({this_value:175,max_value:200}),n=new t.Template('<img src="bar.gif" height="10" width="{% widthratio this_value max_value 100 %}" />');e.is('<img src="bar.gif" height="10" width="88" />',n.render(o))},function(e){var t=dojox.dtl,o=new t.Context({person:{someSqlMethod:function(){return 4815162342}}}),n=new t.Template("{% with person.someSqlMethod as total %}{{ total }} object{{ total|pluralize }}{% endwith %}");e.is("4815162342 objects",n.render(o))}]);
//# sourceMappingURL=../../../sourcemaps/dtl/tests/text/tag.js.map
