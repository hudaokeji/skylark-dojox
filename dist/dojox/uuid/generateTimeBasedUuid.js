/**
 * dojox - A version of dojox.js framework that ported to running on skylarkjs.
 * @author Hudaokeji, Inc.
 * @version v0.9.0
 * @link https://github.com/skylark-integration/dojox/
 * @license MIT
 */
define(["dojo/_base/lang","./_base"],function(e){return dojox.uuid.generateTimeBasedUuid=function(e){return dojox.uuid.generateTimeBasedUuid._generator.generateUuidString(e)},dojox.uuid.generateTimeBasedUuid.isValidNode=function(r){var i=parseInt(r,16);return e.isString(r)&&12==r.length&&isFinite(i)},dojox.uuid.generateTimeBasedUuid.setNode=function(e){dojox.uuid.assert(null===e||this.isValidNode(e)),this._uniformNode=e},dojox.uuid.generateTimeBasedUuid.getNode=function(){return this._uniformNode},dojox.uuid.generateTimeBasedUuid._generator=new function(){this.GREGORIAN_CHANGE_OFFSET_IN_HOURS=3394248;var r=null,i=null,o=null,t=0,u=null,n=null,d=16;function a(e){e[2]+=e[3]>>>16,e[3]&=65535,e[1]+=e[2]>>>16,e[2]&=65535,e[0]+=e[1]>>>16,e[1]&=65535,dojox.uuid.assert(e[0]>>>16==0)}function s(e){var r=new Array(0,0,0,0);return r[3]=e%65536,e-=r[3],e/=65536,r[2]=e%65536,e-=r[2],e/=65536,r[1]=e%65536,e-=r[1],e/=65536,r[0]=e,r}function f(r,i){dojox.uuid.assert(e.isArray(r)),dojox.uuid.assert(e.isArray(i)),dojox.uuid.assert(4==r.length),dojox.uuid.assert(4==i.length);var o=!1;r[0]*i[0]!=0&&(o=!0),r[0]*i[1]!=0&&(o=!0),r[0]*i[2]!=0&&(o=!0),r[1]*i[0]!=0&&(o=!0),r[1]*i[1]!=0&&(o=!0),r[2]*i[0]!=0&&(o=!0),dojox.uuid.assert(!o);var t=new Array(0,0,0,0);return t[0]+=r[0]*i[3],a(t),t[0]+=r[1]*i[2],a(t),t[0]+=r[2]*i[1],a(t),t[0]+=r[3]*i[0],a(t),t[1]+=r[1]*i[3],a(t),t[1]+=r[2]*i[2],a(t),t[1]+=r[3]*i[1],a(t),t[2]+=r[2]*i[3],a(t),t[2]+=r[3]*i[2],a(t),t[3]+=r[3]*i[3],a(t),t}function g(e,r){for(;e.length<r;)e="0"+e;return e}this.generateUuidString=function(l){if(l)dojox.uuid.assert(dojox.uuid.generateTimeBasedUuid.isValidNode(l));else if(dojox.uuid.generateTimeBasedUuid._uniformNode)l=dojox.uuid.generateTimeBasedUuid._uniformNode;else{if(!r){var j=(32768|Math.floor(Math.random()%1*Math.pow(2,15))).toString(d);r=j+function(){for(var e=Math.floor(Math.random()%1*Math.pow(2,32)).toString(d);e.length<8;)e="0"+e;return e}()}l=r}if(!i){var x=Math.floor(Math.random()%1*Math.pow(2,14));i=(32768|x).toString(d)}var h=new Date,m=s(h.valueOf());if(!u){var v=s(3600),_=f(s(dojox.uuid.generateTimeBasedUuid._generator.GREGORIAN_CHANGE_OFFSET_IN_HOURS),v),N=s(1e3);u=f(_,N),n=s(1e4)}var U=f(function(r,i){dojox.uuid.assert(e.isArray(r)),dojox.uuid.assert(e.isArray(i)),dojox.uuid.assert(4==r.length),dojox.uuid.assert(4==i.length);var o=new Array(0,0,0,0);return o[3]=r[3]+i[3],o[2]=r[2]+i[2],o[1]=r[1]+i[1],o[0]=r[0]+i[0],a(o),o}(u,m),n);if(h.valueOf()==o){if(U[3]+=t,a(U),1e4==(t+=1))for(;h.valueOf()==o;)h=new Date}else o=h.valueOf(),t=1;var S=U[2].toString(d),c=U[3].toString(d),T=g(S,4)+g(c,4),A=U[1].toString(d);A=g(A,4);var B=U[0].toString(d),w=T+"-"+A+"-1"+(B=g(B,3))+"-"+i+"-"+l;return w=w.toLowerCase()}},dojox.uuid.generateTimeBasedUuid});
//# sourceMappingURL=../sourcemaps/uuid/generateTimeBasedUuid.js.map
