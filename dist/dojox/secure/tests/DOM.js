/**
 * dojox - A version of dojox.js framework that ported to running on skylarkjs.
 * @author Hudaokeji, Inc.
 * @version v0.9.0
 * @link https://github.com/skylark-integration/dojox/
 * @license MIT
 */
function violater(e){return{name:e.name,runTest:function(t){var n;try{e(t),n=!0}catch(e){console.log("successfully threw error",e)}t.f(n)}}}dojo.provide("dojox.secure.tests.DOM"),dojo.require("dojox.secure.DOM"),doh.register("dojox.secure.tests.DOM.good",[function(){var e=document.createElement("div");document.body.appendChild(e),e.innerHTML="Sandboxed div:",e.style.position="absolute",e.style.top="100px",e.style.left="100px",e.style.backgroundColor="red",e.style.color="white";var t=document.createElement("div");t.style.backgroundColor="cyan",t.style.color="black",e.appendChild(t),wrap=dojox.secure.DOM(t),securedElement=wrap(t),console.log("securedElement",securedElement),securedDoc=securedElement.ownerDocument,console.log("securedDoc",securedDoc)},function(e){securedElement.innerHTML="Hi there",e.assertEqual("Hi there",securedElement.data__.innerHTML)},function(e){securedDoc.write("<div style='color:red'>written</div>"),console.log("wrote"),securedDoc.close(),e.t(securedElement.data__.innerHTML.match(/written/))},function(e){var t=securedDoc.createElement("div");console.log("wrapped ",t.data__),t.innerHTML="inner div",console.log("style ",t.style.data__),t.style.color="blue",console.log("appendChild "+securedElement.appendChild),securedElement.appendChild(t),e.t(securedElement.data__.innerHTML.match(/inner/))},function(e){securedElement.addEventListener("click",function(e){alert("proper click handler")})}]),doh.register("dojox.secure.tests.DOM.bad",[function(e){e.f(securedElement.parentNode)},function(e){try{securedElement.innerHTML="<script>bad=true<\/script>"}catch(e){}e.t("undefined"==typeof bad)},function(e){try{securedElement.innerHTML="<\/script><script>bad=true;//"}catch(e){}e.t("undefined"==typeof bad)},function(e){try{securedDoc.write("<script>bad=true;<\/script>")}catch(e){}e.t("undefined"==typeof bad)},function(e){try{var t=securedDoc.createElement("script");t.appendChild(securedDoc.createTextNode("bad=true")),securedElement.appendChild(t)}catch(e){}e.t("undefined"==typeof bad)},function(e){if(dojo.isIE)securedElement.innerHTML='<div id="oDiv" style="left:expression((bad=true), 0)">Example DIV</div>',e.t("undefined"==typeof bad);else{try{securedElement.innerHTML="<input style='-moz-binding: url(\"http://www.mozilla.org/xbl/htmlBindings.xml#checkbox\");'>"}catch(e){}e.f(securedElement.innerHTML.match(/mozilla/))}},function(e){if(dojo.isIE)securedElement.style.left='expression(alert("hello"), 0)',e.f(securedElement.style.left.match(/alert/));else try{securedElement.style.MozBinding='url("http://www.mozilla.org/xbl/htmlBindings.xml#checkbox")'}catch(e){}},function(e){dojo.isIE&&(securedElement.style.behavior="url(a1.htc)",e.f(securedElement.style.behavior))},function(e){securedElement.innerHTML="<a href='javascript:alert(3)'>illegal link</a>"},function(e){try{securedElement.innerHTML="<div onclick='alert(4)'>illegal link</div>"}catch(e){}e.f(securedElement.innerHTML.match(/alert/))},function(e){try{securedElement.innerHTML='<div x=""><img onload=alert(42)src=http://json.org/img/json160.gif>"></div>'}catch(e){}e.f(securedElement.innerHTML.match(/alert/))},function(e){try{securedElement.innerHTML='<iframe/src="javascript:alert(42)"></iframe>'}catch(e){}e.f(securedElement.innerHTML.match(/alert/))},function(e){try{securedElement.innerHTML='<iframe/ "onload=alert(/XSS/)></iframe>'}catch(e){}e.f(securedElement.innerHTML.match(/alert/))}]);
//# sourceMappingURL=../../sourcemaps/secure/tests/DOM.js.map
