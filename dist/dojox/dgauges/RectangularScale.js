/**
 * dojox - A version of dojox.js framework that ported to running on skylarkjs.
 * @author Hudaokeji, Inc.
 * @version v0.9.0
 * @link https://github.com/skylark-integration/dojox/
 * @license MIT
 */
define(["dojo/_base/declare","dojox/gfx","./ScaleBase"],function(t,i,o){return t("dojox.dgauges.RectangularScale",o,{paddingLeft:15,paddingTop:12,paddingRight:15,paddingBottom:0,_contentBox:null,constructor:function(){this.labelPosition="leading",this.addInvalidatingProperties(["paddingTop","paddingLeft","paddingRight","paddingBottom"])},positionForValue:function(t){var i=0,o=0;return this._contentBox&&("horizontal"==this._gauge.orientation?(i=this._contentBox.x,o=this._contentBox.w):(i=this._contentBox.y,o=this._contentBox.h)),i+this.scaler.positionForValue(t)*o},valueForPosition:function(t){this.scaler.minimum;var i=NaN,o=0,n=0;return"horizontal"==this._gauge.orientation?(i=t.x,o=this._contentBox.x,n=this._contentBox.x+this._contentBox.w):(i=t.y,o=this._contentBox.y,n=this._contentBox.y+this._contentBox.h),i<=o?this.scaler.minimum:i>=n?this.scaler.maximum:this.scaler.valueForPosition((i-o)/(n-o))},refreshRendering:function(){if(this.inherited(arguments),this._gfxGroup&&this.scaler){this._ticksGroup.clear();var t,o,n=this._gauge._layoutInfos.middle;this._contentBox={},this._contentBox.x=n.x+this.paddingLeft,this._contentBox.y=n.y+this.paddingTop,this._contentBox.w=n.w-(this.paddingLeft+this.paddingRight),this._contentBox.h=n.h-(this.paddingBottom+this.paddingTop);for(var e=this._getFont(),a=this.scaler.computeTicks(),s=0;s<a.length;s++){var h=a[s];if(t=this.tickShapeFunc(this._ticksGroup,this,h)){var r=this.positionForValue(h.value),d=this._gauge._computeBoundingBox(t).width,c=0,l=0,g=0;"horizontal"==this._gauge.orientation?(c=r,l=this._contentBox.y,g=90):(c=this._contentBox.x,l=r),t.setTransform([{dx:c,dy:l},i.matrix.rotateg(g)])}if(o=this.tickLabelFunc(h)){var x=i._base._getTextBox(o,{font:i.makeFontString(i.makeParameters(i.defaultFont,e))}),u=x.w,_=x.h,p="start",B=c,f=l;"horizontal"==this._gauge.orientation?(B=c,f="trailing"==this.labelPosition?l+d+this.labelGap+_:l-this.labelGap,p="middle"):(B="trailing"==this.labelPosition?c+d+this.labelGap:c-this.labelGap-u,f=l+_/2);var m=this._ticksGroup.createText({x:B,y:f,text:o,align:p});m.setFill(e.color?e.color:"black"),m.setFont(e)}}for(var v in this._indicatorsIndex)this._indicatorsRenderers[v]=this._indicatorsIndex[v].invalidateRendering()}}})});
//# sourceMappingURL=../sourcemaps/dgauges/RectangularScale.js.map
