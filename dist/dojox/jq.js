/**
 * dojox - A version of dojox.js framework that ported to running on skylarkjs.
 * @author Hudaokeji, Inc.
 * @version v0.9.0
 * @link https://github.com/skylark-integration/dojox/
 * @license MIT
 */
dojo.provide("dojox.jq"),dojo.require("dojo.NodeList-traverse"),dojo.require("dojo.NodeList-manipulate"),dojo.require("dojo.io.script"),function(){dojo.config.ioPublish=!0;var t="|img|meta|hr|br|input|";function o(t){var o=t.indexOf("-");return-1!=o&&(0==o&&(t=t.substring(1)),t=t.replace(/-(\w)/g,function(t,o){return o.toUpperCase()})),t}var e=dojo.global.$,n=dojo.global.jQuery,r=dojo.global.$=dojo.global.jQuery=function(){var o,e,n=arguments[0];if(!n)return r._wrap([],null,r);if(dojo.isString(n)){if("<"!=n.charAt(0)){var i=dojo._NodeListCtor;dojo._NodeListCtor=r;var a=arguments[1];a&&a._is$?a=a[0]:dojo.isString(a)&&(a=dojo.query(a)[0]);var s=dojo.query.call(this,n,a);return dojo._NodeListCtor=i,s}if(o=n,o=(o+="").replace(/<\s*(\w+)([^\/\>]*)\/\s*>/g,function(o,e,n){return-1==t.indexOf("|"+e+"|")?"<"+e+n+"></"+e+">":o}),11!=(n=dojo._toDom(o,e)).nodeType)return r._wrap([n],null,r);n=n.childNodes}else{if(dojo.isFunction(n))return r.ready(n),r;if(n==document||n==window)return r._wrap([n],null,r);if(dojo.isArray(n)){for(var d=[],u=0;u<n.length;u++)-1==dojo.indexOf(d,n[u])&&d.push(n[u]);return r._wrap(n,null,r)}if("nodeType"in n)return r._wrap([n],null,r)}return r._wrap(dojo._toArray(n),null,r)},i=dojo.NodeList.prototype,a=r.fn=r.prototype=dojo.delegate(i);r._wrap=dojo.NodeList._wrap;var s=/^H\d/i,d=dojo.query.pseudos;dojo.mixin(d,{has:function(t,o){return function(t){return r(o,t).length}},visible:function(t,o){return function(t){return"hidden"!=dojo.style(t,"visible")&&"none"!=dojo.style(t,"display")}},hidden:function(t,o){return function(t){return"hidden"==t.type||"hidden"==dojo.style(t,"visible")||"none"==dojo.style(t,"display")}},selected:function(t,o){return function(t){return t.selected}},checked:function(t,o){return function(t){return"INPUT"==t.nodeName.toUpperCase()&&t.checked}},disabled:function(t,o){return function(t){return t.getAttribute("disabled")}},enabled:function(t,o){return function(t){return!t.getAttribute("disabled")}},input:function(t,o){return function(t){var o=t.nodeName.toUpperCase();return"INPUT"==o||"SELECT"==o||"TEXTAREA"==o||"BUTTON"==o}},button:function(t,o){return function(t){return"INPUT"==t.nodeName.toUpperCase()&&"button"==t.type||"BUTTON"==t.nodeName.toUpperCase()}},header:function(t,o){return function(t){return t.nodeName.match(s)}}});var u={};dojo.forEach(["text","password","radio","checkbox","submit","image","reset","file"],function(t){u[t]=function(o,e){return function(o){return"INPUT"==o.nodeName.toUpperCase()&&o.type==t}}}),dojo.mixin(d,u),r.browser={mozilla:dojo.isMoz,msie:dojo.isIE,opera:dojo.isOpera,safari:dojo.isSafari},r.browser.version=dojo.isIE||dojo.isMoz||dojo.isOpera||dojo.isSafari||dojo.isWebKit,r.ready=r.fn.ready=function(t){return dojo.addOnLoad(dojo.hitch(null,t,r)),this},a._is$=!0,a.size=function(){return this.length},r.prop=function(t,o){return dojo.isFunction(o)?o.call(t):o},r.className={add:dojo.addClass,remove:dojo.removeClass,has:dojo.hasClass},r.makeArray=function(t){return void 0===t?[]:!t.length||dojo.isString(t)||"location"in t?[t]:dojo._toArray(t)},r.merge=function(t,o){var e=[t.length,0];return e=e.concat(o),t.splice.apply(t,e),t},r.each=function(t,o){if(dojo.isArrayLike(t))for(var e=0;e<t.length&&!1!==o.call(t[e],e,t[e]);e++);else if(dojo.isObject(t))for(var n in t)if(!1===o.call(t[n],n,t[n]))break;return this},a.each=function(t){return r.each.call(this,this,t)},a.eq=function(){var t=r();return dojo.forEach(arguments,function(o){this[o]&&t.push(this[o])},this),t},a.get=function(t){return t||0==t?this[t]:this},a.index=function(t){return t._is$&&(t=t[0]),this.indexOf(t)};var c=[],f=0,l=dojo._scopeName+"DataId",h=function(t){var o={};if(1==t.nodeType){var e=function(t){var o=t.getAttribute(l);o||(o=f++,t.setAttribute(l,o))}(t);(o=c[e])||(o=c[e]={})}return o};function p(t,o){if(t==o)return t;var e={};for(var n in o)void 0!==e[n]&&e[n]==o[n]||void 0===o[n]||t==o[n]||(dojo.isObject(t[n])&&dojo.isObject(o[n])?dojo.isArray(o[n])?t[n]=o[n]:t[n]=p(t[n],o[n]):t[n]=o[n]);if(dojo.isIE&&o){var r=o.toString;"function"==typeof r&&r!=t.toString&&r!=e.toString&&"\nfunction toString() {\n    [native code]\n}\n"!=r&&(t.toString=o.toString)}return t}function j(t,o,e,n){if(n){var r={};return r[e]=n,t.forEach(function(t){dojo[o](t,r)}),t}return Math.abs(Math.round(dojo[o](t[0])[e]))}function v(t,o,e,n,r){var i;(i="none"==t.style.display)&&(t.style.display="block");var a=dojo.getComputedStyle(t),s=Math.abs(Math.round(dojo._getContentBox(t,a)[o])),d=e?Math.abs(Math.round(dojo._getPadExtents(t,a)[o])):0,u=n?Math.abs(Math.round(dojo._getBorderExtents(t,a)[o])):0,c=r?Math.abs(Math.round(dojo._getMarginExtents(t,a)[o])):0;return i&&(t.style.display="none"),d+s+u+c}r.data=function(t,o,e){var n=null;if("events"==o){var r=!0;if(n=y[t.getAttribute(b)])for(var i in n){r=!1;break}return r?null:n}var a=h(t);return void 0!==e?a[o]=e:n=a[o],e?this:n},r.removeData=function(t,o){var e=h(t);if(delete e[o],1==t.nodeType){var n=!0;for(var r in e){n=!1;break}n&&t.removeAttribute(l)}return this},a.data=function(t,o){var e=null;return this.forEach(function(n){e=r.data(n,t,o)}),o?this:e},a.removeData=function(t){return this.forEach(function(o){r.removeData(o,t)}),this},a.extend=function(){var t=[this];return t=t.concat(arguments),r.extend.apply(r,t)},r.extend=function(){for(var t,o=arguments,e=0;e<o.length;e++){var n=o[e];n&&dojo.isObject(n)&&(t?p(t,n):t=n)}return t},r.noConflict=function(t){var o=r;return dojo.global.$=e,t&&(dojo.global.jQuery=n),o},a.attr=function(t,o){if(1==arguments.length&&dojo.isString(arguments[0])){var e=this[0];if(!e)return null;var n=arguments[0],r=dojo.attr(e,n),i=e[n];return n in e&&!dojo.isObject(i)&&"href"!=t?i:r||i}if(dojo.isObject(t)){for(var a in t)this.attr(a,t[a]);return this}var s=dojo.isFunction(o);return this.forEach(function(e,n){var r=e[t];t in e&&!dojo.isObject(r)&&"href"!=t?e[t]=s?o.call(e,n):o:1==e.nodeType&&dojo.attr(e,t,s?o.call(e,n):o)}),this},a.removeAttr=function(t){return this.forEach(function(o,e){var n=o[t];t in o&&!dojo.isObject(n)&&"href"!=t?delete o[t]:1==o.nodeType&&("class"==t?o.removeAttribute(t):dojo.removeAttr(o,t))}),this},a.toggleClass=function(t,o){var e=arguments.length>1;return this.forEach(function(n){dojo.toggleClass(n,t,e?o:!dojo.hasClass(n,t))}),this},a.toggle=function(){var t=arguments;if(arguments.length>1&&dojo.isFunction(arguments[0])){var o=0;return this.bind("click",function(){t[o].apply(this,arguments);(o+=1)>t.length-1&&(o=0)})}var e=1==arguments.length?arguments[0]:void 0;return this.forEach(function(o){var n=(void 0===e?"none"==dojo.style(o,"display"):e)?"show":"hide",i=r(o);i[n].apply(i,t)}),this},a.hasClass=function(t){return this.some(function(o){return dojo.hasClass(o,t)})},a.html=a.innerHTML,dojo.forEach(["filter","slice"],function(t){a[t]=function(){if(dojo.isFunction(arguments[0])){var o=arguments[0];arguments[0]=function(t,e){return o.call(t,t,e)}}if("filter"==t&&dojo.isString(arguments[0]))var e=this._filterQueryResult(this,arguments[0]);else{var n=dojo._NodeListCtor;dojo._NodeListCtor=a,e=r(i[t].apply(this,arguments)),dojo._NodeListCtor=n}return e._stash(this)}}),a.map=function(t){return this._buildArrayFromCallback(t)},r.map=function(t,o){return a._buildArrayFromCallback.call(t,o)},r.inArray=function(t,o){return dojo.indexOf(o,t)},a.is=function(t){return!!t&&!!this.filter(t).length},a.not=function(){var t=r.apply(r,arguments);return r(i.filter.call(this,function(o){return-1==t.indexOf(o)}))._stash(this)},a.add=function(){return this.concat.apply(this,arguments)},a.contents=function(){var t=[];return this.forEach(function(o){if("IFRAME"==o.nodeName.toUpperCase()){var e=(i=o).contentDocument||i.name&&i.document&&document.getElementsByTagName("iframe")[i.name].contentWindow&&document.getElementsByTagName("iframe")[i.name].contentWindow.document||i.name&&document.frames[i.name]&&document.frames[i.name].document||null;e&&t.push(e)}else for(var n=o.childNodes,r=0;r<n.length;r++)t.push(n[r]);var i}),this._wrap(t)._stash(this)},a.find=function(t){var o=[];return this.forEach(function(e){1==e.nodeType&&(o=o.concat(dojo._toArray(r(t,e))))}),this._getUniqueAsNodeList(o)._stash(this)},a.andSelf=function(){return this.add(this._parent)},a.remove=function(t){var o=t?this._filterQueryResult(this,t):this;return o.removeData(),o.forEach(function(t){t.parentNode.removeChild(t)}),this},r.css=function(t,e,n){return e=o(e),n?dojo.style(t,e,n):dojo.style(t,e)},a.css=function(t,e){if(dojo.isString(t))return t=o(t),2==arguments.length?(dojo.isString(e)||"zIndex"==t||(e+="px"),this.forEach(function(o){1==o.nodeType&&dojo.style(o,t,e)}),this):(e=dojo.style(this[0],t),dojo.isString(e)||"zIndex"==t||(e+="px"),e);for(var n in t)this.css(n,t[n]);return this},a.height=function(t){return j(this,"contentBox","h",t)},a.width=function(t){return j(this,"contentBox","w",t)},a.innerHeight=function(){return v(this[0],"h",!0)},a.innerWidth=function(){return v(this[0],"w",!0)},a.outerHeight=function(t){return v(this[0],"h",!0,!0,t)},a.outerWidth=function(t){return v(this[0],"w",!0,!0,t)};var g,y=[],m=1,b=dojo._scopeName+"eventid";function x(t){var o=(t=t.split("$$")[0]).indexOf(".");return-1!=o&&(t=t.substring(0,o)),t}function _(t,o){return 0==o.indexOf("ajax")?dojo.subscribe(k[o],function(e,n){var i=new r.Event(o);-1!="ajaxComplete|ajaxSend|ajaxSuccess".indexOf(o)?O(t,[i,e.ioArgs.xhr,e.ioArgs.args]):O(t,"ajaxError"==o?[i,e.ioArgs.xhr,e.ioArgs.args,n]:[i])}):dojo.connect(t,"on"+o,function(o){O(t,arguments)})}r.Event=function(t){if(this==r)return new r.Event(t);"string"==typeof t?this.type=t.replace(/!/,""):dojo.mixin(this,t),this.timeStamp=(new Date).getTime(),this._isFake=!0,this._isStrict=-1!=this.type.indexOf("!")};var T=r.Event.prototype={preventDefault:function(){this.isDefaultPrevented=this._true},stopPropagation:function(){this.isPropagationStopped=this._true},stopImmediatePropagation:function(){this.isPropagationStopped=this._true,this.isImmediatePropagationStopped=this._true},_true:function(){return!0},_false:function(){return!1}};function E(t,o){var e=(t=[].concat(t=t||[]))[0];return e&&e.preventDefault||(e=o&&o.preventDefault?o:new r.Event(o),t.unshift(e)),t}dojo.mixin(T,{isPropagationStopped:T._false,isImmediatePropagationStopped:T._false,isDefaultPrevented:T._false});var S=!1;function O(t,o,e){S=!0,o=o||g,e=e,9==t.nodeType&&(t=t.documentElement);var n=t.getAttribute(b);if(n){var r,i=o[0],a=i.type,s=x(a),d=y[n][s];if(e&&(r=e.apply(t,o)),!1!==r)for(var u in d)if("_connectId"!=u&&(!i._isStrict&&0==u.indexOf(a)||i._isStrict&&u==a)){i[dojo._scopeName+"callbackId"]=u;var c=d[u];void 0!==c.data?i.data=c.data:i.data=null,!1!==(r=c.fn.apply(i.target,o))||i._isFake||dojo.stopEvent(i),i.result=r}return r}}a.triggerHandler=function(t,o,e){var n=this[0];return n&&3!=n.nodeType&&8!=n.nodeType?O(n,o=E(o,t),e):void 0},a.trigger=function(t,o,e){var n=(o=E(o,t))[0];t=x(n.type);g=o,currentExtraFunc=e;var i=null,a=!n.target;return this.forEach(function(s){if(3!=s.nodeType&&8!=s.nodeType){if(9==s.nodeType&&(s=s.documentElement),n._isFake&&(n.currentTarget=s,a&&(n.target=s)),e){var d=o.slice(1);i=e.apply(s,i=d.concat(i))}if(!1!==i){if(S=!1,s[t])try{i=s[t]()}catch(t){}else if(s["on"+t])try{i=s["on"+t]()}catch(t){}S||(i=O(s,o));var u=s.parentNode;!1===i||n.isImmediatePropagationStopped()||n.isPropagationStopped()||!u||1!=u.nodeType||r(u).trigger(t,o,e)}}}),g=null,currentExtraFunc=null,this};var A=0;function w(t,o){var e=o.getAttribute(b),n=y[e];if(n){var r=r=m++;o.setAttribute(b,r);var i=y[r]={};for(var a in n){var s=i[a]={_connectId:_(o,a)},d=n[a];for(var u in d)s[u]={fn:d[u].fn,data:d[u].data}}}}function N(t,o,e,n,r){var i=t[o];if(i){var a=-1!=e.indexOf("."),s=!1;if(n)delete i[n];else if(a||r){if(a)if("."==e.charAt(0))for(var d in i)d.indexOf(e)==d.length-e.length&&delete i[d];else delete i[e];else for(var d in i)if(-1!=d.indexOf("$$")&&i[d].fn==r){delete i[d];break}}else s=!0;var u=!0;for(var d in i)if("_connectId"!=d){u=!1;break}(s||u)&&(-1!=o.indexOf("ajax")?dojo.unsubscribe(i._connectId):dojo.disconnect(i._connectId),delete t[o])}}function C(t){return dojo.isString(t)&&(t="slow"==t?700:"fast"==t?300:500),t}a.bind=function(t,o,e){return t=t.split(" "),e||(e=o,o=null),this.forEach(function(n){if(3!=n.nodeType&&8!=n.nodeType){9==n.nodeType&&(n=n.documentElement);var r=n.getAttribute(b);r||(r=m++,n.setAttribute(b,r),y[r]={});for(var i=0;i<t.length;i++){var a=t[i],s=x(a);s==a&&(a=s+"$$"+A++);var d=y[r];d[s]||(d[s]={_connectId:_(n,s)}),d[s][a]={fn:e,data:o}}}}),this},a.unbind=function(t,o){var e=t?t[dojo._scopeName+"callbackId"]:null;return t=(t=t&&t.type?t.type:t)?t.split(" "):t,this.forEach(function(n){if(3!=n.nodeType&&8!=n.nodeType){9==n.nodeType&&(n=n.documentElement);var r=n.getAttribute(b);if(r){var i=y[r];if(i){var a=t;if(!a)for(var s in a=[],i)a.push(s);for(var d=0;d<a.length;d++){var u=a[d],c=x(u);if("."==u.charAt(0))for(var s in i)N(i,s,u,e,o);else N(i,c,u,e,o)}}}}}),this},a.one=function(t,o){return this.bind(t,function(){return r(this).unbind(t,arguments.callee),o.apply(this,arguments)})},a._cloneNode=function(t){var o=t.cloneNode(!0);if(1==t.nodeType)for(var e,n=dojo.query("["+b+"]",o),r=0;e=n[r];r++){var i=dojo.query("["+b+'="'+e.getAttribute(b)+'"]',t)[0];i&&w(0,e)}return o},dojo.getObject("$.event.global",!0),dojo.forEach(["blur","focus","dblclick","click","error","keydown","keypress","keyup","load","mousedown","mouseenter","mouseleave","mousemove","mouseout","mouseover","mouseup","submit","ajaxStart","ajaxSend","ajaxSuccess","ajaxError","ajaxComplete","ajaxStop"],function(t){a[t]=function(o){return o?this.bind(t,o):this.trigger(t),this}}),a.hide=function(t,o){return t=C(t),this.forEach(function(e){var n=e.style;"none"!=dojo.getComputedStyle(e).display&&(n.overflow="hidden",n.display="block",t?dojo.anim(e,{width:0,height:0,opacity:0},t,null,function(){return n.width="",n.height="",n.display="none",o&&o.call(e)}):(dojo.style(e,"display","none"),o&&o.call(e)))}),this},a.show=function(t,o){return t=C(t),this.forEach(function(e){var n=e.style;if("none"==dojo.getComputedStyle(e).display)if(t){var r=parseFloat(n.width),i=parseFloat(n.height);if(!r||!i){n.display="block";var a=dojo.marginBox(e);r=a.w,i=a.h}n.width=0,n.height=0,n.overflow="hidden",dojo.attr(e,"opacity",0),n.display="block",dojo.anim(e,{width:r,height:i,opacity:1},t,null,o?dojo.hitch(e,o):void 0)}else dojo.style(e,"display","block"),o&&o.call(e)}),this},r.ajaxSettings={},r.ajaxSetup=function(t){dojo.mixin(r.ajaxSettings,t)};var k={ajaxStart:"/dojo/io/start",ajaxSend:"/dojo/io/send",ajaxSuccess:"/dojo/io/load",ajaxError:"/dojo/io/error",ajaxComplete:"/dojo/io/done",ajaxStop:"/dojo/io/stop"};for(var I in k)0==I.indexOf("ajax")&&function(t){a[t]=function(o){return this.forEach(function(e){dojo.subscribe(k[t],function(){var n=new r.Event(t),i=arguments[0]&&arguments[0].ioArgs,a=i&&i.xhr,s=i&&i.args,d=arguments[1];return-1!="ajaxComplete|ajaxSend|ajaxSuccess".indexOf(t)?o.call(e,n,a,s):"ajaxError"==t?o.call(e,n,a,s,d):o.call(e,n)})}),this}}(I);var F=dojo._xhrObj;function P(t){for(var o in t)if(o.indexOf("callback")==o.length-8)return o;return null}dojo._xhrObj=function(t){var o=F.apply(dojo,arguments);return(!t||!t.beforeSend||!1!==t.beforeSend(o))&&o},r.ajax=function(t){var o=dojo.delegate(r.ajaxSettings);for(var e in t)if("data"==e&&dojo.isObject(t[e])&&dojo.isObject(o.data))for(var n in t[e])o.data[n]=t[e][n];else o[e]=t[e];var i=(t=o).url;if("async"in t&&(t.sync=!t.async),!1===t.global&&(t.ioPublish=!1),t.data){var a=t.data;if(dojo.isString(a))t.content=dojo.queryToObject(a);else{for(var e in a)dojo.isFunction(a[e])&&(a[e]=a[e]());t.content=a}}var s=t.dataType;"dataType"in t?("script"==s?s="javascript":"html"==s&&(s="text"),t.handleAs=s):(s=t.handleAs="text",t.guessedType=!0),"cache"in t?t.preventCache=!t.cache:"script"!=t.dataType&&"jsonp"!=t.dataType||(t.preventCache=!0),t.error&&(t._jqueryError=t.error,delete t.error),t.handle=function(o,e){var n="success";if(o instanceof Error)n="timeout"==o.dojoType?"timeout":"error",t._jqueryError&&t._jqueryError(e.xhr,n,o);else{var r=e.args.guessedType&&e.xhr&&e.xhr.responseXML;r&&(o=r),t.success&&t.success(o,n,e.xhr)}return t.complete&&t.complete(o,n,e.xhr),o};var d="jsonp"==s;if("javascript"==s){var u=i.indexOf(":"),c=i.indexOf("/");if(u>0&&u<c){var f=i.indexOf("/",c+2);-1==f&&(f=i.length),location.protocol==i.substring(0,u+1)&&location.hostname==i.substring(c+2,f)||(d=!0)}}if(d){if("jsonp"==s){var l=t.jsonp;if(!l){var h=t.url.split("?")[1];if(h&&(h=dojo.queryToObject(h))&&(l=P(h))){var p=new RegExp("([&\\?])?"+l+"=?");t.url=t.url.replace(p+"=?")}l||(l=P(t.content))&&delete t.content[l]}t.jsonp=l||"callback"}var j;return j=dojo.io.script.get(t)}return!1!==(j=dojo.xhr(t.type||"GET",t)).ioArgs.xhr&&j.ioArgs.xhr},r.getpost=function(t,o,e,n,i){var a={url:o,type:t};return e&&(dojo.isFunction(e)&&!n?a.complete=e:a.data=e),n&&(dojo.isString(n)&&!i?i=n:a.complete=n),i&&(a.dataType=i),r.ajax(a)},r.get=dojo.hitch(r,"getpost","GET"),r.post=dojo.hitch(r,"getpost","POST"),r.getJSON=function(t,o,e){return r.getpost("GET",t,o,e,"json")},r.getScript=function(t,o){return r.ajax({url:t,success:o,dataType:"script"})},a.load=function(t,o,e){var n=this[0];if(!n||!n.nodeType||9==n.nodeType)return dojo.addOnLoad(t),this;var i=t.split(/\s+/);t=i[0];var a=i[1],s=e||o,d=dojo.hitch(this,function(t,o,e){var n=t.match(/\<\s*body[^>]+>.*<\/body\s*>/i);n&&(t=n);var i=dojo._toDom(t);if(a){var d=r(dojo.create("div"));d.append(i),i=d.find(a)}else i=r(11==i.nodeType?i.childNodes:i);this.html(i),s&&setTimeout(dojo.hitch(this,function(){this.forEach(function(n){s.call(n,t,o,e)})}),10)});e?e=d:o=d;var u="GET";return o&&dojo.isObject(o)&&(u="POST"),r.getpost(u,t,o,e,"html"),this};a.serialize=function(){return""+this.map(function(t){if("FORM"==t.nodeName.toUpperCase())return dojo.formToQuery(t);var o=(t.type||"").toLowerCase();if(-1=="file|submit|image|reset|button|".indexOf(o)){var e=dojo.fieldToObject(t);if(t.name&&null!=e){var n={};return n[t.name]=e,dojo.objectToQuery(n)}}}).join("&")},r.param=function(t){return t._is$&&t.serialize?t.serialize():dojo.isArray(t)?dojo.map(t,function(t){return r.param(t)}).join("&"):dojo.objectToQuery(t)},r.isFunction=function(){var t=dojo.isFunction.apply(dojo,arguments);return t&&(t="object"!=typeof arguments[0]),t}}();
//# sourceMappingURL=sourcemaps/jq.js.map
